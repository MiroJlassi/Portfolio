var jb=Object.defineProperty,Ub=Object.defineProperties;var Vb=Object.getOwnPropertyDescriptors;var _s=Object.getOwnPropertySymbols;var og=Object.prototype.hasOwnProperty,sg=Object.prototype.propertyIsEnumerable;var ig=(t,e,n)=>e in t?jb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,E=(t,e)=>{for(var n in e||={})og.call(e,n)&&ig(t,n,e[n]);if(_s)for(var n of _s(e))sg.call(e,n)&&ig(t,n,e[n]);return t},le=(t,e)=>Ub(t,Vb(e));var ag=(t,e)=>{var n={};for(var r in t)og.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&_s)for(var r of _s(t))e.indexOf(r)<0&&sg.call(t,r)&&(n[r]=t[r]);return n};var I=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});var cg=null;var Cl=1,lg=Symbol("SIGNAL");function Z(t){let e=cg;return cg=t,e}var ug={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Bb(t){if(!(Sl(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Cl)){if(!t.producerMustRecompute(t)&&!Dl(t)){t.dirty=!1,t.lastCleanEpoch=Cl;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Cl}}function dg(t){return t&&(t.nextProducerIndex=0),Z(t)}function fg(t,e){if(Z(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Sl(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Tl(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Dl(t){Is(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(Bb(n),r!==n.version))return!0}return!1}function hg(t){if(Is(t),Sl(t))for(let e=0;e<t.producerNode.length;e++)Tl(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Tl(t,e){if($b(t),Is(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Tl(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Is(i),i.producerIndexOfThis[r]=e}}function Sl(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Is(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function $b(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Hb(){throw new Error}var Wb=Hb;function pg(t){Wb=t}function P(t){return typeof t=="function"}function vr(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ws=vr(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Nn(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var he=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(P(r))try{r()}catch(o){e=o instanceof ws?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{gg(o)}catch(s){e=e??[],s instanceof ws?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ws(e)}}add(e){var n;if(e&&e!==this)if(this.closed)gg(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Nn(n,e)}remove(e){let{_finalizers:n}=this;n&&Nn(n,e),e instanceof t&&e._removeParent(this)}};he.EMPTY=(()=>{let t=new he;return t.closed=!0,t})();var Al=he.EMPTY;function Es(t){return t instanceof he||t&&"closed"in t&&P(t.remove)&&P(t.add)&&P(t.unsubscribe)}function gg(t){P(t)?t():t.unsubscribe()}var pt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var yr={setTimeout(t,e,...n){let{delegate:r}=yr;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=yr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function bs(t){yr.setTimeout(()=>{let{onUnhandledError:e}=pt;if(e)e(t);else throw t})}function Ti(){}var mg=Ml("C",void 0,void 0);function vg(t){return Ml("E",void 0,t)}function yg(t){return Ml("N",t,void 0)}function Ml(t,e,n){return{kind:t,value:e,error:n}}var Rn=null;function _r(t){if(pt.useDeprecatedSynchronousErrorHandling){let e=!Rn;if(e&&(Rn={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Rn;if(Rn=null,n)throw r}}else t()}function _g(t){pt.useDeprecatedSynchronousErrorHandling&&Rn&&(Rn.errorThrown=!0,Rn.error=t)}var On=class extends he{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Es(e)&&e.add(this)):this.destination=qb}static create(e,n,r){return new Ir(e,n,r)}next(e){this.isStopped?Nl(yg(e),this):this._next(e)}error(e){this.isStopped?Nl(vg(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Nl(mg,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},zb=Function.prototype.bind;function xl(t,e){return zb.call(t,e)}var Rl=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Cs(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Cs(r)}else Cs(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Cs(n)}}},Ir=class extends On{constructor(e,n,r){super();let i;if(P(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&pt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&xl(e.next,o),error:e.error&&xl(e.error,o),complete:e.complete&&xl(e.complete,o)}):i=e}this.destination=new Rl(i)}};function Cs(t){pt.useDeprecatedSynchronousErrorHandling?_g(t):bs(t)}function Gb(t){throw t}function Nl(t,e){let{onStoppedNotification:n}=pt;n&&yr.setTimeout(()=>n(t,e))}var qb={closed:!0,next:Ti,error:Gb,complete:Ti};var wr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ge(t){return t}function Ol(...t){return Pl(t)}function Pl(t){return t.length===0?Ge:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var Y=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=Yb(n)?n:new Ir(n,r,i);return _r(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=Ig(r),new r((i,o)=>{let s=new Ir({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[wr](){return this}pipe(...n){return Pl(n)(this)}toPromise(n){return n=Ig(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function Ig(t){var e;return(e=t??pt.Promise)!==null&&e!==void 0?e:Promise}function Kb(t){return t&&P(t.next)&&P(t.error)&&P(t.complete)}function Yb(t){return t&&t instanceof On||Kb(t)&&Es(t)}function kl(t){return P(t?.lift)}function G(t){return e=>{if(kl(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function q(t,e,n,r,i){return new Ll(t,e,n,r,i)}var Ll=class extends On{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Er(){return G((t,e)=>{let n=null;t._refCount++;let r=q(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var br=class extends Y{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,kl(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new he;let n=this.getSubject();e.add(this.source.subscribe(q(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=he.EMPTY)}return e}refCount(){return Er()(this)}};var wg=vr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Re=(()=>{class t extends Y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Ds(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new wg}next(n){_r(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){_r(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){_r(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Al:(this.currentObservers=null,o.push(n),new he(()=>{this.currentObservers=null,Nn(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new Y;return n.source=this,n}}return t.create=(e,n)=>new Ds(e,n),t})(),Ds=class extends Re{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Al}};var Ie=class extends Re{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Fl={now(){return(Fl.delegate||Date).now()},delegate:void 0};var Ts=class extends he{constructor(e,n){super()}schedule(e,n=0){return this}};var Si={setInterval(t,e,...n){let{delegate:r}=Si;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Si;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Cr=class extends Ts{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Si.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Si.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Nn(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Dr=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Dr.now=Fl.now;var Tr=class extends Dr{constructor(e,n=Dr.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var jl=new Tr(Cr);var Ss=class extends Cr{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var As=class extends Tr{};var Ul=new As(Ss);var qe=new Y(t=>t.complete());function Eg(t){return t&&P(t.schedule)}function bg(t){return t[t.length-1]}function Cg(t){return P(bg(t))?t.pop():void 0}function an(t){return Eg(bg(t))?t.pop():void 0}function Vl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Tg(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function Dg(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Pn(t){return this instanceof Pn?(this.v=t,this):new Pn(t)}function Sg(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(p){return Promise.resolve(p).then(h,d)}}function a(h,p){r[h]&&(i[h]=function(w){return new Promise(function(k,U){o.push([h,w,k,U])>1||c(h,w)})},p&&(i[h]=p(i[h])))}function c(h,p){try{l(r[h](p))}catch(w){f(o[0][3],w)}}function l(h){h.value instanceof Pn?Promise.resolve(h.value.v).then(u,d):f(o[0][2],h)}function u(h){c("next",h)}function d(h){c("throw",h)}function f(h,p){h(p),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Ag(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Dg=="function"?Dg(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Ms=t=>t&&typeof t.length=="number"&&typeof t!="function";function xs(t){return P(t?.then)}function Ns(t){return P(t[wr])}function Rs(t){return Symbol.asyncIterator&&P(t?.[Symbol.asyncIterator])}function Os(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Qb(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ps=Qb();function ks(t){return P(t?.[Ps])}function Ls(t){return Sg(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Pn(n.read());if(i)return yield Pn(void 0);yield yield Pn(r)}}finally{n.releaseLock()}})}function Fs(t){return P(t?.getReader)}function be(t){if(t instanceof Y)return t;if(t!=null){if(Ns(t))return Jb(t);if(Ms(t))return Zb(t);if(xs(t))return Xb(t);if(Rs(t))return Mg(t);if(ks(t))return eC(t);if(Fs(t))return tC(t)}throw Os(t)}function Jb(t){return new Y(e=>{let n=t[wr]();if(P(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Zb(t){return new Y(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Xb(t){return new Y(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,bs)})}function eC(t){return new Y(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Mg(t){return new Y(e=>{nC(t,e).catch(n=>e.error(n))})}function tC(t){return Mg(Ls(t))}function nC(t,e){var n,r,i,o;return Tg(this,void 0,void 0,function*(){try{for(n=Ag(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function je(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function cn(t,e=0){return G((n,r)=>{n.subscribe(q(r,i=>je(r,t,()=>r.next(i),e),()=>je(r,t,()=>r.complete(),e),i=>je(r,t,()=>r.error(i),e)))})}function ln(t,e=0){return G((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function xg(t,e){return be(t).pipe(ln(e),cn(e))}function Ng(t,e){return be(t).pipe(ln(e),cn(e))}function Rg(t,e){return new Y(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Og(t,e){return new Y(n=>{let r;return je(n,e,()=>{r=t[Ps](),je(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>P(r?.return)&&r.return()})}function js(t,e){if(!t)throw new Error("Iterable cannot be null");return new Y(n=>{je(n,e,()=>{let r=t[Symbol.asyncIterator]();je(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Pg(t,e){return js(Ls(t),e)}function kg(t,e){if(t!=null){if(Ns(t))return xg(t,e);if(Ms(t))return Rg(t,e);if(xs(t))return Ng(t,e);if(Rs(t))return js(t,e);if(ks(t))return Og(t,e);if(Fs(t))return Pg(t,e)}throw Os(t)}function ue(t,e){return e?kg(t,e):be(t)}function R(...t){let e=an(t);return ue(t,e)}function Sr(t,e){let n=P(t)?t:()=>t,r=i=>i.error(n());return new Y(e?i=>e.schedule(r,0,i):r)}function Bl(t){return!!t&&(t instanceof Y||P(t.lift)&&P(t.subscribe))}var zt=vr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function z(t,e){return G((n,r)=>{let i=0;n.subscribe(q(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:rC}=Array;function iC(t,e){return rC(e)?t(...e):t(e)}function Lg(t){return z(e=>iC(t,e))}var{isArray:oC}=Array,{getPrototypeOf:sC,prototype:aC,keys:cC}=Object;function Fg(t){if(t.length===1){let e=t[0];if(oC(e))return{args:e,keys:null};if(lC(e)){let n=cC(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function lC(t){return t&&typeof t=="object"&&sC(t)===aC}function jg(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Ai(...t){let e=an(t),n=Cg(t),{args:r,keys:i}=Fg(t);if(r.length===0)return ue([],e);let o=new Y(uC(r,e,i?s=>jg(i,s):Ge));return n?o.pipe(Lg(n)):o}function uC(t,e,n=Ge){return r=>{Ug(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)Ug(e,()=>{let l=ue(t[c],e),u=!1;l.subscribe(q(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Ug(t,e,n){t?je(n,t,e):e()}function Vg(t,e,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,f=()=>{d&&!c.length&&!l&&e.complete()},h=w=>l<r?p(w):c.push(w),p=w=>{o&&e.next(w),l++;let k=!1;be(n(w,u++)).subscribe(q(e,U=>{i?.(U),o?h(U):e.next(U)},()=>{k=!0},void 0,()=>{if(k)try{for(l--;c.length&&l<r;){let U=c.shift();s?je(e,s,()=>p(U)):p(U)}f()}catch(U){e.error(U)}}))};return t.subscribe(q(e,h,()=>{d=!0,f()})),()=>{a?.()}}function ye(t,e,n=1/0){return P(e)?ye((r,i)=>z((o,s)=>e(r,o,i,s))(be(t(r,i))),n):(typeof e=="number"&&(n=e),G((r,i)=>Vg(r,i,t,n)))}function Ar(t=1/0){return ye(Ge,t)}function Bg(){return Ar(1)}function Mr(...t){return Bg()(ue(t,an(t)))}function Us(t){return new Y(e=>{be(t()).subscribe(e)})}function Ke(t,e){return G((n,r)=>{let i=0;n.subscribe(q(r,o=>t.call(e,o,i++)&&r.next(o)))})}function un(t){return G((e,n)=>{let r=null,i=!1,o;r=e.subscribe(q(n,void 0,void 0,s=>{o=be(t(s,un(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function $g(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(q(s,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function dn(t,e){return P(e)?ye(t,e,1):ye(t,1)}function fn(t){return G((e,n)=>{let r=!1;e.subscribe(q(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Gt(t){return t<=0?()=>qe:G((e,n)=>{let r=0;e.subscribe(q(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function $l(t){return z(()=>t)}function Vs(t=dC){return G((e,n)=>{let r=!1;e.subscribe(q(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function dC(){return new zt}function xr(t){return G((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function gt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ke((i,o)=>t(i,o,r)):Ge,Gt(1),n?fn(e):Vs(()=>new zt))}function Nr(t){return t<=0?()=>qe:G((e,n)=>{let r=[];e.subscribe(q(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Hl(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ke((i,o)=>t(i,o,r)):Ge,Nr(1),n?fn(e):Vs(()=>new zt))}function Wl(t,e){return G($g(t,e,arguments.length>=2,!0))}function zl(...t){let e=an(t);return G((n,r)=>{(e?Mr(t,n,e):Mr(t,n)).subscribe(r)})}function Ye(t,e){return G((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(q(r,c=>{i?.unsubscribe();let l=0,u=o++;be(t(c,u)).subscribe(i=q(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Gl(t){return G((e,n)=>{be(t).subscribe(q(n,()=>n.complete(),Ti)),!n.closed&&e.subscribe(n)})}function pe(t,e,n){let r=P(t)||e||n?{next:t,error:e,complete:n}:t;return r?G((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(q(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ge}var Sm="https://g.co/ng/security#xss",D=class extends Error{constructor(e,n){super(Ea(e,n)),this.code=e}};function Ea(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function zi(t){return{toString:t}.toString()}var Bs="__parameters__";function fC(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Am(t,e,n){return zi(()=>{let r=fC(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(Bs)?c[Bs]:Object.defineProperty(c,Bs,{value:[]})[Bs];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Qe=globalThis;function oe(t){for(let e in t)if(t[e]===oe)return e;throw Error("Could not find renamed property on target object.")}function Ve(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Ve).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Hg(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var hC=oe({__forward_ref__:oe});function Mm(t){return t.__forward_ref__=Mm,t.toString=function(){return Ve(this())},t}function st(t){return xm(t)?t():t}function xm(t){return typeof t=="function"&&t.hasOwnProperty(hC)&&t.__forward_ref__===Mm}function C(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function et(t){return{providers:t.providers||[],imports:t.imports||[]}}function ba(t){return Wg(t,Rm)||Wg(t,Om)}function Nm(t){return ba(t)!==null}function Wg(t,e){return t.hasOwnProperty(e)?t[e]:null}function pC(t){let e=t&&(t[Rm]||t[Om]);return e||null}function zg(t){return t&&(t.hasOwnProperty(Gg)||t.hasOwnProperty(gC))?t[Gg]:null}var Rm=oe({\u0275prov:oe}),Gg=oe({\u0275inj:oe}),Om=oe({ngInjectableDef:oe}),gC=oe({ngInjectorDef:oe}),S=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=C({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Pm(t){return t&&!!t.\u0275providers}var mC=oe({\u0275cmp:oe}),vC=oe({\u0275dir:oe}),yC=oe({\u0275pipe:oe}),_C=oe({\u0275mod:oe}),Js=oe({\u0275fac:oe}),xi=oe({__NG_ELEMENT_ID__:oe}),qg=oe({__NG_ENV_ID__:oe});function Ku(t){return typeof t=="string"?t:t==null?"":String(t)}function IC(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ku(t)}function wC(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new D(-200,t)}function Yu(t,e){throw new D(-201,!1)}var V=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(V||{}),au;function km(){return au}function Ue(t){let e=au;return au=t,e}function Lm(t,e,n){let r=ba(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&V.Optional)return null;if(e!==void 0)return e;Yu(t,"Injector")}var EC={},Ri=EC,cu="__NG_DI_FLAG__",Zs="ngTempTokenPath",bC="ngTokenPath",CC=/\n/gm,DC="\u0275",Kg="__source",Lr;function TC(){return Lr}function hn(t){let e=Lr;return Lr=t,e}function SC(t,e=V.Default){if(Lr===void 0)throw new D(-203,!1);return Lr===null?Lm(t,void 0,e):Lr.get(t,e&V.Optional?null:void 0,e)}function N(t,e=V.Default){return(km()||SC)(st(t),e)}function y(t,e=V.Default){return N(t,Ca(e))}function Ca(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function lu(t){let e=[];for(let n=0;n<t.length;n++){let r=st(t[n]);if(Array.isArray(r)){if(r.length===0)throw new D(900,!1);let i,o=V.Default;for(let s=0;s<r.length;s++){let a=r[s],c=AC(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(N(i,o))}else e.push(N(r))}return e}function Fm(t,e){return t[cu]=e,t.prototype[cu]=e,t}function AC(t){return t[cu]}function MC(t,e,n,r){let i=t[Zs];throw e[Kg]&&i.unshift(e[Kg]),t.message=xC(`
`+t.message,i,n,r),t[bC]=i,t[Zs]=null,t}function xC(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==DC?t.slice(2):t;let i=Ve(e);if(Array.isArray(e))i=e.map(Ve).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Ve(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(CC,`
  `)}`}var lt=Fm(Am("Optional"),8);var Qu=Fm(Am("SkipSelf"),4);function Ln(t,e){let n=t.hasOwnProperty(Js);return n?t[Js]:null}function Ju(t,e){t.forEach(n=>Array.isArray(n)?Ju(n,e):e(n))}function jm(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Xs(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function NC(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function RC(t,e,n){let r=Gi(t,e);return r>=0?t[r|1]=n:(r=~r,NC(t,r,e,n)),r}function ql(t,e){let n=Gi(t,e);if(n>=0)return t[n|1]}function Gi(t,e){return OC(t,e,1)}function OC(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Oi={},at=[],Fn=new S(""),Um=new S("",-1),Vm=new S(""),ea=class{get(e,n=Ri){if(n===Ri){let r=new Error(`NullInjectorError: No provider for ${Ve(e)}!`);throw r.name="NullInjectorError",r}return n}},Bm=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Bm||{}),At=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(At||{}),mn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(mn||{});function PC(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function uu(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];LC(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function kC(t){return t===3||t===4||t===6}function LC(t){return t.charCodeAt(0)===64}function Zu(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Yg(t,n,i,null,e[++r]):Yg(t,n,i,null,null))}}return t}function Yg(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var $m="ng-template";function FC(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&PC(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Xu(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Xu(t){return t.type===4&&t.value!==$m}function jC(t,e,n){let r=t.type===4&&!n?$m:t.value;return e===r}function UC(t,e,n){let r=4,i=t.attrs,o=i!==null?$C(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!mt(r)&&!mt(c))return!1;if(s&&mt(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!jC(t,c,n)||c===""&&e.length===1){if(mt(r))return!1;s=!0}}else if(r&8){if(i===null||!FC(t,i,c,n)){if(mt(r))return!1;s=!0}}else{let l=e[++a],u=VC(c,i,Xu(t),n);if(u===-1){if(mt(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(mt(r))return!1;s=!0}}}}return mt(r)||s}function mt(t){return(t&1)===0}function VC(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return HC(e,t)}function BC(t,e,n=!1){for(let r=0;r<e.length;r++)if(UC(t,e[r],n))return!0;return!1}function $C(t){for(let e=0;e<t.length;e++){let n=t[e];if(kC(n))return e}return t.length}function HC(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Qg(t,e){return t?":not("+e.trim()+")":e}function WC(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!mt(s)&&(e+=Qg(o,i),i=""),r=s,o=o||!mt(r);n++}return i!==""&&(e+=Qg(o,i)),e}function zC(t){return t.map(WC).join(",")}function GC(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!mt(i))break;i=o}r++}return{attrs:e,classes:n}}function ve(t){return zi(()=>{let e=qm(t),n=le(E({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Bm.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||At.Emulated,styles:t.styles||at,_:null,schemas:t.schemas||null,tView:null,id:""});Km(n);let r=t.dependencies;return n.directiveDefs=Zg(r,!1),n.pipeDefs=Zg(r,!0),n.id=YC(n),n})}function qC(t){return vn(t)||Hm(t)}function KC(t){return t!==null}function tt(t){return zi(()=>({type:t.type,bootstrap:t.bootstrap||at,declarations:t.declarations||at,imports:t.imports||at,exports:t.exports||at,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Jg(t,e){if(t==null)return Oi;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=mn.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==mn.None?[r,a]:r,e[o]=s):n[o]=r}return n}function qi(t){return zi(()=>{let e=qm(t);return Km(e),e})}function Da(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function vn(t){return t[mC]||null}function Hm(t){return t[vC]||null}function Wm(t){return t[yC]||null}function zm(t){let e=vn(t)||Hm(t)||Wm(t);return e!==null?e.standalone:!1}function Gm(t,e){let n=t[_C]||null;if(!n&&e===!0)throw new Error(`Type ${Ve(t)} does not have '\u0275mod' property.`);return n}function qm(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Oi,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||at,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Jg(t.inputs,e),outputs:Jg(t.outputs),debugInfo:null}}function Km(t){t.features?.forEach(e=>e(t))}function Zg(t,e){if(!t)return null;let n=e?Wm:qC;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(KC)}function YC(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Qt(t){return{\u0275providers:t}}function QC(...t){return{\u0275providers:Ym(!0,t),\u0275fromNgModule:!0}}function Ym(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Ju(e,s=>{let a=s;du(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Qm(i,o),n}function Qm(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];ed(i,o=>{e(o,r)})}}function du(t,e,n,r){if(t=st(t),!t)return!1;let i=null,o=zg(t),s=!o&&vn(t);if(!o&&!s){let c=t.ngModule;if(o=zg(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)du(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Ju(o.imports,u=>{du(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&Qm(l,e)}if(!a){let l=Ln(i)||(()=>new i);e({provide:i,useFactory:l,deps:at},i),e({provide:Vm,useValue:i,multi:!0},i),e({provide:Fn,useValue:()=>N(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;ed(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function ed(t,e){for(let n of t)Pm(n)&&(n=n.\u0275providers),Array.isArray(n)?ed(n,e):e(n)}var JC=oe({provide:String,useValue:oe});function Jm(t){return t!==null&&typeof t=="object"&&JC in t}function ZC(t){return!!(t&&t.useExisting)}function XC(t){return!!(t&&t.useFactory)}function fu(t){return typeof t=="function"}var Ta=new S(""),Gs={},e0={},Kl;function td(){return Kl===void 0&&(Kl=new ea),Kl}var Ze=class{},Pi=class extends Ze{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,pu(e,s=>this.processProvider(s)),this.records.set(Um,Rr(void 0,this)),i.has("environment")&&this.records.set(Ze,Rr(void 0,this));let o=this.records.get(Ta);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Vm,at,V.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Z(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Z(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=hn(this),r=Ue(void 0),i;try{return e()}finally{hn(n),Ue(r)}}get(e,n=Ri,r=V.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(qg))return e[qg](this);r=Ca(r);let i,o=hn(this),s=Ue(void 0);try{if(!(r&V.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=s0(e)&&ba(e);l&&this.injectableDefInScope(l)?c=Rr(hu(e),Gs):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&V.Self?td():this.parent;return n=r&V.Optional&&n===Ri?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Zs]=a[Zs]||[]).unshift(Ve(e)),o)throw a;return MC(a,e,"R3InjectorError",this.source)}else throw a}finally{Ue(s),hn(o)}}resolveInjectorInitializers(){let e=Z(null),n=hn(this),r=Ue(void 0),i;try{let o=this.get(Fn,at,V.Self);for(let s of o)s()}finally{hn(n),Ue(r),Z(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Ve(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new D(205,!1)}processProvider(e){e=st(e);let n=fu(e)?e:st(e&&e.provide),r=n0(e);if(!fu(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Rr(void 0,Gs,!0),i.factory=()=>lu(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Z(null);try{return n.value===Gs&&(n.value=e0,n.value=n.factory()),typeof n.value=="object"&&n.value&&o0(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Z(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=st(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function hu(t){let e=ba(t),n=e!==null?e.factory:Ln(t);if(n!==null)return n;if(t instanceof S)throw new D(204,!1);if(t instanceof Function)return t0(t);throw new D(204,!1)}function t0(t){if(t.length>0)throw new D(204,!1);let n=pC(t);return n!==null?()=>n.factory(t):()=>new t}function n0(t){if(Jm(t))return Rr(void 0,t.useValue);{let e=r0(t);return Rr(e,Gs)}}function r0(t,e,n){let r;if(fu(t)){let i=st(t);return Ln(i)||hu(i)}else if(Jm(t))r=()=>st(t.useValue);else if(XC(t))r=()=>t.useFactory(...lu(t.deps||[]));else if(ZC(t))r=()=>N(st(t.useExisting));else{let i=st(t&&(t.useClass||t.provide));if(i0(t))r=()=>new i(...lu(t.deps));else return Ln(i)||hu(i)}return r}function Rr(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function i0(t){return!!t.deps}function o0(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function s0(t){return typeof t=="function"||typeof t=="object"&&t instanceof S}function pu(t,e){for(let n of t)Array.isArray(n)?pu(n,e):n&&Pm(n)?pu(n.\u0275providers,e):e(n)}function xt(t,e){t instanceof Pi&&t.assertNotDestroyed();let n,r=hn(t),i=Ue(void 0);try{return e()}finally{hn(r),Ue(i)}}function Zm(){return km()!==void 0||TC()!=null}function a0(t){if(!Zm())throw new D(-203,!1)}function c0(t){let e=Qe.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function l0(t){return typeof t=="function"}var Xe=0,$=1,O=2,Se=3,vt=4,wt=5,yt=6,ki=7,qt=8,jr=9,_t=10,ge=11,Li=12,Xg=13,Ki=14,ct=15,Sa=16,Or=17,Ur=18,Aa=19,Xm=20,pn=21,Yl=22,jn=23,Pe=25,ev=1,Fi=6,Kt=7,ta=8,na=9,Je=10,nd=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(nd||{});function gn(t){return Array.isArray(t)&&typeof t[ev]=="object"}function Nt(t){return Array.isArray(t)&&t[ev]===!0}function tv(t){return(t.flags&4)!==0}function Yi(t){return t.componentOffset>-1}function rd(t){return(t.flags&1)===1}function Qi(t){return!!t.template}function nv(t){return(t[O]&512)!==0}var gu=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function rv(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Ji(){return iv}function iv(t){return t.type.prototype.ngOnChanges&&(t.setInput=d0),u0}Ji.ngInherit=!0;function u0(){let t=sv(this),e=t?.current;if(e){let n=t.previous;if(n===Oi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function d0(t,e,n,r,i){let o=this.declaredInputs[r],s=sv(t)||f0(t,{previous:Oi,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new gu(l&&l.currentValue,n,c===Oi),rv(t,e,i,n)}var ov="__ngSimpleChanges__";function sv(t){return t[ov]||null}function f0(t,e){return t[ov]=e}var em=null;var Tt=function(t,e,n){em?.(t,e,n)},h0="svg",p0="math",g0=!1;function m0(){return g0}function It(t){for(;Array.isArray(t);)t=t[Xe];return t}function av(t,e){return It(e[t])}function ut(t,e){return It(e[t.index])}function cv(t,e){return t.data[e]}function v0(t,e){return t[e]}function Hn(t,e){let n=e[t];return gn(n)?n:n[Xe]}function id(t){return(t[O]&128)===128}function y0(t){return Nt(t[Se])}function ra(t,e){return e==null?null:t[e]}function lv(t){t[Or]=0}function _0(t){t[O]&1024||(t[O]|=1024,id(t)&&ji(t))}function od(t){return!!(t[O]&9216||t[jn]?.dirty)}function mu(t){t[_t].changeDetectionScheduler?.notify(1),od(t)?ji(t):t[O]&64&&(m0()?(t[O]|=1024,ji(t)):t[_t].changeDetectionScheduler?.notify())}function ji(t){t[_t].changeDetectionScheduler?.notify();let e=Ui(t);for(;e!==null&&!(e[O]&8192||(e[O]|=8192,!id(e)));)e=Ui(e)}function uv(t,e){if((t[O]&256)===256)throw new D(911,!1);t[pn]===null&&(t[pn]=[]),t[pn].push(e)}function I0(t,e){if(t[pn]===null)return;let n=t[pn].indexOf(e);n!==-1&&t[pn].splice(n,1)}function Ui(t){let e=t[Se];return Nt(e)?e[Se]:e}var K={lFrame:yv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function w0(){return K.lFrame.elementDepthCount}function E0(){K.lFrame.elementDepthCount++}function b0(){K.lFrame.elementDepthCount--}function dv(){return K.bindingsEnabled}function Zi(){return K.skipHydrationRootTNode!==null}function C0(t){return K.skipHydrationRootTNode===t}function D0(t){K.skipHydrationRootTNode=t}function T0(){K.skipHydrationRootTNode=null}function me(){return K.lFrame.lView}function Jt(){return K.lFrame.tView}function Rt(){let t=fv();for(;t!==null&&t.type===64;)t=t.parent;return t}function fv(){return K.lFrame.currentTNode}function S0(){let t=K.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Xi(t,e){let n=K.lFrame;n.currentTNode=t,n.isParent=e}function hv(){return K.lFrame.isParent}function A0(){K.lFrame.isParent=!1}function M0(){let t=K.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function x0(t){return K.lFrame.bindingIndex=t}function pv(){return K.lFrame.bindingIndex++}function N0(t){let e=K.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function R0(){return K.lFrame.inI18n}function O0(t,e){let n=K.lFrame;n.bindingIndex=n.bindingRootIndex=t,vu(e)}function P0(){return K.lFrame.currentDirectiveIndex}function vu(t){K.lFrame.currentDirectiveIndex=t}function k0(t){let e=K.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function gv(t){K.lFrame.currentQueryIndex=t}function L0(t){let e=t[$];return e.type===2?e.declTNode:e.type===1?t[wt]:null}function mv(t,e,n){if(n&V.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&V.Host);)if(i=L0(o),i===null||(o=o[Ki],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=K.lFrame=vv();return r.currentTNode=e,r.lView=t,!0}function sd(t){let e=vv(),n=t[$];K.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function vv(){let t=K.lFrame,e=t===null?null:t.child;return e===null?yv(t):e}function yv(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function _v(){let t=K.lFrame;return K.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var Iv=_v;function ad(){let t=_v();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function $r(){return K.lFrame.selectedIndex}function Un(t){K.lFrame.selectedIndex=t}function F0(){let t=K.lFrame;return cv(t.tView,t.selectedIndex)}function wv(){return K.lFrame.currentNamespace}var Ev=!0;function cd(){return Ev}function Ot(t){Ev=t}function j0(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=iv(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function ld(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function qs(t,e,n){bv(t,e,3,n)}function Ks(t,e,n,r){(t[O]&3)===n&&bv(t,e,n,r)}function Ql(t,e){let n=t[O];(n&3)===e&&(n&=16383,n+=1,t[O]=n)}function bv(t,e,n,r){let i=r!==void 0?t[Or]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Or]+=65536),(a<o||o==-1)&&(U0(t,n,e,c),t[Or]=(t[Or]&4294901760)+c+2),c++}function tm(t,e){Tt(4,t,e);let n=Z(null);try{e.call(t)}finally{Z(n),Tt(5,t,e)}}function U0(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[O]>>14<t[Or]>>16&&(t[O]&3)===e&&(t[O]+=16384,tm(a,o)):tm(a,o)}var Fr=-1,Vi=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function V0(t){return t instanceof Vi}function B0(t){return(t.flags&8)!==0}function $0(t){return(t.flags&16)!==0}function Cv(t){return t!==Fr}function ia(t){return t&32767}function H0(t){return t>>16}function oa(t,e){let n=H0(t),r=e;for(;n>0;)r=r[Ki],n--;return r}var yu=!0;function sa(t){let e=yu;return yu=t,e}var W0=256,Dv=W0-1,Tv=5,z0=0,St={};function G0(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(xi)&&(r=n[xi]),r==null&&(r=n[xi]=z0++);let i=r&Dv,o=1<<i;e.data[t+(i>>Tv)]|=o}function Sv(t,e){let n=Av(t,e);if(n!==-1)return n;let r=e[$];r.firstCreatePass&&(t.injectorIndex=e.length,Jl(r.data,t),Jl(e,null),Jl(r.blueprint,null));let i=ud(t,e),o=t.injectorIndex;if(Cv(i)){let s=ia(i),a=oa(i,e),c=a[$].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Jl(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Av(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function ud(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Ov(i),r===null)return Fr;if(n++,i=i[Ki],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Fr}function q0(t,e,n){G0(t,e,n)}function Mv(t,e,n){if(n&V.Optional||t!==void 0)return t;Yu(e,"NodeInjector")}function xv(t,e,n,r){if(n&V.Optional&&r===void 0&&(r=null),!(n&(V.Self|V.Host))){let i=t[jr],o=Ue(void 0);try{return i?i.get(e,r,n&V.Optional):Lm(e,r,n&V.Optional)}finally{Ue(o)}}return Mv(r,e,n)}function Nv(t,e,n,r=V.Default,i){if(t!==null){if(e[O]&2048&&!(r&V.Self)){let s=Z0(t,e,n,r,St);if(s!==St)return s}let o=Rv(t,e,n,r,St);if(o!==St)return o}return xv(e,n,r,i)}function Rv(t,e,n,r,i){let o=Q0(n);if(typeof o=="function"){if(!mv(e,t,r))return r&V.Host?Mv(i,n,r):xv(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&V.Optional))Yu(n);else return s}finally{Iv()}}else if(typeof o=="number"){let s=null,a=Av(t,e),c=Fr,l=r&V.Host?e[ct][wt]:null;for((a===-1||r&V.SkipSelf)&&(c=a===-1?ud(t,e):e[a+8],c===Fr||!rm(r,!1)?a=-1:(s=e[$],a=ia(c),e=oa(c,e)));a!==-1;){let u=e[$];if(nm(o,a,u.data)){let d=K0(a,e,n,s,r,l);if(d!==St)return d}c=e[a+8],c!==Fr&&rm(r,e[$].data[a+8]===l)&&nm(o,a,e)?(s=u,a=ia(c),e=oa(c,e)):a=-1}}return i}function K0(t,e,n,r,i,o){let s=e[$],a=s.data[t+8],c=r==null?Yi(a)&&yu:r!=s&&(a.type&3)!==0,l=i&V.Host&&o===a,u=Y0(a,s,n,c,l);return u!==null?Bi(e,s,u,a):St}function Y0(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:l;for(let h=d;h<f;h++){let p=s[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(i){let h=s[c];if(h&&Qi(h)&&h.type===n)return c}return null}function Bi(t,e,n,r){let i=t[n],o=e.data;if(V0(i)){let s=i;s.resolving&&wC(IC(o[n]));let a=sa(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?Ue(s.injectImpl):null,u=mv(t,r,V.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&j0(n,o[n],e)}finally{l!==null&&Ue(l),sa(a),s.resolving=!1,Iv()}}return i}function Q0(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(xi)?t[xi]:void 0;return typeof e=="number"?e>=0?e&Dv:J0:e}function nm(t,e,n){let r=1<<t;return!!(n[e+(t>>Tv)]&r)}function rm(t,e){return!(t&V.Self)&&!(t&V.Host&&e)}var kn=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Nv(this._tNode,this._lView,e,Ca(r),n)}};function J0(){return new kn(Rt(),me())}function dd(t){return zi(()=>{let e=t.prototype.constructor,n=e[Js]||_u(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Js]||_u(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function _u(t){return xm(t)?()=>{let e=_u(st(t));return e&&e()}:Ln(t)}function Z0(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[O]&2048&&!(s[O]&512);){let a=Rv(o,s,n,r|V.Self,St);if(a!==St)return a;let c=o.parent;if(!c){let l=s[Xm];if(l){let u=l.get(n,St,r);if(u!==St)return u}c=Ov(s),s=s[Ki]}o=c}return i}function Ov(t){let e=t[$],n=e.type;return n===2?e.declTNode:n===1?t[wt]:null}function im(t,e=null,n=null,r){let i=Pv(t,e,n,r);return i.resolveInjectorInitializers(),i}function Pv(t,e=null,n=null,r,i=new Set){let o=[n||at,QC(t)];return r=r||(typeof t=="object"?void 0:Ve(t)),new Pi(o,e||td(),r||null,i)}var ke=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return im({name:""},i,r,"");{let o=r.name??"";return im({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=Ri,e.NULL=new ea,e.\u0275prov=C({token:e,providedIn:"any",factory:()=>N(Um)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var X0="ngOriginalError";function Zl(t){return t[X0]}var Mt=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Zl(e);for(;n&&Zl(n);)n=Zl(n);return n||null}},kv=new S("",{providedIn:"root",factory:()=>y(Mt).handleError.bind(void 0)}),fd=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=eD,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Iu=class extends fd{constructor(e){super(),this._lView=e}onDestroy(e){return uv(this._lView,e),()=>I0(this._lView,e)}};function eD(){return new Iu(me())}function tD(){return Ma(Rt(),me())}function Ma(t,e){return new xa(ut(t,e))}var xa=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=tD;let t=e;return t})();var wu=class extends Re{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,Zm()&&(this.destroyRef=y(fd,{optional:!0})??void 0)}emit(e){let n=Z(null);try{super.next(e)}finally{Z(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=Xl(o),i&&(i=Xl(i)),s&&(s=Xl(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof he&&e.add(a),a}};function Xl(t){return e=>{setTimeout(t,void 0,e)}}var Oe=wu;var nD="ngSkipHydration",rD="ngskiphydration";function Lv(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===rD)return!0}return!1}function Fv(t){return t.hasAttribute(nD)}function aa(t){return(t.flags&128)===128}function iD(t){if(aa(t))return!0;let e=t.parent;for(;e;){if(aa(t)||Lv(e))return!0;e=e.parent}return!1}var jv=new Map,oD=0;function sD(){return oD++}function aD(t){jv.set(t[Aa],t)}function cD(t){jv.delete(t[Aa])}var om="__ngContext__";function Vn(t,e){gn(e)?(t[om]=e[Aa],aD(e)):t[om]=e}function Uv(t){return Bv(t[Li])}function Vv(t){return Bv(t[vt])}function Bv(t){for(;t!==null&&!Nt(t);)t=t[vt];return t}var Eu;function $v(t){Eu=t}function Na(){if(Eu!==void 0)return Eu;if(typeof document<"u")return document;throw new D(210,!1)}var eo=new S("",{providedIn:"root",factory:()=>lD}),lD="ng",hd=new S(""),nt=new S("",{providedIn:"platform",factory:()=>"unknown"});var pd=new S("",{providedIn:"root",factory:()=>Na().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function uD(){let t=new Wn;return y(nt)==="browser"&&(t.store=dD(Na(),y(eo))),t}var Wn=(()=>{let e=class e{constructor(){this.store={},this.onSerializeCallbacks={}}get(r,i){return this.store[r]!==void 0?this.store[r]:i}set(r,i){this.store[r]=i}remove(r){delete this.store[r]}hasKey(r){return this.store.hasOwnProperty(r)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(r,i){this.onSerializeCallbacks[r]=i}toJson(){for(let r in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(r))try{this.store[r]=this.onSerializeCallbacks[r]()}catch(i){console.warn("Exception in onSerialize callback: ",i)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}};e.\u0275prov=C({token:e,providedIn:"root",factory:uD});let t=e;return t})();function dD(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var Hv="h",Wv="b",bu=function(t){return t.FirstChild="f",t.NextSibling="n",t}(bu||{}),fD="e",hD="t",gd="c",zv="x",ca="r",pD="i",gD="n",mD="d",vD="__nghData__",Gv=vD,eu="ngh",yD="nghm",qv=()=>null;function _D(t,e,n=!1){let r=t.getAttribute(eu);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let s=o?`|${o}`:"",a=n?i:s,c={};if(r!==""){let u=e.get(Wn,null,{optional:!0});u!==null&&(c=u.get(Gv,[])[Number(r)])}let l={data:c,firstChild:t.firstChild??null};return n&&(l.firstChild=t,Ra(l,0,t.nextSibling)),a?t.setAttribute(eu,a):t.removeAttribute(eu),l}function ID(){qv=_D}function md(t,e,n=!1){return qv(t,e,n)}function wD(t){let e=t._lView;return e[$].type===2?null:(nv(e)&&(e=e[Pe]),e)}function ED(t){return t.textContent?.replace(/\s/gm,"")}function bD(t){let e=Na(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=ED(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function Ra(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function Cu(t,e){return t.segmentHeads?.[e]??null}function CD(t,e){let n=t.data,r=n[fD]?.[e]??null;return r===null&&n[gd]?.[e]&&(r=vd(t,e)),r}function Kv(t,e){return t.data[gd]?.[e]??null}function vd(t,e){let n=Kv(t,e)??[],r=0;for(let i of n)r+=i[ca]*(i[zv]??1);return r}function Oa(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[mD];t.disconnectedNodes=n?new Set(n):null}return!!t.disconnectedNodes?.has(e)}var $s=new S(""),Yv=!1,Qv=new S("",{providedIn:"root",factory:()=>Yv}),DD=new S("");var la=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Sm})`}};function Pa(t){return t instanceof la?t.changingThisBreaksApplicationSecurity:t}function Jv(t,e){let n=TD(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Sm})`)}return n===e}function TD(t){return t instanceof la&&t.getTypeName()||null}var SD=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Zv(t){return t=String(t),t.match(SD)?t:"unsafe:"+t}var yd=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(yd||{});function J(t){let e=AD();return e?e.sanitize(yd.URL,t)||"":Jv(t,"URL")?Pa(t):Zv(Ku(t))}function AD(){let t=me();return t&&t[_t].sanitizer}var MD=/^>|^->|<!--|-->|--!>|<!-$/g,xD=/(<|>)/g,ND="\u200B$1\u200B";function RD(t){return t.replace(MD,e=>e.replace(xD,ND))}function OD(t){return t.ownerDocument.body}function Xv(t){return t instanceof Function?t():t}function Mi(t){return(t??y(ke)).get(nt)==="browser"}var Yt=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Yt||{}),PD;function _d(t,e){return PD(t,e)}function Pr(t,e,n,r,i){if(r!=null){let o,s=!1;Nt(r)?o=r:gn(r)&&(s=!0,r=r[Xe]);let a=It(r);t===0&&n!==null?i==null?ry(e,n,a):ua(e,n,a,i||null,!0):t===1&&n!==null?ua(e,n,a,i||null,!0):t===2?Cd(e,a,s):t===3&&e.destroyNode(a),o!=null&&JD(e,t,o,n,i)}}function Id(t,e){return t.createText(e)}function kD(t,e,n){t.setValue(e,n)}function wd(t,e){return t.createComment(RD(e))}function ka(t,e,n){return t.createElement(e,n)}function LD(t,e){ey(t,e),e[Xe]=null,e[wt]=null}function FD(t,e,n,r,i,o){r[Xe]=i,r[wt]=e,La(t,r,n,1,i,o)}function ey(t,e){e[_t].changeDetectionScheduler?.notify(1),La(t,e,e[ge],2,null,null)}function jD(t){let e=t[Li];if(!e)return tu(t[$],t);for(;e;){let n=null;if(gn(e))n=e[Li];else{let r=e[Je];r&&(n=r)}if(!n){for(;e&&!e[vt]&&e!==t;)gn(e)&&tu(e[$],e),e=e[Se];e===null&&(e=t),gn(e)&&tu(e[$],e),n=e&&e[vt]}e=n}}function UD(t,e,n,r){let i=Je+r,o=n.length;r>0&&(n[i-1][vt]=e),r<o-Je?(e[vt]=n[i],jm(n,Je+r,e)):(n.push(e),e[vt]=null),e[Se]=n;let s=e[Sa];s!==null&&n!==s&&VD(s,e);let a=e[Ur];a!==null&&a.insertView(t),mu(e),e[O]|=128}function VD(t,e){let n=t[na],i=e[Se][Se][ct];e[ct]!==i&&(t[O]|=nd.HasTransplantedViews),n===null?t[na]=[e]:n.push(e)}function ty(t,e){let n=t[na],r=n.indexOf(e);n.splice(r,1)}function Du(t,e){if(t.length<=Je)return;let n=Je+e,r=t[n];if(r){let i=r[Sa];i!==null&&i!==t&&ty(i,r),e>0&&(t[n-1][vt]=r[vt]);let o=Xs(t,Je+e);LD(r[$],r);let s=o[Ur];s!==null&&s.detachView(o[$]),r[Se]=null,r[vt]=null,r[O]&=-129}return r}function ny(t,e){if(!(e[O]&256)){let n=e[ge];n.destroyNode&&La(t,e,n,3,null,null),jD(e)}}function tu(t,e){if(e[O]&256)return;let n=Z(null);try{e[O]&=-129,e[O]|=256,e[jn]&&hg(e[jn]),$D(t,e),BD(t,e),e[$].type===1&&e[ge].destroy();let r=e[Sa];if(r!==null&&Nt(e[Se])){r!==e[Se]&&ty(r,e);let i=e[Ur];i!==null&&i.detachView(t)}cD(e)}finally{Z(n)}}function BD(t,e){let n=t.cleanup,r=e[ki];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[ki]=null);let i=e[pn];if(i!==null){e[pn]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function $D(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Vi)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Tt(4,a,c);try{c.call(a)}finally{Tt(5,a,c)}}else{Tt(4,i,o);try{o.call(i)}finally{Tt(5,i,o)}}}}}function HD(t,e,n){return WD(t,e.parent,n)}function WD(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Xe];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===At.None||o===At.Emulated)return null}return ut(r,n)}}function ua(t,e,n,r,i){t.insertBefore(e,n,r,i)}function ry(t,e,n){t.appendChild(e,n)}function sm(t,e,n,r,i){r!==null?ua(t,e,n,r,i):ry(t,e,n)}function zD(t,e,n,r){t.removeChild(e,n,r)}function Ed(t,e){return t.parentNode(e)}function GD(t,e){return t.nextSibling(e)}function qD(t,e,n){return YD(t,e,n)}function KD(t,e,n){return t.type&40?ut(t,n):null}var YD=KD,am;function bd(t,e,n,r){let i=HD(t,r,e),o=e[ge],s=r.parent||e[wt],a=qD(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)sm(o,i,n[c],a,!1);else sm(o,i,n,a,!1);am!==void 0&&am(o,r,e,n,i)}function Ys(t,e){if(e!==null){let n=e.type;if(n&3)return ut(e,t);if(n&4)return Tu(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ys(t,r);{let i=t[e.index];return Nt(i)?Tu(-1,i):It(i)}}else{if(n&32)return _d(e,t)()||It(t[e.index]);{let r=iy(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ui(t[ct]);return Ys(i,r)}else return Ys(t,e.next)}}}return null}function iy(t,e){if(e!==null){let r=t[ct][wt],i=e.projection;return r.projection[i]}return null}function Tu(t,e){let n=Je+t+1;if(n<e.length){let r=e[n],i=r[$].firstChild;if(i!==null)return Ys(r,i)}return e[Kt]}function Cd(t,e,n){let r=Ed(t,e);r&&zD(t,r,e,n)}function oy(t){t.textContent=""}function Dd(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],c=n.type;if(s&&e===0&&(a&&Vn(It(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Dd(t,e,n.child,r,i,o,!1),Pr(e,t,i,a,o);else if(c&32){let l=_d(n,r),u;for(;u=l();)Pr(e,t,i,u,o);Pr(e,t,i,a,o)}else c&16?QD(t,e,r,n,i,o):Pr(e,t,i,a,o);n=s?n.projectionNext:n.next}}function La(t,e,n,r,i,o){Dd(n,r,t.firstChild,e,i,o,!1)}function QD(t,e,n,r,i,o){let s=n[ct],c=s[wt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Pr(e,t,i,u,o)}else{let l=c,u=s[Se];aa(r)&&(l.flags|=128),Dd(t,e,l,u,i,o,!0)}}function JD(t,e,n,r,i){let o=n[Kt],s=It(n);o!==s&&Pr(e,t,r,o,i);for(let a=Je;a<n.length;a++){let c=n[a];La(c[$],c,t,e,r,o)}}function ZD(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Yt.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Yt.Important),t.setStyle(n,r,i,o))}}function XD(t,e,n){t.setAttribute(e,"style",n)}function sy(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function ay(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&uu(t,e,r),i!==null&&sy(t,e,i),o!==null&&XD(t,e,o)}var zn={};function m(t=1){cy(Jt(),me(),$r()+t,!1)}function cy(t,e,n,r){if(!r)if((e[O]&3)===3){let o=t.preOrderCheckHooks;o!==null&&qs(e,o,n)}else{let o=t.preOrderHooks;o!==null&&Ks(e,o,0,n)}Un(n)}function ne(t,e=V.Default){let n=me();if(n===null)return N(t,e);let r=Rt();return Nv(r,n,st(t),e)}function ly(){let t="invalid";throw new Error(t)}function uy(t,e,n,r,i,o){let s=Z(null);try{let a=null;i&mn.SignalBased&&(a=e[r][lg]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&mn.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):rv(e,a,r,o)}finally{Z(s)}}function eT(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Un(~i);else{let o=i,s=n[++r],a=n[++r];O0(s,o);let c=e[o];a(2,c)}}}finally{Un(-1)}}function Fa(t,e,n,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[Xe]=i,d[O]=r|4|128|8|64,(l!==null||t&&t[O]&2048)&&(d[O]|=2048),lv(d),d[Se]=d[Ki]=t,d[qt]=n,d[_t]=s||t&&t[_t],d[ge]=a||t&&t[ge],d[jr]=c||t&&t[jr]||null,d[wt]=o,d[Aa]=sD(),d[yt]=u,d[Xm]=l,d[ct]=e.type==2?t[ct]:d,d}function ja(t,e,n,r,i){let o=t.data[e];if(o===null)o=tT(t,e,n,r,i),R0()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=S0();o.injectorIndex=s===null?-1:s.injectorIndex}return Xi(o,!0),o}function tT(t,e,n,r,i){let o=fv(),s=hv(),a=s?o:o&&o.parent,c=t.data[e]=aT(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function dy(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function fy(t,e,n,r,i){let o=$r(),s=r&2;try{Un(-1),s&&e.length>Pe&&cy(t,e,Pe,!1),Tt(s?2:0,i),n(r,i)}finally{Un(o),Tt(s?3:1,i)}}function hy(t,e,n){if(tv(e)){let r=Z(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{Z(r)}}}function py(t,e,n){dv()&&(pT(t,e,n,ut(n,e)),(n.flags&64)===64&&Iy(t,e,n))}function gy(t,e,n=ut){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function my(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Td(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Td(t,e,n,r,i,o,s,a,c,l,u){let d=Pe+r,f=d+i,h=nT(d,f),p=typeof l=="function"?l():l;return h[$]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}function nT(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:zn);return n}function rT(t,e,n,r){let o=r.get(Qv,Yv)||n===At.ShadowDom,s=t.selectRootElement(e,o);return iT(s),s}function iT(t){vy(t)}var vy=()=>null;function oT(t){Fv(t)?oy(t):bD(t)}function sT(){vy=oT}function aT(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Zi()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function cm(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=mn.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?lm(r,n,l,a,c):lm(r,n,l,a)}return r}function lm(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function cT(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],f=n?n.get(d):null,h=f?f.inputs:null,p=f?f.outputs:null;c=cm(0,d.inputs,u,c,h),l=cm(1,d.outputs,u,l,p);let w=c!==null&&s!==null&&!Xu(e)?bT(c,u,s):null;a.push(w)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function lT(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function uT(t,e,n,r,i,o,s,a){let c=ut(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(Sd(t,n,u,r,i),Yi(e)&&dT(n,e.index)):e.type&3?(r=lT(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function dT(t,e){let n=Hn(e,t);n[O]&16||(n[O]|=64)}function yy(t,e,n,r){if(dv()){let i=r===null?null:{"":-1},o=mT(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&_y(t,e,n,s,i,a),i&&vT(n,r,i)}n.mergedAttrs=Zu(n.mergedAttrs,n.attrs)}function _y(t,e,n,r,i,o){for(let l=0;l<r.length;l++)q0(Sv(n,e),t,r[l].type);_T(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=dy(t,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=Zu(n.mergedAttrs,u.hostAttrs),IT(t,n,e,c,u),yT(c,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}cT(t,n,o)}function fT(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;hT(s)!=a&&s.push(a),s.push(n,r,o)}}function hT(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function pT(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Yi(n)&&wT(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Sv(n,e),Vn(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],l=Bi(e,t,a,n);if(Vn(l,e),s!==null&&ET(e,a-i,l,c,n,s),Qi(c)){let u=Hn(n.index,e);u[qt]=Bi(e,t,a,n)}}}function Iy(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=P0();try{Un(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];vu(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&gT(c,l)}}finally{Un(-1),vu(s)}}function gT(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function mT(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(BC(e,s.selectors,!1))if(r||(r=[]),Qi(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;Su(t,e,c)}else r.unshift(s),Su(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Su(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function vT(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new D(-301,!1);r.push(e[i],o)}}}function yT(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Qi(e)&&(n[""]=t)}}function _T(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function IT(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Ln(i.type,!0)),s=new Vi(o,Qi(i),ne);t.blueprint[r]=s,n[r]=s,fT(t,e,r,dy(t,n,i.hostVars,zn),i)}function wT(t,e,n){let r=ut(e,t),i=my(n),o=t[_t].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Ua(t,Fa(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function ET(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];uy(r,n,c,l,u,d)}}function bT(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function wy(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function Ey(t,e){let n=t.contentQueries;if(n!==null){let r=Z(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];gv(o),a.contentQueries(2,e[s],s)}}}finally{Z(r)}}}function Ua(t,e){return t[Li]?t[Xg][vt]=e:t[Li]=e,t[Xg]=e,e}function Au(t,e,n){gv(0);let r=Z(null);try{e(t,n)}finally{Z(r)}}function CT(t){return t[ki]||(t[ki]=[])}function DT(t){return t.cleanup||(t.cleanup=[])}function by(t,e){let n=t[jr],r=n?n.get(Mt,null):null;r&&r.handleError(e)}function Sd(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=e[s],u=t.data[s];uy(u,l,r,a,c,i)}}function TT(t,e,n){let r=av(e,t);kD(t[ge],r,n)}function ST(t,e){let n=Hn(e,t),r=n[$];AT(r,n);let i=n[Xe];i!==null&&n[yt]===null&&(n[yt]=md(i,n[jr])),Ad(r,n,n[qt])}function AT(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Ad(t,e,n){sd(e);try{let r=t.viewQuery;r!==null&&Au(1,r,n);let i=t.template;i!==null&&fy(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ur]?.finishViewCreation(t),t.staticContentQueries&&Ey(t,e),t.staticViewQueries&&Au(2,t.viewQuery,n);let o=t.components;o!==null&&MT(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[O]&=-5,ad()}}function MT(t,e){for(let n=0;n<e.length;n++)ST(t,e[n])}function xT(t,e,n,r){let i=Z(null);try{let o=e.tView,a=t[O]&4096?4096:16,c=Fa(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[Sa]=l;let u=t[Ur];return u!==null&&(c[Ur]=u.createEmbeddedView(o)),Ad(o,c,n),c}finally{Z(i)}}function um(t,e){return!e||e.firstChild===null||aa(t)}function NT(t,e,n,r=!0){let i=e[$];if(UD(i,e,t,n),r){let s=Tu(n,t),a=e[ge],c=Ed(a,t[Kt]);c!==null&&FD(i,t[wt],a,e,c,s)}let o=e[yt];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function da(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(It(o)),Nt(o)&&RT(o,r);let s=n.type;if(s&8)da(t,e,n.child,r);else if(s&32){let a=_d(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=iy(e,n);if(Array.isArray(a))r.push(...a);else{let c=Ui(e[ct]);da(c[$],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function RT(t,e){for(let n=Je;n<t.length;n++){let r=t[n],i=r[$].firstChild;i!==null&&da(r[$],r,i,e)}t[Kt]!==t[Xe]&&e.push(t[Kt])}var Cy=[];function OT(t){return t[jn]??PT(t)}function PT(t){let e=Cy.pop()??Object.create(LT);return e.lView=t,e}function kT(t){t.lView[jn]!==t&&(t.lView=null,Cy.push(t))}var LT=le(E({},ug),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ji(t.lView)},consumerOnSignalRead(){this.lView[jn]=this}}),Dy=100;function Ty(t,e=!0,n=0){let r=t[_t],i=r.rendererFactory,o=!1;o||i.begin?.();try{FT(t,n)}catch(s){throw e&&by(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function FT(t,e){Mu(t,e);let n=0;for(;od(t);){if(n===Dy)throw new D(103,!1);n++,Mu(t,1)}}function jT(t,e,n,r){let i=e[O];if((i&256)===256)return;let o=!1;!o&&e[_t].inlineEffectRunner?.flush(),sd(e);let s=null,a=null;!o&&UT(t)&&(a=OT(e),s=dg(a));try{lv(e),x0(t.bindingStartIndex),n!==null&&fy(t,e,n,2,r);let c=(i&3)===3;if(!o)if(c){let d=t.preOrderCheckHooks;d!==null&&qs(e,d,null)}else{let d=t.preOrderHooks;d!==null&&Ks(e,d,0,null),Ql(e,0)}if(VT(e),Sy(e,0),t.contentQueries!==null&&Ey(t,e),!o)if(c){let d=t.contentCheckHooks;d!==null&&qs(e,d)}else{let d=t.contentHooks;d!==null&&Ks(e,d,1),Ql(e,1)}eT(t,e);let l=t.components;l!==null&&My(e,l,0);let u=t.viewQuery;if(u!==null&&Au(2,u,r),!o)if(c){let d=t.viewCheckHooks;d!==null&&qs(e,d)}else{let d=t.viewHooks;d!==null&&Ks(e,d,2),Ql(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Yl]){for(let d of e[Yl])d();e[Yl]=null}o||(e[O]&=-73)}catch(c){throw ji(e),c}finally{a!==null&&(fg(a,s),kT(a)),ad()}}function UT(t){return t.type!==2}function Sy(t,e){for(let n=Uv(t);n!==null;n=Vv(n))for(let r=Je;r<n.length;r++){let i=n[r];Ay(i,e)}}function VT(t){for(let e=Uv(t);e!==null;e=Vv(e)){if(!(e[O]&nd.HasTransplantedViews))continue;let n=e[na];for(let r=0;r<n.length;r++){let i=n[r],o=i[Se];_0(i)}}}function BT(t,e,n){let r=Hn(e,t);Ay(r,n)}function Ay(t,e){id(t)&&Mu(t,e)}function Mu(t,e){let r=t[$],i=t[O],o=t[jn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Dl(o)),o&&(o.dirty=!1),t[O]&=-9217,s)jT(r,t,r.template,t[qt]);else if(i&8192){Sy(t,1);let a=r.components;a!==null&&My(t,a,1)}}function My(t,e,n){for(let r=0;r<e.length;r++)BT(t,e[r],n)}function Md(t){for(t[_t].changeDetectionScheduler?.notify();t;){t[O]|=64;let e=Ui(t);if(nv(t)&&!e)return t;t=e}return null}var Bn=class{get rootNodes(){let e=this._lView,n=e[$];return da(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[qt]}set context(e){this._lView[qt]=e}get destroyed(){return(this._lView[O]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Se];if(Nt(e)){let n=e[ta],r=n?n.indexOf(this):-1;r>-1&&(Du(e,r),Xs(n,r))}this._attachedToViewContainer=!1}ny(this._lView[$],this._lView)}onDestroy(e){uv(this._lView,e)}markForCheck(){Md(this._cdRefInjectingView||this._lView)}detach(){this._lView[O]&=-129}reattach(){mu(this._lView),this._lView[O]|=128}detectChanges(){this._lView[O]|=1024,Ty(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new D(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,ey(this._lView[$],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new D(902,!1);this._appRef=e,mu(this._lView)}},xd=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=WT;let t=e;return t})(),$T=xd,HT=class extends $T{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=xT(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Bn(i)}};function WT(){return zT(Rt(),me())}function zT(t,e){return t.type&4?new HT(e,t,Ma(t,e)):null}function xy(t){let e=t[Fi]??[],r=t[Se][ge];for(let i of e)GT(i,r);t[Fi]=at}function GT(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[ca];for(;n<i;){let o=r.nextSibling;Cd(e,r,!1),r=o,n++}}}function Ny(t){xy(t);for(let e=Je;e<t.length;e++)fa(t[e])}function qT(t){let e=t[yt]?.i18nNodes;if(e){let n=t[ge];for(let r of e.values())Cd(n,r,!1);t[yt].i18nNodes=void 0}}function fa(t){qT(t);let e=t[$];for(let n=Pe;n<e.bindingStartIndex;n++)if(Nt(t[n])){let r=t[n];Ny(r)}else gn(t[n])&&fa(t[n])}function KT(t){let e=t._views;for(let n of e){let r=wD(n);if(r!==null&&r[Xe]!==null)if(gn(r))fa(r);else{let i=r[Xe];fa(i),Ny(r)}}}var YT=new RegExp(`^(\\d+)*(${Wv}|${Hv})*(.*)`);function QT(t){let e=t.match(YT),[n,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(let[c,l,u]of o.matchAll(/(f|n)(\d*)/g)){let d=parseInt(u,10)||1;a.push(l,d)}return[s,...a]}function JT(t){return!t.prev&&t.parent?.type===8}function nu(t){return t.index-Pe}function ZT(t,e){let n=t.i18nNodes;if(n){let r=n.get(e);return r&&n.delete(e),r}return null}function Va(t,e,n,r){let i=nu(r),o=ZT(t,i);if(!o){let s=t.data[gD];if(s?.[i])o=eS(s[i],n);else if(e.firstChild===r)o=t.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if(JT(r)){let l=nu(r.parent);o=Cu(t,l)}else{let l=ut(c,n);if(a)o=l.firstChild;else{let u=nu(c),d=Cu(t,u);if(c.type===2&&d){let h=vd(t,u)+1;o=Ba(h,d)}else o=l.nextSibling}}}}return o}function Ba(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function XT(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case bu.FirstChild:n=n.firstChild;break;case bu.NextSibling:n=n.nextSibling;break}}return n}function eS(t,e){let[n,...r]=QT(t),i;if(n===Hv)i=e[ct][Xe];else if(n===Wv)i=OD(e[ct][Xe]);else{let o=Number(n);i=It(e[o+Pe])}return XT(i,r)}function tS(t,e){let n=[];for(let r of e)for(let i=0;i<(r[zv]??1);i++){let o={data:r,firstChild:null};r[ca]>0&&(o.firstChild=t,t=Ba(r[ca],t)),n.push(o)}return[t,n]}var Ry=()=>null;function nS(t,e){let n=t[Fi];return!e||n===null||n.length===0?null:n[0].data[pD]===e?n.shift():(xy(t),null)}function rS(){Ry=nS}function dm(t,e){return Ry(t,e)}var ha=class{},xu=class{},pa=class{};function iS(t){let e=Error(`No component factory found for ${Ve(t)}.`);return e[oS]=t,e}var oS="ngComponent";var Nu=class{resolveComponentFactory(e){throw iS(e)}},$a=(()=>{let e=class e{};e.NULL=new Nu;let t=e;return t})(),$i=class{};var sS=(()=>{let e=class e{};e.\u0275prov=C({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),ru={};var fm=new Set;function Hr(t){fm.has(t)||(fm.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function hm(...t){}function aS(){let t=typeof Qe.requestAnimationFrame=="function",e=Qe[t?"requestAnimationFrame":"setTimeout"],n=Qe[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var Q=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Oe(!1),this.onMicrotaskEmpty=new Oe(!1),this.onStable=new Oe(!1),this.onError=new Oe(!1),typeof Zone>"u")throw new D(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=aS().nativeRequestAnimationFrame,uS(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new D(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new D(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,cS,hm,hm);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},cS={};function Nd(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function lS(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Qe,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ru(t),t.isCheckStableRunning=!0,Nd(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ru(t))}function uS(t){let e=()=>{lS(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(dS(a))return n.invokeTask(i,o,s,a);try{return pm(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),gm(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return pm(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),gm(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Ru(t),Nd(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Ru(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function pm(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function gm(t){t._nesting--,Nd(t)}var Ou=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Oe,this.onMicrotaskEmpty=new Oe,this.onStable=new Oe,this.onError=new Oe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function dS(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function fS(t="zone.js",e){return t==="noop"?new Ou:t==="zone.js"?new Q(e):t}var kr=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(kr||{}),hS={destroy(){}};function Rd(t,e){!e&&a0(Rd);let n=e?.injector??y(ke);if(!Mi(n))return hS;Hr("NgAfterNextRender");let r=n.get(Od),i=r.handler??=new ku,o=e?.phase??kr.MixedReadWrite,s=()=>{i.unregister(c),a()},a=n.get(fd).onDestroy(s),c=xt(n,()=>new Pu(o,()=>{s(),t()}));return i.register(c),{destroy:s}}var Pu=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=y(Q),this.errorHandler=y(Mt,{optional:!0}),y(ha,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},ku=class{constructor(){this.executingCallbacks=!1,this.buckets={[kr.EarlyRead]:new Set,[kr.Write]:new Set,[kr.MixedReadWrite]:new Set,[kr.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Od=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=C({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Lu(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Hg(i,a);else if(o==2){let c=a,l=e[++s];r=Hg(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var ga=class extends $a{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=vn(e);return new Vr(n,this.ngModule)}};function mm(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function pS(t){let e=t.toLowerCase();return e==="svg"?h0:e==="math"?p0:null}var Fu=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Ca(r);let i=this.injector.get(e,ru,r);return i!==ru||n===ru?i:this.parentInjector.get(e,n,r)}},Vr=class extends pa{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=mm(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return mm(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=zC(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=Z(null);try{i=i||this.ngModule;let s=i instanceof Ze?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Fu(e,s):e,c=a.get($i,null);if(c===null)throw new D(407,!1);let l=a.get(sS,null),u=a.get(Od,null),d=a.get(ha,null),f={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},h=c.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",w=r?rT(h,r,this.componentDef.encapsulation,a):ka(h,p,pS(p)),k=512;this.componentDef.signals?k|=4096:this.componentDef.onPush||(k|=16);let U=null;w!==null&&(U=md(w,a,!0));let fe=Td(0,null,null,1,0,null,null,null,null,null,null),ce=Fa(null,fe,null,k,null,null,f,h,a,null,U);sd(ce);let Fe,Ht;try{let Ne=this.componentDef,Wt,Ci=null;Ne.findHostDirectiveDefs?(Wt=[],Ci=new Map,Ne.findHostDirectiveDefs(Ne,Wt,Ci),Wt.push(Ne)):Wt=[Ne];let Di=gS(ce,w),bl=mS(Di,w,Ne,Wt,ce,f,h);Ht=cv(fe,Pe),w&&_S(h,Ne,w,r),n!==void 0&&IS(Ht,this.ngContentSelectors,n),Fe=yS(bl,Ne,Wt,Ci,ce,[wS]),Ad(fe,ce,null)}finally{ad()}return new ju(this.componentType,Fe,Ma(Ht,ce),ce,Ht)}finally{Z(o)}}},ju=class extends xu{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Bn(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Sd(o[$],o,i,e,n),this.previousInputValues.set(e,n);let s=Hn(this._tNode.index,o);Md(s)}}get injector(){return new kn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function gS(t,e){let n=t[$],r=Pe;return t[r]=e,ja(n,r,2,"#host",null)}function mS(t,e,n,r,i,o,s){let a=i[$];vS(r,t,e,s);let c=null;e!==null&&(c=md(e,i[jr]));let l=o.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=Fa(i,my(n),null,u,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&Su(a,t,r.length-1),Ua(i,d),i[t.index]=d}function vS(t,e,n,r){for(let i of t)e.mergedAttrs=Zu(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Lu(e,e.mergedAttrs,!0),n!==null&&ay(r,n,e))}function yS(t,e,n,r,i,o){let s=Rt(),a=i[$],c=ut(s,i);_y(a,i,s,n,null,r);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,f=Bi(i,a,d,s);Vn(f,i)}Iy(a,i,s),c&&Vn(c,i);let l=Bi(i,a,s.directiveStart+s.componentOffset,s);if(t[qt]=i[qt]=l,o!==null)for(let u of o)u(l,e);return hy(a,s,i),l}function _S(t,e,n,r){if(r)uu(t,n,["ng-version","17.3.6"]);else{let{attrs:i,classes:o}=GC(e.selectors[0]);i&&uu(t,n,i),o&&o.length>0&&sy(t,n,o.join(" "))}}function IS(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function wS(){let t=Rt();ld(me()[$],t)}var to=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=ES;let t=e;return t})();function ES(){let t=Rt();return CS(t,me())}var bS=to,Oy=class extends bS{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ma(this._hostTNode,this._hostLView)}get injector(){return new kn(this._hostTNode,this._hostLView)}get parentInjector(){let e=ud(this._hostTNode,this._hostLView);if(Cv(e)){let n=oa(e,this._hostLView),r=ia(e),i=n[$].data[r+8];return new kn(i,n)}else return new kn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=vm(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Je}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=dm(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,um(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!l0(e),a;if(s)a=n;else{let p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let c=s?e:new Vr(vn(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let w=(s?l:this.parentInjector).get(Ze,null);w&&(o=w)}let u=vn(c.componentType??{}),d=dm(this._lContainer,u?.id??null),f=d?.firstChild??null,h=c.create(l,i,f,o);return this.insertImpl(h.hostView,a,um(this._hostTNode,d)),h}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(y0(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[Se],l=new Oy(c,c[wt],c[Se]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return NT(s,i,o,r),e.attachToViewContainerRef(),jm(iu(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=vm(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Du(this._lContainer,n);r&&(Xs(iu(this._lContainer),n),ny(r[$],r))}detach(e){let n=this._adjustIndex(e,-1),r=Du(this._lContainer,n);return r&&Xs(iu(this._lContainer),n)!=null?new Bn(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function vm(t){return t[ta]}function iu(t){return t[ta]||(t[ta]=[])}function CS(t,e){let n,r=e[t.index];return Nt(r)?n=r:(n=wy(r,e,null,t),e[t.index]=n,Ua(e,n)),Py(n,e,t,r),new Oy(n,t,e)}function DS(t,e){let n=t[ge],r=n.createComment(""),i=ut(e,t),o=Ed(n,i);return ua(n,o,r,GD(n,i),!1),r}var Py=ky,Pd=()=>!1;function TS(t,e,n){return Pd(t,e,n)}function ky(t,e,n,r){if(t[Kt])return;let i;n.type&8?i=It(r):i=DS(e,n),t[Kt]=i}function SS(t,e,n){if(t[Kt]&&t[Fi])return!0;let r=n[yt],i=e.index-Pe;if(!r||iD(e)||Oa(r,i))return!1;let s=Cu(r,i),a=r.data[gd]?.[i],[c,l]=tS(s,a);return t[Kt]=c,t[Fi]=l,!0}function AS(t,e,n,r){Pd(t,n,e)||ky(t,e,n,r)}function MS(){Py=AS,Pd=SS}function xS(t){let e=[],n=new Map;function r(i){let o=n.get(i);if(!o){let s=t(i);n.set(i,o=s.then(PS))}return o}return ma.forEach((i,o)=>{let s=[];i.templateUrl&&s.push(r(i.templateUrl).then(l=>{i.template=l}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let l=i.styles.length,u=i.styleUrls;i.styleUrls.forEach((d,f)=>{a.push(""),s.push(r(d).then(h=>{a[l+f]=h,u.splice(u.indexOf(d),1),u.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&s.push(r(i.styleUrl).then(l=>{a.push(l),i.styleUrl=void 0}));let c=Promise.all(s).then(()=>kS(o));e.push(c)}),RS(),Promise.all(e).then(()=>{})}var ma=new Map,NS=new Set;function RS(){let t=ma;return ma=new Map,t}function OS(){return ma.size===0}function PS(t){return typeof t=="string"?t:t.text()}function kS(t){NS.delete(t)}var yn=class{},Hi=class{};var va=class extends yn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ga(this);let i=Gm(e);this._bootstrapComponents=Xv(i.bootstrap),this._r3Injector=Pv(e,n,[{provide:yn,useValue:this},{provide:$a,useValue:this.componentFactoryResolver},...r],Ve(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},ya=class extends Hi{constructor(e){super(),this.moduleType=e}create(e){return new va(this.moduleType,e,[])}};function LS(t,e,n){return new va(t,e,n)}var Uu=class extends yn{constructor(e){super(),this.componentFactoryResolver=new ga(this),this.instance=null;let n=new Pi([...e.providers,{provide:yn,useValue:this},{provide:$a,useValue:this.componentFactoryResolver}],e.parent||td(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ha(t,e,n=null){return new Uu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var no=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ie(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ly(t){return jS(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function FS(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function jS(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function US(t,e,n){return t[e]=n}function Wa(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function ro(t){return(t.flags&32)===32}function VS(t,e,n,r,i,o,s,a,c){let l=e.consts,u=ja(e,t,4,s||null,ra(l,a));yy(e,n,u,ra(l,c)),ld(e,u);let d=u.tView=Td(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function za(t,e,n,r,i,o,s,a){let c=me(),l=Jt(),u=t+Pe,d=l.firstCreatePass?VS(u,l,c,e,n,r,i,o,s):l.data[u];Xi(d,!1);let f=Fy(l,c,d,t);cd()&&bd(l,c,f,d),Vn(f,c);let h=wy(f,c,f,d);return c[u]=h,Ua(c,h),TS(h,d,c),rd(d)&&py(l,c,d),s!=null&&gy(c,d,a),za}var Fy=jy;function jy(t,e,n,r){return Ot(!0),e[ge].createComment("")}function BS(t,e,n,r){let i=e[yt],o=!i||Zi()||ro(n)||Oa(i,r);if(Ot(o),o)return jy(t,e,n,r);let s=i.data[hD]?.[r]??null;s!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=s);let a=Va(i,t,e,n);Ra(i,r,a);let c=vd(i,r);return Ba(c,a)}function $S(){Fy=BS}function HS(t,e,n,r){return Wa(t,pv(),n)?e+Ku(n)+r:zn}function Hs(t,e){return t<<17|e<<2}function $n(t){return t>>17&32767}function WS(t){return(t&2)==2}function zS(t,e){return t&131071|e<<17}function Vu(t){return t|2}function Br(t){return(t&131068)>>2}function ou(t,e){return t&-131069|e<<2}function GS(t){return(t&1)===1}function Bu(t){return t|1}function qS(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=$n(s),c=Br(s);t[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Gi(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let f=$n(t[a+1]);t[r+1]=Hs(f,a),f!==0&&(t[f+1]=ou(t[f+1],r)),t[a+1]=zS(t[a+1],r)}else t[r+1]=Hs(a,0),a!==0&&(t[a+1]=ou(t[a+1],r)),a=r;else t[r+1]=Hs(c,0),a===0?a=r:t[c+1]=ou(t[c+1],r),c=r;l&&(t[r+1]=Vu(t[r+1])),ym(t,u,r,!0),ym(t,u,r,!1),KS(e,u,t,r,o),s=Hs(a,c),o?e.classBindings=s:e.styleBindings=s}function KS(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Gi(o,e)>=0&&(n[r+1]=Bu(n[r+1]))}function ym(t,e,n,r){let i=t[n+1],o=e===null,s=r?$n(i):Br(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];YS(c,e)&&(a=!0,t[s+1]=r?Bu(l):Vu(l)),s=r?$n(l):Br(l)}a&&(t[n+1]=r?Vu(i):Bu(i))}function YS(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Gi(t,e)>=0:!1}function j(t,e,n){let r=me(),i=pv();if(Wa(r,i,e)){let o=Jt(),s=F0();uT(o,s,r,t,e,r[ge],n,!1)}return j}function _m(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Sd(t,n,o[s],s,r)}function ae(t,e){return QS(t,e,null,!0),ae}function QS(t,e,n,r){let i=me(),o=Jt(),s=N0(2);if(o.firstUpdatePass&&ZS(o,t,s,r),e!==zn&&Wa(i,s,e)){let a=o.data[$r()];rA(o,a,i,i[ge],t,i[s+1]=iA(e,n),r,s)}}function JS(t,e){return e>=t.expandoStartIndex}function ZS(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[$r()],s=JS(t,n);oA(o,r)&&e===null&&!s&&(e=!1),e=XS(i,o,e,r),qS(i,o,e,n,s,r)}}function XS(t,e,n,r){let i=k0(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=su(null,t,e,n,r),n=Wi(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=su(i,t,e,n,r),o===null){let c=eA(t,e,r);c!==void 0&&Array.isArray(c)&&(c=su(null,t,e,c[1],r),c=Wi(c,e.attrs,r),tA(t,e,r,c))}else o=nA(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function eA(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Br(r)!==0)return t[$n(r)]}function tA(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[$n(i)]=r}function nA(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Wi(r,s,n)}return Wi(r,e.attrs,n)}function su(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Wi(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Wi(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),RC(t,s,n?!0:e[++o]))}return t===void 0?null:t}function rA(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=GS(l)?Im(c,e,n,i,Br(l),s):void 0;if(!_a(u)){_a(o)||WS(l)&&(o=Im(c,null,n,i,a,s));let d=av($r(),n);ZD(r,s,d,i,o)}}function Im(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,f=n[i+1];f===zn&&(f=d?at:void 0);let h=d?ql(f,r):u===r?f:void 0;if(l&&!_a(h)&&(h=ql(c,r)),_a(h)&&(a=h,s))return a;let p=t[i+1];i=s?$n(p):Br(p)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=ql(c,r))}return a}function _a(t){return t!==void 0}function iA(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Ve(Pa(t)))),t}function oA(t,e){return(t.flags&(e?8:16))!==0}function sA(t,e,n,r,i,o){let s=e.consts,a=ra(s,i),c=ja(e,t,2,r,a);return yy(e,n,c,ra(s,o)),c.attrs!==null&&Lu(c,c.attrs,!1),c.mergedAttrs!==null&&Lu(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function g(t,e,n,r){let i=me(),o=Jt(),s=Pe+t,a=i[ge],c=o.firstCreatePass?sA(s,o,i,e,n,r):o.data[s],l=Uy(o,i,c,a,e,t);i[s]=l;let u=rd(c);return Xi(c,!0),ay(a,l,c),!ro(c)&&cd()&&bd(o,i,l,c),w0()===0&&Vn(l,i),E0(),u&&(py(o,i,c),hy(o,c,i)),r!==null&&gy(i,c),g}function v(){let t=Rt();hv()?A0():(t=t.parent,Xi(t,!1));let e=t;C0(e)&&T0(),b0();let n=Jt();return n.firstCreatePass&&(ld(n,t),tv(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&B0(e)&&_m(n,e,me(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&$0(e)&&_m(n,e,me(),e.stylesWithoutHost,!1),v}function T(t,e,n,r){return g(t,e,n,r),v(),T}var Uy=(t,e,n,r,i,o)=>(Ot(!0),ka(r,i,wv()));function aA(t,e,n,r,i,o){let s=e[yt],a=!s||Zi()||ro(n)||Oa(s,o);if(Ot(a),a)return ka(r,i,wv());let c=Va(s,t,e,n);return Kv(s,o)&&Ra(s,o,c.nextSibling),s&&(Lv(n)||Fv(c))&&Yi(n)&&(D0(n),oy(c)),c}function cA(){Uy=aA}var lA=(t,e,n,r)=>(Ot(!0),wd(e[ge],""));function uA(t,e,n,r){let i,o=e[yt],s=!o||Zi()||ro(n);if(Ot(s),s)return wd(e[ge],"");let a=Va(o,t,e,n),c=CD(o,r);return Ra(o,r,a),i=Ba(c,a),i}function dA(){lA=uA}var Ia="en-US";var fA=Ia;function hA(t){typeof t=="string"&&(fA=t.toLowerCase().replace(/_/g,"-"))}function Vy(t,e,n){let r=t[ge];switch(n){case Node.COMMENT_NODE:return wd(r,e);case Node.TEXT_NODE:return Id(r,e);case Node.ELEMENT_NODE:return ka(r,e,null)}}var pA=(t,e,n,r)=>(Ot(!0),Vy(t,n,r));function gA(t,e,n,r){return Ot(!0),Vy(t,n,r)}function mA(){pA=gA}function Ce(t,e,n,r){let i=me(),o=Jt(),s=Rt();return yA(o,i,i[ge],s,t,e,r),Ce}function vA(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[ki],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function yA(t,e,n,r,i,o,s){let a=rd(r),l=t.firstCreatePass&&DT(t),u=e[qt],d=CT(e),f=!0;if(r.type&3||s){let w=ut(r,e),k=s?s(w):w,U=d.length,fe=s?Fe=>s(It(Fe[r.index])):r.index,ce=null;if(!s&&a&&(ce=vA(t,e,i,r.index)),ce!==null){let Fe=ce.__ngLastListenerFn__||ce;Fe.__ngNextListenerFn__=o,ce.__ngLastListenerFn__=o,f=!1}else{o=Em(r,e,u,o,!1);let Fe=n.listen(k,i,o);d.push(o,Fe),l&&l.push(i,fe,U,U+1)}}else o=Em(r,e,u,o,!1);let h=r.outputs,p;if(f&&h!==null&&(p=h[i])){let w=p.length;if(w)for(let k=0;k<w;k+=2){let U=p[k],fe=p[k+1],Ht=e[U][fe].subscribe(o),Ne=d.length;d.push(o,Ht),l&&l.push(i,r.index,Ne,-(Ne+1))}}}function wm(t,e,n,r){let i=Z(null);try{return Tt(6,e,n),n(r)!==!1}catch(o){return by(t,o),!1}finally{Tt(7,e,n),Z(i)}}function Em(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?Hn(t.index,e):e;Md(a);let c=wm(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)c=wm(e,n,l,s)&&c,l=l.__ngNextListenerFn__;return i&&c===!1&&s.preventDefault(),c}}function _A(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function b(t,e=""){let n=me(),r=Jt(),i=t+Pe,o=r.firstCreatePass?ja(r,i,1,e,null):r.data[i],s=By(r,n,o,e,t);n[i]=s,cd()&&bd(r,n,s,o),Xi(o,!1)}var By=(t,e,n,r,i)=>(Ot(!0),Id(e[ge],r));function IA(t,e,n,r,i){let o=e[yt],s=!o||Zi()||ro(n)||Oa(o,i);return Ot(s),s?Id(e[ge],r):Va(o,t,e,n)}function wA(){By=IA}function x(t){return Pt("",t,""),x}function Pt(t,e,n){let r=me(),i=HS(r,t,e,n);return i!==zn&&TT(r,$r(),i),Pt}var EA=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=Ym(!1,r.type),o=i.length>0?Ha([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=C({token:e,providedIn:"environment",factory:()=>new e(N(Ze))});let t=e;return t})();function $y(t){Hr("NgStandalone"),t.getStandaloneInjector=e=>e.get(EA).getOrCreateStandaloneInjector(t)}function bA(t,e){let n=t[e];return n===zn?void 0:n}function CA(t,e,n,r,i,o){let s=e+n;return Wa(t,s,i)?US(t,s+1,o?r.call(o,i):r(i)):bA(t,s+1)}function A(t,e){let n=Jt(),r,i=t+Pe;n.firstCreatePass?(r=DA(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Ln(r.type,!0)),s,a=Ue(ne);try{let c=sa(!1),l=o();return sa(c),_A(n,me(),i,l),l}finally{Ue(a)}}function DA(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function M(t,e,n){let r=t+Pe,i=me(),o=v0(i,r);return TA(i,r)?CA(i,M0(),e,o.transform,n,o):o.transform(n)}function TA(t,e){return t[$].data[e].pure}var Ws=null;function SA(t){Ws!==null&&(t.defaultEncapsulation!==Ws.defaultEncapsulation||t.preserveWhitespaces!==Ws.preserveWhitespaces)||(Ws=t)}var _n=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Hy=new _n("17.3.6"),Ga=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var kd=new S(""),io=new S(""),qa=(()=>{let e=class e{constructor(r,i,o){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Ld||(AA(o),o.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Q.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(r)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,o){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),r()},i)),this._callbacks.push({doneCb:r,timeoutId:s,updateCb:o})}whenStable(r,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,o){return[]}};e.\u0275fac=function(i){return new(i||e)(N(Q),N(Ka),N(io))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),Ka=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return Ld?.findTestabilityInTree(this,r,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function AA(t){Ld=t}var Ld;function oo(t){return!!t&&typeof t.then=="function"}function Wy(t){return!!t&&typeof t.subscribe=="function"}var Ya=new S(""),zy=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=y(Ya,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(oo(s))r.push(s);else if(Wy(s)){let a=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Wr=new S("");function MA(){pg(()=>{throw new D(600,!1)})}function xA(t){return t.isBoundToModule}function NA(t,e,n){try{let r=n();return oo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}function Gy(t,e){return Array.isArray(e)?e.reduce(Gy,t):E(E({},t),e)}var Zt=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=y(kv),this.afterRenderEffectManager=y(Od),this.externalTestViews=new Set,this.beforeRender=new Re,this.afterTick=new Re,this.componentTypes=[],this.components=[],this.isStable=y(no).hasPendingTasks.pipe(z(r=>!r)),this._injector=y(Ze)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof pa;if(!this._injector.get(zy).done){let h=!o&&zm(r),p=!1;throw new D(405,p)}let a;o?a=r:a=this._injector.get($a).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=xA(a)?void 0:this._injector.get(yn),l=i||a.selector,u=a.create(ke.NULL,[],l,c),d=u.location.nativeElement,f=u.injector.get(kd,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Qs(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new D(101,!1);let i=Z(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,Z(i)}}detectChangesInAttachedViews(r){let i=0,o=this.afterRenderEffectManager;for(;;){if(i===Dy)throw new D(103,!1);if(r){let s=i===0;this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:c}of this._views)RA(a,s,c)}if(i++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>$u(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>$u(s))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Qs(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Wr,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Qs(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new D(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Qs(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var zs;function Fd(t){zs??=new WeakMap;let e=zs.get(t);if(e)return e;let n=t.isStable.pipe(gt(r=>r)).toPromise().then(()=>{});return zs.set(t,n),t.onDestroy(()=>zs?.delete(t)),n}function RA(t,e,n){!e&&!$u(t)||OA(t,n,e)}function $u(t){return od(t)}function OA(t,e,n){let r;n?(r=0,t[O]|=1024):t[O]&64?r=0:r=1,Ty(t,e,r)}var Hu=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Qa=(()=>{let e=class e{compileModuleSync(r){return new ya(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=Gm(r),s=Xv(o.declarations).reduce((a,c)=>{let l=vn(c);return l&&a.push(new Vr(l)),a},[]);return new Hu(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),PA=new S("");function kA(t,e,n){let r=new ya(n);return Promise.resolve(r)}function bm(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var LA=(()=>{let e=class e{constructor(){this.zone=y(Q),this.applicationRef=y(Zt)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function FA(t){return[{provide:Q,useFactory:t},{provide:Fn,multi:!0,useFactory:()=>{let e=y(LA,{optional:!0});return()=>e.initialize()}},{provide:Fn,multi:!0,useFactory:()=>{let e=y(VA);return()=>{e.initialize()}}},{provide:kv,useFactory:jA}]}function jA(){let t=y(Q),e=y(Mt);return n=>t.runOutsideAngular(()=>e.handleError(n))}function UA(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var VA=(()=>{let e=class e{constructor(){this.subscription=new he,this.initialized=!1,this.zone=y(Q),this.pendingTasks=y(no)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Q.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Q.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function BA(){return typeof $localize<"u"&&$localize.locale||Ia}var jd=new S("",{providedIn:"root",factory:()=>y(jd,V.Optional|V.SkipSelf)||BA()});var qy=new S(""),Ky=(()=>{let e=class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){let o=fS(i?.ngZone,UA({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return o.run(()=>{let s=LS(r.moduleType,this.injector,FA(()=>o)),a=s.injector.get(Mt,null);return o.runOutsideAngular(()=>{let c=o.onError.subscribe({next:l=>{a.handleError(l)}});s.onDestroy(()=>{Qs(this._modules,s),c.unsubscribe()})}),NA(a,o,()=>{let c=s.injector.get(zy);return c.runInitializers(),c.donePromise.then(()=>{let l=s.injector.get(jd,Ia);return hA(l||Ia),this._moduleDoBootstrap(s),s})})})}bootstrapModule(r,i=[]){let o=Gy({},i);return kA(this.injector,o,r).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(r){let i=r.injector.get(Zt);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(o=>i.bootstrap(o));else if(r.instance.ngDoBootstrap)r.instance.ngDoBootstrap(i);else throw new D(-403,!1);this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new D(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let r=this._injector.get(qy,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(i){return new(i||e)(N(ke))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),Ni=null,Yy=new S("");function $A(t){if(Ni&&!Ni.get(Yy,!1))throw new D(400,!1);MA(),Ni=t;let e=t.get(Ky);return zA(t),e}function Ud(t,e,n=[]){let r=`Platform: ${e}`,i=new S(r);return(o=[])=>{let s=Qy();if(!s||s.injector.get(Yy,!1)){let a=[...n,...o,{provide:i,useValue:!0}];t?t(a):$A(HA(a,r))}return WA(i)}}function HA(t=[],e){return ke.create({name:e,providers:[{provide:Ta,useValue:"platform"},{provide:qy,useValue:new Set([()=>Ni=null])},...t]})}function WA(t){let e=Qy();if(!e)throw new D(401,!1);return e}function Qy(){return Ni?.get(Ky)??null}function zA(t){t.get(hd,null)?.forEach(n=>n())}var Gn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=GA;let t=e;return t})();function GA(t){return qA(Rt(),me(),(t&16)===16)}function qA(t,e,n){if(Yi(t)&&!n){let r=Hn(t.index,e);return new Bn(r,r)}else if(t.type&47){let r=e[ct];return new Bn(r,e)}return null}var Wu=class{constructor(){}supports(e){return Ly(e)}create(e){return new zu(e)}},KA=(t,e)=>e,zu=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||KA}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<Cm(r,i,o)?n:r,a=Cm(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let f=0;f<l;f++){let h=f<o.length?o[f]:o[f]=0,p=h+f;u<=p&&p<l&&(o[f]=h+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Ly(e))throw new D(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,FS(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Gu(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new wa),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new wa),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Gu=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},qu=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},wa=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new qu,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Cm(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Dm(){return new Vd([new Wu])}var Vd=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||Dm()),deps:[[e,new Qu,new lt]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new D(901,!1)}};e.\u0275prov=C({token:e,providedIn:"root",factory:Dm});let t=e;return t})();var Jy=Ud(null,"core",[]),Zy=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(i){return new(i||e)(N(Zt))},e.\u0275mod=tt({type:e}),e.\u0275inj=et({});let t=e;return t})();var Tm=!1,YA=!1;function QA(){Tm||(Tm=!0,ID(),cA(),wA(),dA(),$S(),MS(),rS(),sT(),mA())}function JA(t,e){return Fd(t)}function Xy(){return Qt([{provide:$s,useFactory:()=>{let t=!0;return Mi()&&(t=!!y(Wn,{optional:!0})?.get(Gv,null)),t&&Hr("NgHydration"),t}},{provide:Fn,useValue:()=>{YA=!!y(DD,{optional:!0}),Mi()&&y($s)&&(ZA(),QA())},multi:!0},{provide:Qv,useFactory:()=>Mi()&&y($s)},{provide:Wr,useFactory:()=>{if(Mi()&&y($s)){let t=y(Zt),e=y(ke);return()=>{JA(t,e).then(()=>{KT(t)})}}return()=>{}},multi:!0}])}function ZA(){let t=Na(),e;for(let n of t.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===yD){e=n;break}if(!e)throw new D(-507,!1)}function e_(t){let e=vn(t);if(!e)return null;let n=new Vr(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var o_=null;function qn(){return o_}function s_(t){o_??=t}var Ja=class{};var Le=new S(""),Wd=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>y(nM),providedIn:"platform"});let t=e;return t})(),a_=new S(""),nM=(()=>{let e=class e extends Wd{constructor(){super(),this._doc=y(Le),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return qn().getBaseHref(this._doc)}onPopState(r){let i=qn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=qn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function zd(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function t_(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Xt(t){return t&&t[0]!=="?"?"?"+t:t}var Kn=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>y(Gd),providedIn:"root"});let t=e;return t})(),c_=new S(""),Gd=(()=>{let e=class e extends Kn{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??y(Le).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return zd(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Xt(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Xt(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Xt(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(N(Wd),N(c_,8))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),l_=(()=>{let e=class e extends Kn{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=zd(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Xt(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Xt(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(N(Wd),N(c_,8))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),zr=(()=>{let e=class e{constructor(r){this._subject=new Oe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=oM(t_(n_(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Xt(i))}normalize(r){return e.stripTrailingSlash(iM(this._basePath,n_(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Xt(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Xt(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=Xt,e.joinWithSlash=zd,e.stripTrailingSlash=t_,e.\u0275fac=function(i){return new(i||e)(N(Kn))},e.\u0275prov=C({token:e,factory:()=>rM(),providedIn:"root"});let t=e;return t})();function rM(){return new zr(N(Kn))}function iM(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function n_(t){return t.replace(/\/index.html$/,"")}function oM(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function qd(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Bd=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},u_=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new Bd(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let c=i.get(s);i.move(c,a),r_(c,o)}});for(let o=0,s=i.length;o<s;o++){let c=i.get(o).context;c.index=o,c.count=s,c.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);r_(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(ne(to),ne(xd),ne(Vd))},e.\u0275dir=qi({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function r_(t,e){t.context.$implicit=e.item}function sM(t,e){return new D(2100,!1)}var d_=(()=>{let e=class e{transform(r){if(r==null)return null;if(typeof r!="string")throw sM(e,r);return r.toUpperCase()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=Da({name:"uppercase",type:e,pure:!0,standalone:!0});let t=e;return t})();var Xa=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=tt({type:e}),e.\u0275inj=et({});let t=e;return t})(),Kd="browser",aM="server";function cM(t){return t===Kd}function Gr(t){return t===aM}var f_=(()=>{let e=class e{};e.\u0275prov=C({token:e,providedIn:"root",factory:()=>cM(y(nt))?new $d(y(Le),window):new Hd});let t=e;return t})(),$d=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=lM(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function lM(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Hd=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Za=class{};var tc=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var w_=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(w_||{}),Yd=class{constructor(e,n=E_.Ok,r="OK"){this.headers=e.headers||new tc,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var nc=class t extends Yd{constructor(e={}){super(e),this.type=w_.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};var E_=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(E_||{});var dM=new S("");var p_="b",g_="h",m_="s",v_="st",y_="u",__="rt",ec=new S(""),fM=["GET","HEAD"];function hM(t,e){let d=y(ec),{isCacheActive:n}=d,r=ag(d,["isCacheActive"]),{transferCache:i,method:o}=t;if(!n||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!fM.includes(o)||i===!1||r.filter?.(t)===!1)return e(t);let s=y(Wn),a=gM(t),c=s.get(a,null),l=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(l=i.includeHeaders),c){let{[p_]:f,[__]:h,[g_]:p,[m_]:w,[v_]:k,[y_]:U}=c,fe=f;switch(h){case"arraybuffer":fe=new TextEncoder().encode(f).buffer;break;case"blob":fe=new Blob([f]);break}let ce=new tc(p);return R(new nc({body:fe,headers:ce,status:w,statusText:k,url:U}))}let u=Gr(y(nt));return e(t).pipe(pe(f=>{f instanceof nc&&u&&s.set(a,{[p_]:f.body,[g_]:pM(f.headers,l),[m_]:f.status,[v_]:f.statusText,[y_]:f.url||"",[__]:t.responseType})}))}function pM(t,e){if(!e)return{};let n={};for(let r of e){let i=t.getAll(r);i!==null&&(n[r]=i)}return n}function I_(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function gM(t){let{params:e,method:n,responseType:r,url:i}=t,o=I_(e),s=t.serializeBody();s instanceof URLSearchParams?s=I_(s):typeof s!="string"&&(s="");let a=[n,r,i,s,o].join("|"),c=mM(a);return c}function mM(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function b_(t){return[{provide:ec,useFactory:()=>(Hr("NgHttpTransferCache"),E({isCacheActive:!0},t))},{provide:dM,useValue:hM,multi:!0,deps:[Wn,ec]},{provide:Wr,multi:!0,useFactory:()=>{let e=y(Zt),n=y(ec);return()=>{Fd(e).then(()=>{n.isCacheActive=!1})}}}]}var Zd=class extends Ja{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Xd=class t extends Zd{static makeCurrent(){s_(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=vM();return n==null?null:yM(n)}resetBaseElement(){so=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return qd(document.cookie,e)}},so=null;function vM(){return so=so||document.querySelector("base"),so?so.getAttribute("href"):null}function yM(t){return new URL(t,document.baseURI).pathname}var ef=class{addToWindow(e){Qe.getAngularTestability=(r,i=!0)=>{let o=e.findTestabilityInTree(r,i);if(o==null)throw new D(5103,!1);return o},Qe.getAllAngularTestabilities=()=>e.getAllTestabilities(),Qe.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=Qe.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};Qe.frameworkStabilizers||(Qe.frameworkStabilizers=[]),Qe.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?qn().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},_M=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),tf=new S(""),S_=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new D(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(N(tf),N(Q))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),rc=class{constructor(e){this._doc=e}},Qd="ng-app-id",A_=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Gr(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Qd}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(Qd),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Qd,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(N(Le),N(eo),N(pd,8),N(nt))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),Jd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},of=/%COMP%/g,M_="%COMP%",IM=`_nghost-${M_}`,wM=`_ngcontent-${M_}`,EM=!0,bM=new S("",{providedIn:"root",factory:()=>EM});function CM(t){return wM.replace(of,t)}function DM(t){return IM.replace(of,t)}function x_(t,e){return e.map(n=>n.replace(of,t))}var C_=(()=>{let e=class e{constructor(r,i,o,s,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Gr(c),this.defaultRenderer=new ao(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===At.ShadowDom&&(i=le(E({},i),{encapsulation:At.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof ic?o.applyToHost(r):o instanceof co&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case At.Emulated:s=new ic(l,u,i,this.appId,d,a,c,f);break;case At.ShadowDom:return new nf(l,u,r,i,a,c,this.nonce,f);default:s=new co(l,u,i,d,a,c,f);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(N(S_),N(A_),N(eo),N(bM),N(Le),N(nt),N(Q),N(pd))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),ao=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Jd[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(D_(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(D_(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new D(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Jd[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Jd[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Yt.DashCase|Yt.Important)?e.style.setProperty(n,r,i&Yt.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Yt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=qn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function D_(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var nf=class extends ao{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=x_(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},co=class extends ao{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?x_(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ic=class extends co{constructor(e,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=CM(l),this.hostAttr=DM(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},TM=(()=>{let e=class e extends rc{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(N(Le))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})(),T_=["alt","control","meta","shift"],SM={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},AM={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},MM=(()=>{let e=class e extends rc{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>qn().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),T_.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=SM[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),T_.forEach(a=>{if(a!==o){let c=AM[a];c(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(N(Le))},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})();function xM(){Xd.makeCurrent()}function NM(){return new Mt}function RM(){return $v(document),document}var OM=[{provide:nt,useValue:Kd},{provide:hd,useValue:xM,multi:!0},{provide:Le,useFactory:RM,deps:[]}],N_=Ud(Jy,"browser",OM),PM=new S(""),kM=[{provide:io,useClass:ef,deps:[]},{provide:kd,useClass:qa,deps:[Q,Ka,io]},{provide:qa,useClass:qa,deps:[Q,Ka,io]}],LM=[{provide:Ta,useValue:"root"},{provide:Mt,useFactory:NM,deps:[]},{provide:tf,useClass:TM,multi:!0,deps:[Le,Q,nt]},{provide:tf,useClass:MM,multi:!0,deps:[Le]},C_,A_,S_,{provide:$i,useExisting:C_},{provide:Za,useClass:_M,deps:[]},[]],R_=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:eo,useValue:r.appId}]}}};e.\u0275fac=function(i){return new(i||e)(N(PM,12))},e.\u0275mod=tt({type:e}),e.\u0275inj=et({providers:[...LM,...kM],imports:[Xa,Zy]});let t=e;return t})();var O_=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(N(Le))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var rf=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t}(rf||{});function P_(...t){let e=[],n=new Set,r=n.has(rf.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:o}of t)n.add(o),i.length&&e.push(i);return Qt([[],Xy(),n.has(rf.NoHttpTransferCache)||r?[]:b_({}),e])}var L="primary",Co=Symbol("RouteTitle"),uf=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Jr(t){return new uf(t)}function FM(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function jM(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!kt(t[n],e[n]))return!1;return!0}function kt(t,e){let n=t?df(t):void 0,r=e?df(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!W_(t[i],e[i]))return!1;return!0}function df(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function W_(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function z_(t){return t.length>0?t[t.length-1]:null}function bn(t){return Bl(t)?t:oo(t)?ue(Promise.resolve(t)):R(t)}var UM={exact:q_,subset:K_},G_={exact:VM,subset:BM,ignored:()=>!0};function L_(t,e,n){return UM[n.paths](t.root,e.root,n.matrixParams)&&G_[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function VM(t,e){return kt(t,e)}function q_(t,e,n){if(!Qn(t.segments,e.segments)||!ac(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!q_(t.children[r],e.children[r],n))return!1;return!0}function BM(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>W_(t[n],e[n]))}function K_(t,e,n){return Y_(t,e,e.segments,n)}function Y_(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Qn(i,n)||e.hasChildren()||!ac(i,n,r))}else if(t.segments.length===n.length){if(!Qn(t.segments,n)||!ac(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!K_(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Qn(t.segments,i)||!ac(t.segments,i,r)||!t.children[L]?!1:Y_(t.children[L],e,o,r)}}function ac(t,e,n){return e.every((r,i)=>G_[n](t[i].parameters,r.parameters))}var In=class{constructor(e=new te([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Jr(this.queryParams),this._queryParamMap}toString(){return WM.serialize(this)}},te=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cc(this)}},Yn=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Jr(this.parameters),this._parameterMap}toString(){return J_(this)}};function $M(t,e){return Qn(t,e)&&t.every((n,r)=>kt(n.parameters,e[r].parameters))}function Qn(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function HM(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===L&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==L&&(n=n.concat(e(i,r)))}),n}var Do=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>new mo,providedIn:"root"});let t=e;return t})(),mo=class{parse(e){let n=new hf(e);return new In(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${lo(e.root,!0)}`,r=qM(e.queryParams),i=typeof e.fragment=="string"?`#${zM(e.fragment)}`:"";return`${n}${r}${i}`}},WM=new mo;function cc(t){return t.segments.map(e=>J_(e)).join("/")}function lo(t,e){if(!t.hasChildren())return cc(t);if(e){let n=t.children[L]?lo(t.children[L],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==L&&r.push(`${i}:${lo(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=HM(t,(r,i)=>i===L?[lo(t.children[L],!1)]:[`${i}:${lo(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[L]!=null?`${cc(t)}/${n[0]}`:`${cc(t)}/(${n.join("//")})`}}function Q_(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function oc(t){return Q_(t).replace(/%3B/gi,";")}function zM(t){return encodeURI(t)}function ff(t){return Q_(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lc(t){return decodeURIComponent(t)}function F_(t){return lc(t.replace(/\+/g,"%20"))}function J_(t){return`${ff(t.path)}${GM(t.parameters)}`}function GM(t){return Object.entries(t).map(([e,n])=>`;${ff(e)}=${ff(n)}`).join("")}function qM(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${oc(n)}=${oc(i)}`).join("&"):`${oc(n)}=${oc(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var KM=/^[^\/()?;#]+/;function sf(t){let e=t.match(KM);return e?e[0]:""}var YM=/^[^\/()?;=#]+/;function QM(t){let e=t.match(YM);return e?e[0]:""}var JM=/^[^=?&#]+/;function ZM(t){let e=t.match(JM);return e?e[0]:""}var XM=/^[^&#]+/;function ex(t){let e=t.match(XM);return e?e[0]:""}var hf=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new te([],{}):new te([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[L]=new te(e,n)),r}parseSegment(){let e=sf(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new D(4009,!1);return this.capture(e),new Yn(lc(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=QM(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=sf(this.remaining);i&&(r=i,this.capture(r))}e[lc(n)]=lc(r)}parseQueryParam(e){let n=ZM(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=ex(this.remaining);s&&(r=s,this.capture(r))}let i=F_(n),o=F_(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=sf(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new D(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=L);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[L]:new te([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new D(4011,!1)}};function Z_(t){return t.segments.length>0?new te([],{[L]:t}):t}function X_(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=X_(i);if(r===L&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new te(t.segments,e);return tx(n)}function tx(t){if(t.numberOfChildren===1&&t.children[L]){let e=t.children[L];return new te(t.segments.concat(e.segments),e.children)}return t}function Zr(t){return t instanceof In}function nx(t,e,n=null,r=null){let i=eI(t);return tI(i,e,n,r)}function eI(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new te(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=Z_(r);return e??i}function tI(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return af(i,i,i,n,r);let o=rx(e);if(o.toRoot())return af(i,i,new te([],{}),n,r);let s=ix(o,i,t),a=s.processChildren?ho(s.segmentGroup,s.index,o.commands):rI(s.segmentGroup,s.index,o.commands);return af(i,s.segmentGroup,a,n,r)}function uc(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function vo(t){return typeof t=="object"&&t!=null&&t.outlets}function af(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===e?s=n:s=nI(t,e,n);let a=Z_(X_(s));return new In(a,o,i)}function nI(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=nI(o,e,n)}),new te(t.segments,r)}var dc=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&uc(r[0]))throw new D(4003,!1);let i=r.find(vo);if(i&&i!==z_(r))throw new D(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function rx(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new dc(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new dc(n,e,r)}var Yr=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function ix(t,e,n){if(t.isAbsolute)return new Yr(e,!0,0);if(!n)return new Yr(e,!1,NaN);if(n.parent===null)return new Yr(n,!0,0);let r=uc(t.commands[0])?0:1,i=n.segments.length-1+r;return ox(n,i,t.numberOfDoubleDots)}function ox(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new D(4005,!1);i=r.segments.length}return new Yr(r,!1,i-o)}function sx(t){return vo(t[0])?t[0].outlets:{[L]:t}}function rI(t,e,n){if(t??=new te([],{}),t.segments.length===0&&t.hasChildren())return ho(t,e,n);let r=ax(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new te(t.segments.slice(0,r.pathIndex),{});return o.children[L]=new te(t.segments.slice(r.pathIndex),t.children),ho(o,0,i)}else return r.match&&i.length===0?new te(t.segments,{}):r.match&&!t.hasChildren()?pf(t,e,n):r.match?ho(t,0,i):pf(t,e,n)}function ho(t,e,n){if(n.length===0)return new te(t.segments,{});{let r=sx(n),i={};if(Object.keys(r).some(o=>o!==L)&&t.children[L]&&t.numberOfChildren===1&&t.children[L].segments.length===0){let o=ho(t.children[L],e,n);return new te(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=rI(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new te(t.segments,i)}}function ax(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(vo(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!U_(c,l,s))return o;r+=2}else{if(!U_(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function pf(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(vo(o)){let c=cx(o.outlets);return new te(r,c)}if(i===0&&uc(n[0])){let c=t.segments[e];r.push(new Yn(c.path,j_(n[0]))),i++;continue}let s=vo(o)?o.outlets[L]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&uc(a)?(r.push(new Yn(s,j_(a))),i+=2):(r.push(new Yn(s,{})),i++)}return new te(r,{})}function cx(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=pf(new te([],{}),0,r))}),e}function j_(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function U_(t,e,n){return t==n.path&&kt(e,n.parameters)}var po="imperative",De=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(De||{}),dt=class{constructor(e,n){this.id=e,this.url=n}},Xr=class extends dt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=De.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},en=class extends dt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=De.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},it=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(it||{}),fc=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(fc||{}),wn=class extends dt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=De.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},En=class extends dt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=De.NavigationSkipped}},yo=class extends dt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=De.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},hc=class extends dt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=De.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gf=class extends dt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=De.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mf=class extends dt{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=De.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},vf=class extends dt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=De.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yf=class extends dt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=De.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_f=class{constructor(e){this.route=e,this.type=De.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},If=class{constructor(e){this.route=e,this.type=De.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},wf=class{constructor(e){this.snapshot=e,this.type=De.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ef=class{constructor(e){this.snapshot=e,this.type=De.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bf=class{constructor(e){this.snapshot=e,this.type=De.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cf=class{constructor(e){this.snapshot=e,this.type=De.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pc=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=De.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},_o=class{},Io=class{constructor(e){this.url=e}};var Df=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new To,this.attachRef=null}},To=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Df,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),gc=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Tf(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Tf(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Sf(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Sf(e,this._root).map(n=>n.value)}};function Tf(t,e){if(t===e.value)return e;for(let n of e.children){let r=Tf(t,n);if(r)return r}return null}function Sf(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Sf(t,n);if(r.length)return r.unshift(e),r}return[]}var rt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Kr(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var mc=class extends gc{constructor(e,n){super(e),this.snapshot=n,Ff(this,e)}toString(){return this.snapshot.toString()}};function iI(t){let e=lx(t),n=new Ie([new Yn("",{})]),r=new Ie({}),i=new Ie({}),o=new Ie({}),s=new Ie(""),a=new ei(n,r,o,s,i,L,t,e.root);return a.snapshot=e.root,new mc(new rt(a,[]),e)}function lx(t){let e={},n={},r={},i="",o=new wo([],e,r,i,n,L,t,null,{});return new vc("",new rt(o,[]))}var ei=class{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(z(l=>l[Co]))??R(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(z(e=>Jr(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(z(e=>Jr(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Lf(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:E(E({},e.params),t.params),data:E(E({},e.data),t.data),resolve:E(E(E(E({},t.data),e.data),i?.data),t._resolvedData)}:r={params:E({},t.params),data:E({},t.data),resolve:E(E({},t.data),t._resolvedData??{})},i&&sI(i)&&(r.resolve[Co]=i.title),r}var wo=class{get title(){return this.data?.[Co]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Jr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Jr(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},vc=class extends gc{constructor(e,n){super(n),this.url=e,Ff(this,n)}toString(){return oI(this._root)}};function Ff(t,e){e.value._routerState=t,e.children.forEach(n=>Ff(t,n))}function oI(t){let e=t.children.length>0?` { ${t.children.map(oI).join(", ")} } `:"";return`${t.value}${e}`}function cf(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,kt(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),kt(e.params,n.params)||t.paramsSubject.next(n.params),jM(e.url,n.url)||t.urlSubject.next(n.url),kt(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Af(t,e){let n=kt(t.params,e.params)&&$M(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Af(t.parent,e.parent))}function sI(t){return typeof t.title=="string"||t.title===null}var ux=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=L,this.activateEvents=new Oe,this.deactivateEvents=new Oe,this.attachEvents=new Oe,this.detachEvents=new Oe,this.parentContexts=y(To),this.location=y(to),this.changeDetector=y(Gn),this.environmentInjector=y(Ze),this.inputBinder=y(Ec,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new D(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new D(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new D(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new D(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new Mf(r,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=qi({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ji]});let t=e;return t})(),Mf=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ei?this.route:e===To?this.childContexts:this.parent.get(e,n)}},Ec=new S(""),V_=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,o=Ai([i.queryParams,i.params,i.data]).pipe(Ye(([s,a,c],l)=>(c=E(E(E({},s),a),c),l===0?R(c):Promise.resolve(c)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=e_(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(r,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})();function dx(t,e,n){let r=Eo(t,e._root,n?n._root:void 0);return new mc(r,e)}function Eo(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=fx(t,e,n);return new rt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Eo(t,a)),s}}let r=hx(e.value),i=e.children.map(o=>Eo(t,o));return new rt(r,i)}}function fx(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Eo(t,r,i);return Eo(t,r)})}function hx(t){return new ei(new Ie(t.url),new Ie(t.params),new Ie(t.queryParams),new Ie(t.fragment),new Ie(t.data),t.outlet,t.component,t)}var aI="ngNavigationCancelingError";function cI(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Zr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=lI(!1,it.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function lI(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[aI]=!0,n.cancellationCode=e,n}function px(t){return uI(t)&&Zr(t.url)}function uI(t){return!!t&&t[aI]}var gx=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ve({type:e,selectors:[["ng-component"]],standalone:!0,features:[$y],decls:1,vars:0,template:function(i,o){i&1&&T(0,"router-outlet")},dependencies:[ux],encapsulation:2});let t=e;return t})();function mx(t,e){return t.providers&&!t._injector&&(t._injector=Ha(t.providers,e,`Route: ${t.path}`)),t._injector??e}function jf(t){let e=t.children&&t.children.map(jf),n=e?le(E({},t),{children:e}):E({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==L&&(n.component=gx),n}function Lt(t){return t.outlet||L}function vx(t,e){let n=t.filter(r=>Lt(r)===e);return n.push(...t.filter(r=>Lt(r)!==e)),n}function So(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var yx=(t,e,n,r)=>z(i=>(new xf(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),xf=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),cf(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Kr(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Kr(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Kr(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Kr(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Cf(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Ef(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(cf(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),cf(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=So(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},yc=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Qr=class{constructor(e,n){this.component=e,this.route=n}};function _x(t,e,n){let r=t._root,i=e?e._root:null;return uo(r,i,n,[r.value])}function Ix(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ni(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Nm(t)?t:e.get(t):r}function uo(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Kr(e);return t.children.forEach(s=>{wx(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>go(a,n.getContext(s),i)),i}function wx(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=Ex(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new yc(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?uo(t,e,a?a.children:null,r,i):uo(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Qr(a.outlet.component,s))}else s&&go(e,a,i),i.canActivateChecks.push(new yc(r)),o.component?uo(t,null,a?a.children:null,r,i):uo(t,null,n,r,i);return i}function Ex(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Qn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Qn(t.url,e.url)||!kt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Af(t,e)||!kt(t.queryParams,e.queryParams);case"paramsChange":default:return!Af(t,e)}}function go(t,e,n){let r=Kr(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?go(s,e.children.getContext(o),n):go(s,null,n):go(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Qr(e.outlet.component,i)):n.canDeactivateChecks.push(new Qr(null,i)):n.canDeactivateChecks.push(new Qr(null,i))}function Ao(t){return typeof t=="function"}function bx(t){return typeof t=="boolean"}function Cx(t){return t&&Ao(t.canLoad)}function Dx(t){return t&&Ao(t.canActivate)}function Tx(t){return t&&Ao(t.canActivateChild)}function Sx(t){return t&&Ao(t.canDeactivate)}function Ax(t){return t&&Ao(t.canMatch)}function dI(t){return t instanceof zt||t?.name==="EmptyError"}var sc=Symbol("INITIAL_VALUE");function ti(){return Ye(t=>Ai(t.map(e=>e.pipe(Gt(1),zl(sc)))).pipe(z(e=>{for(let n of e)if(n!==!0){if(n===sc)return sc;if(n===!1||n instanceof In)return n}return!0}),Ke(e=>e!==sc),Gt(1)))}function Mx(t,e){return ye(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?R(le(E({},n),{guardsResult:!0})):xx(s,r,i,t).pipe(ye(a=>a&&bx(a)?Nx(r,o,t,e):R(a)),z(a=>le(E({},n),{guardsResult:a})))})}function xx(t,e,n,r){return ue(t).pipe(ye(i=>Lx(i.component,i.route,n,e,r)),gt(i=>i!==!0,!0))}function Nx(t,e,n,r){return ue(e).pipe(dn(i=>Mr(Ox(i.route.parent,r),Rx(i.route,r),kx(t,i.path,n),Px(t,i.route,n))),gt(i=>i!==!0,!0))}function Rx(t,e){return t!==null&&e&&e(new bf(t)),R(!0)}function Ox(t,e){return t!==null&&e&&e(new wf(t)),R(!0)}function Px(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return R(!0);let i=r.map(o=>Us(()=>{let s=So(e)??n,a=ni(o,s),c=Dx(a)?a.canActivate(e,t):xt(s,()=>a(e,t));return bn(c).pipe(gt())}));return R(i).pipe(ti())}function kx(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>Ix(s)).filter(s=>s!==null).map(s=>Us(()=>{let a=s.guards.map(c=>{let l=So(s.node)??n,u=ni(c,l),d=Tx(u)?u.canActivateChild(r,t):xt(l,()=>u(r,t));return bn(d).pipe(gt())});return R(a).pipe(ti())}));return R(o).pipe(ti())}function Lx(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return R(!0);let s=o.map(a=>{let c=So(e)??i,l=ni(a,c),u=Sx(l)?l.canDeactivate(t,e,n,r):xt(c,()=>l(t,e,n,r));return bn(u).pipe(gt())});return R(s).pipe(ti())}function Fx(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return R(!0);let o=i.map(s=>{let a=ni(s,t),c=Cx(a)?a.canLoad(e,n):xt(t,()=>a(e,n));return bn(c)});return R(o).pipe(ti(),fI(r))}function fI(t){return Ol(pe(e=>{if(Zr(e))throw cI(t,e)}),z(e=>e===!0))}function jx(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return R(!0);let o=i.map(s=>{let a=ni(s,t),c=Ax(a)?a.canMatch(e,n):xt(t,()=>a(e,n));return bn(c)});return R(o).pipe(ti(),fI(r))}var bo=class{constructor(e){this.segmentGroup=e||null}},_c=class extends Error{constructor(e){super(),this.urlTree=e}};function qr(t){return Sr(new bo(t))}function Ux(t){return Sr(new D(4e3,!1))}function Vx(t){return Sr(lI(!1,it.GuardRejected))}var Nf=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return R(r);if(i.numberOfChildren>1||!i.children[L])return Ux(e.redirectTo);i=i.children[L]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new _c(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new In(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new te(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new D(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Rf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Bx(t,e,n,r,i){let o=Uf(t,e,n);return o.matched?(r=mx(e,r),jx(r,e,n,i).pipe(z(s=>s===!0?o:E({},Rf)))):R(o)}function Uf(t,e,n){if(e.path==="**")return $x(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?E({},Rf):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||FM)(n,t,e);if(!i)return E({},Rf);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?E(E({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function $x(t){return{matched:!0,parameters:t.length>0?z_(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function B_(t,e,n,r){return n.length>0&&zx(t,n,r)?{segmentGroup:new te(e,Wx(r,new te(n,t.children))),slicedSegments:[]}:n.length===0&&Gx(t,n,r)?{segmentGroup:new te(t.segments,Hx(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new te(t.segments,t.children),slicedSegments:n}}function Hx(t,e,n,r){let i={};for(let o of n)if(bc(t,e,o)&&!r[Lt(o)]){let s=new te([],{});i[Lt(o)]=s}return E(E({},r),i)}function Wx(t,e){let n={};n[L]=e;for(let r of t)if(r.path===""&&Lt(r)!==L){let i=new te([],{});n[Lt(r)]=i}return n}function zx(t,e,n){return n.some(r=>bc(t,e,r)&&Lt(r)!==L)}function Gx(t,e,n){return n.some(r=>bc(t,e,r))}function bc(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function qx(t,e,n,r){return Lt(t)!==r&&(r===L||!bc(e,n,t))?!1:Uf(e,t,n).matched}function Kx(t,e,n){return e.length===0&&!t.children[n]}var Of=class{};function Yx(t,e,n,r,i,o,s="emptyOnly"){return new Pf(t,e,n,r,i,s,o).recognize()}var Qx=31,Pf=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Nf(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new D(4002,`'${e.segmentGroup}'`)}recognize(){let e=B_(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(z(n=>{let r=new wo([],Object.freeze({}),Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,{},L,this.rootComponentType,null,{}),i=new rt(r,n),o=new vc("",i),s=nx(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,L).pipe(un(r=>{if(r instanceof _c)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof bo?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Lf(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(z(o=>o instanceof rt?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return ue(i).pipe(dn(o=>{let s=r.children[o],a=vx(n,o);return this.processSegmentGroup(e,a,s,o)}),Wl((o,s)=>(o.push(...s),o)),fn(null),Hl(),ye(o=>{if(o===null)return qr(r);let s=hI(o);return Jx(s),R(s)}))}processSegment(e,n,r,i,o,s){return ue(n).pipe(dn(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(un(c=>{if(c instanceof bo)return R(null);throw c}))),gt(a=>!!a),un(a=>{if(dI(a))return Kx(r,i,o)?R(new Of):qr(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return qx(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):qr(i):qr(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=Uf(n,i,o);if(!a)return qr(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>Qx&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,d).pipe(ye(f=>this.processSegment(e,r,n,f.concat(u),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=Bx(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(Ye(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ye(({routes:c})=>{let l=r._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:f}=a,h=new wo(u,f,Object.freeze(E({},this.urlTree.queryParams)),this.urlTree.fragment,Xx(r),Lt(r),r.component??r._loadedComponent??null,r,eN(r)),{segmentGroup:p,slicedSegments:w}=B_(n,u,d,c);if(w.length===0&&p.hasChildren())return this.processChildren(l,c,p).pipe(z(U=>U===null?null:new rt(h,U)));if(c.length===0&&w.length===0)return R(new rt(h,[]));let k=Lt(r)===o;return this.processSegment(l,c,p,w,k?L:o,!0).pipe(z(U=>new rt(h,U instanceof rt?[U]:[])))}))):qr(n)))}getChildConfig(e,n,r){return n.children?R({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?R({routes:n._loadedRoutes,injector:n._loadedInjector}):Fx(e,n,r,this.urlSerializer).pipe(ye(i=>i?this.configLoader.loadChildren(e,n).pipe(pe(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):Vx(n))):R({routes:[],injector:e})}};function Jx(t){t.sort((e,n)=>e.value.outlet===L?-1:n.value.outlet===L?1:e.value.outlet.localeCompare(n.value.outlet))}function Zx(t){let e=t.value.routeConfig;return e&&e.path===""}function hI(t){let e=[],n=new Set;for(let r of t){if(!Zx(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=hI(r.children);e.push(new rt(r.value,i))}return e.filter(r=>!n.has(r))}function Xx(t){return t.data||{}}function eN(t){return t.resolve||{}}function tN(t,e,n,r,i,o){return ye(s=>Yx(t,e,n,r,s.extractedUrl,i,o).pipe(z(({state:a,tree:c})=>le(E({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function nN(t,e){return ye(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return R(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of pI(c))s.add(l);let a=0;return ue(s).pipe(dn(c=>o.has(c)?rN(c,r,t,e):(c.data=Lf(c,c.parent,t).resolve,R(void 0))),pe(()=>a++),Nr(1),ye(c=>a===s.size?R(n):qe))})}function pI(t){let e=t.children.map(n=>pI(n)).flat();return[t,...e]}function rN(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!sI(i)&&(o[Co]=i.title),iN(o,t,e,r).pipe(z(s=>(t._resolvedData=s,t.data=Lf(t,t.parent,n).resolve,null)))}function iN(t,e,n,r){let i=df(t);if(i.length===0)return R({});let o={};return ue(i).pipe(ye(s=>oN(t[s],e,n,r).pipe(gt(),pe(a=>{o[s]=a}))),Nr(1),$l(o),un(s=>dI(s)?qe:Sr(s)))}function oN(t,e,n,r){let i=So(e)??r,o=ni(t,i),s=o.resolve?o.resolve(e,n):xt(i,()=>o(e,n));return bn(s)}function lf(t){return Ye(e=>{let n=t(e);return n?ue(n).pipe(z(()=>e)):R(e)})}var gI=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===L);return i}getResolvedTitleForRoute(r){return r.data[Co]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>y(sN),providedIn:"root"});let t=e;return t})(),sN=(()=>{let e=class e extends gI{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(N(O_))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Mo=new S("",{providedIn:"root",factory:()=>({})}),Ic=new S(""),Vf=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=y(Qa)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return R(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=bn(r.loadComponent()).pipe(z(mI),pe(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),xr(()=>{this.componentLoaders.delete(r)})),o=new br(i,()=>new Re).pipe(Er());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return R({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=aN(i,this.compiler,r,this.onLoadEndListener).pipe(xr(()=>{this.childrenLoaders.delete(i)})),a=new br(s,()=>new Re).pipe(Er());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function aN(t,e,n,r){return bn(t.loadChildren()).pipe(z(mI),ye(i=>i instanceof Hi||Array.isArray(i)?R(i):ue(e.compileModuleAsync(i))),z(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Ic,[],{optional:!0,self:!0}).flat()),{routes:s.map(jf),injector:o}}))}function cN(t){return t&&typeof t=="object"&&"default"in t}function mI(t){return cN(t)?t.default:t}var Bf=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>y(lN),providedIn:"root"});let t=e;return t})(),lN=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),vI=new S(""),yI=new S("");function uN(t,e,n){let r=t.get(yI),i=t.get(Le);return t.get(Q).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),dN(t))),{onViewTransitionCreated:c}=r;return c&&xt(t,()=>c({transition:a,from:e,to:n})),s})}function dN(t){return new Promise(e=>{Rd(e,{injector:t})})}var $f=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Re,this.transitionAbortSubject=new Re,this.configLoader=y(Vf),this.environmentInjector=y(Ze),this.urlSerializer=y(Do),this.rootContexts=y(To),this.location=y(zr),this.inputBindingEnabled=y(Ec,{optional:!0})!==null,this.titleStrategy=y(gI),this.options=y(Mo,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=y(Bf),this.createViewTransition=y(vI,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>R(void 0),this.rootComponentType=null;let r=o=>this.events.next(new _f(o)),i=o=>this.events.next(new If(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(le(E(E({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new Ie({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:po,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ke(s=>s.id!==0),z(s=>le(E({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Ye(s=>{let a=!1,c=!1;return R(s).pipe(Ye(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",it.SupersededByNewNavigation),qe;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?le(E({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!u&&d!=="reload"){let f="";return this.events.next(new En(l.id,this.urlSerializer.serialize(l.rawUrl),f,fc.IgnoredSameUrlNavigation)),l.resolve(null),qe}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return R(l).pipe(Ye(f=>{let h=this.transitions?.getValue();return this.events.next(new Xr(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?qe:Promise.resolve(f)}),tN(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),pe(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=le(E({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let h=new hc(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:f,extractedUrl:h,source:p,restoredState:w,extras:k}=l,U=new Xr(f,this.urlSerializer.serialize(h),p,w);this.events.next(U);let fe=iI(this.rootComponentType).snapshot;return this.currentTransition=s=le(E({},l),{targetSnapshot:fe,urlAfterRedirects:h,extras:le(E({},k),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,R(s)}else{let f="";return this.events.next(new En(l.id,this.urlSerializer.serialize(l.extractedUrl),f,fc.IgnoredByUrlHandlingStrategy)),l.resolve(null),qe}}),pe(l=>{let u=new gf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),z(l=>(this.currentTransition=s=le(E({},l),{guards:_x(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),Mx(this.environmentInjector,l=>this.events.next(l)),pe(l=>{if(s.guardsResult=l.guardsResult,Zr(l.guardsResult))throw cI(this.urlSerializer,l.guardsResult);let u=new mf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Ke(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",it.GuardRejected),!1)),lf(l=>{if(l.guards.canActivateChecks.length)return R(l).pipe(pe(u=>{let d=new vf(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Ye(u=>{let d=!1;return R(u).pipe(nN(this.paramsInheritanceStrategy,this.environmentInjector),pe({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",it.NoDataFromResolver)}}))}),pe(u=>{let d=new yf(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),lf(l=>{let u=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(pe(h=>{d.component=h}),z(()=>{})));for(let h of d.children)f.push(...u(h));return f};return Ai(u(l.targetSnapshot.root)).pipe(fn(null),Gt(1))}),lf(()=>this.afterPreactivation()),Ye(()=>{let{currentSnapshot:l,targetSnapshot:u}=s,d=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return d?ue(d).pipe(z(()=>s)):R(s)}),z(l=>{let u=dx(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=le(E({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),pe(()=>{this.events.next(new _o)}),yx(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Gt(1),pe({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new en(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Gl(this.transitionAbortSubject.pipe(pe(l=>{throw l}))),xr(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",it.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),un(l=>{if(c=!0,uI(l))this.events.next(new wn(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),px(l)?this.events.next(new Io(l.url)):s.resolve(!1);else{this.events.next(new yo(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(l))}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return qe}))}))}cancelNavigationTransition(r,i,o){let s=new wn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function fN(t){return t!==po}var hN=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>y(pN),providedIn:"root"});let t=e;return t})(),kf=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},pN=(()=>{let e=class e extends kf{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=dd(e)))(o||e)}})(),e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),_I=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:()=>y(gN),providedIn:"root"});let t=e;return t})(),gN=(()=>{let e=class e extends _I{constructor(){super(...arguments),this.location=y(zr),this.urlSerializer=y(Do),this.options=y(Mo,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=y(Bf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new In,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=iI(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Xr)this.stateMemento=this.createStateMemento();else if(r instanceof En)this.rawUrlTree=i.initialUrl;else if(r instanceof hc){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof _o?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof wn&&(r.code===it.GuardRejected||r.code===it.NoDataFromResolver)?this.restoreHistory(i):r instanceof yo?this.restoreHistory(i,!0):r instanceof en&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=E(E({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=E(E({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=dd(e)))(o||e)}})(),e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),fo=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(fo||{});function II(t,e){t.events.pipe(Ke(n=>n instanceof en||n instanceof wn||n instanceof yo||n instanceof En),z(n=>n instanceof en||n instanceof En?fo.COMPLETE:(n instanceof wn?n.code===it.Redirect||n.code===it.SupersededByNewNavigation:!1)?fo.REDIRECTING:fo.FAILED),Ke(n=>n!==fo.REDIRECTING),Gt(1)).subscribe(()=>{e()})}function mN(t){throw t}var vN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},yN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Jn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=y(Ga),this.stateManager=y(_I),this.options=y(Mo,{optional:!0})||{},this.pendingTasks=y(no),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=y($f),this.urlSerializer=y(Do),this.location=y(zr),this.urlHandlingStrategy=y(Bf),this._events=new Re,this.errorHandler=this.options.errorHandler||mN,this.navigated=!1,this.routeReuseStrategy=y(hN),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=y(Ic,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!y(Ec,{optional:!0}),this.eventsSubscription=new he,this.isNgZoneEnabled=y(Q)instanceof Q&&Q.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof wn&&i.code!==it.Redirect&&i.code!==it.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof en)this.navigated=!0;else if(i instanceof Io){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),c={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||fN(o.source)};this.scheduleNavigation(a,po,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}IN(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),po,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=E({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(jf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=E(E({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let h=o?o.snapshot:this.routerState.snapshot.root;f=eI(h)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return tI(f,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=Zr(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,po,null,i)}navigate(r,i={skipLocationChange:!1}){return _N(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=E({},vN):i===!1?o=E({},yN):o=i,Zr(r))return L_(this.currentUrlTree,r,o);let s=this.parseUrl(r);return L_(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((f,h)=>{c=f,l=h});let d=this.pendingTasks.add();return II(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function _N(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new D(4008,!1)}function IN(t){return!(t instanceof _o)&&!(t instanceof Io)}var wc=class{};var wN=(()=>{let e=class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Ke(r=>r instanceof en),dn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let o=[];for(let s of i){s.providers&&!s._injector&&(s._injector=Ha(s.providers,r,`Route: ${s.path}`));let a=s._injector??r,c=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(c,s.children??s._loadedRoutes))}return ue(o).pipe(Ar())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(r,i):o=R(null);let s=o.pipe(ye(a=>a===null?R(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return ue([s,a]).pipe(Ar())}else return s})}};e.\u0275fac=function(i){return new(i||e)(N(Jn),N(Qa),N(Ze),N(wc),N(Vf))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),wI=new S(""),EN=(()=>{let e=class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Xr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof en?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof En&&r.code===fc.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof pc&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new pc(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){ly()},e.\u0275prov=C({token:e,factory:e.\u0275fac});let t=e;return t})();function bN(t){return t.routerState.root}function xo(t,e){return{\u0275kind:t,\u0275providers:e}}function CN(){let t=y(ke);return e=>{let n=t.get(Zt);if(e!==n.components[0])return;let r=t.get(Jn),i=t.get(EI);t.get(Hf)===1&&r.initialNavigation(),t.get(bI,null,V.Optional)?.setUpPreloading(),t.get(wI,null,V.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var EI=new S("",{factory:()=>new Re}),Hf=new S("",{providedIn:"root",factory:()=>1});function DN(){return xo(2,[{provide:Hf,useValue:0},{provide:Ya,multi:!0,deps:[ke],useFactory:e=>{let n=e.get(a_,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Jn),o=e.get(EI);II(i,()=>{r(!0)}),e.get($f).afterPreactivation=()=>(r(!0),o.closed?R(void 0):o),i.initialNavigation()}))}}])}function TN(){return xo(3,[{provide:Ya,multi:!0,useFactory:()=>{let e=y(Jn);return()=>{e.setUpLocationChangeListener()}}},{provide:Hf,useValue:2}])}var bI=new S("");function SN(t){return xo(0,[{provide:bI,useExisting:wN},{provide:wc,useExisting:t}])}function AN(){return xo(8,[V_,{provide:Ec,useExisting:V_}])}function MN(t){let e=[{provide:vI,useValue:uN},{provide:yI,useValue:E({skipNextTransition:!!t?.skipInitialTransition},t)}];return xo(9,e)}var $_=new S("ROUTER_FORROOT_GUARD"),xN=[zr,{provide:Do,useClass:mo},Jn,To,{provide:ei,useFactory:bN,deps:[Jn]},Vf,[]],Wf=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[xN,[],{provide:Ic,multi:!0,useValue:r},{provide:$_,useFactory:PN,deps:[[Jn,new lt,new Qu]]},{provide:Mo,useValue:i||{}},i?.useHash?RN():ON(),NN(),i?.preloadingStrategy?SN(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?kN(i):[],i?.bindToComponentInputs?AN().\u0275providers:[],i?.enableViewTransitions?MN().\u0275providers:[],LN()]}}static forChild(r){return{ngModule:e,providers:[{provide:Ic,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(N($_,8))},e.\u0275mod=tt({type:e}),e.\u0275inj=et({});let t=e;return t})();function NN(){return{provide:wI,useFactory:()=>{let t=y(f_),e=y(Q),n=y(Mo),r=y($f),i=y(Do);return n.scrollOffset&&t.setOffset(n.scrollOffset),new EN(i,r,t,e,n)}}}function RN(){return{provide:Kn,useClass:l_}}function ON(){return{provide:Kn,useClass:Gd}}function PN(t){return"guarded"}function kN(t){return[t.initialNavigation==="disabled"?TN().\u0275providers:[],t.initialNavigation==="enabledBlocking"?DN().\u0275providers:[]]}var H_=new S("");function LN(){return[{provide:H_,useFactory:CN},{provide:Wr,multi:!0,useExisting:H_}]}var FN=[],CI=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=tt({type:e}),e.\u0275inj=et({imports:[Wf.forRoot(FN),Wf]});let t=e;return t})();var zf={"navbar.button.home":"HOME","navbar.button.games":"GAMES","navbar.button.projects":"PROJECTS","navbar.button.services":"SERVICES","navbar.button.contacts":"CONTACTS","home.header.title":"Hola! I'm MIRO.\u{1F44B}","home.header.subtitle":"Computer Science Engineering Student & Software Engineer...","home.body.text":"I\u2019m a Computer Science Engineering student at the National School of Computer Science and a part-time Software Engineer at Expensya by Medius. I love using technology to create solutions that make a difference. Game development is my favorite hobby, and I enjoy building fun and immersive experiences. Join me on my journey as I combine my skills in software engineering and game development!","cards.button.text":"READ MORE ->","services.fullstack.title":"Full Stack Development","services.fullstack.bodytext":"I can help you build robust full-stack applications, including both backend and frontend development. With my expertise in full-stack development, I can create solutions tailored to your needs.","services.ai.title":"AI Development","services.ai.bodytext":"I specialize in AI fields such as NLP, OCR, and Computer Vision. Let's leverage the power of AI to build innovative solutions for your business.","services.game.title":"Game Development","services.game.bodytext":"I do game development and design for fun and freelancing. Let's create engaging and immersive gaming experiences together.","services.skills.header":"MY SKILLS","services.skills.mean":"FULL STACK- MEAN","services.skills.game_engines":"GAME ENGINES AND DIVERSE TOOLS","contact.header.title":"Contact Me","contact.github.title":"GitHub:","contact.github.text":"-> My GitHub Profile","contact.leetcode.title":"LeetCode:","contact.leetcode.text":"-> My LeetCode Profile","contact.linkedin.title":"LinkedIn:","contact.linkedin.text":"-> My LinkedIn Profile","contact.itchio.title":"Itch.io:","contact.itchio.text":"-> My Itch.io Profile","contact.youtube.title":"YouTube:","contact.youtube.text":"-> My YouTube Channel","contact.discord.title":"DISCORD:","contact.discord.text":"-> miro#3878","contact.gmail.title":"Email:","contact.gmail.text":"-> marwen.jlassi@ensi-uma.tn","experiences.expensya.title":"Expensya by Medius","experiences.expensya.position":"Software Engineer | Jul 2024 - Present","experiences.expensya.achievement1":"Worked on the Affidavit Feature 'Missing Receipt Declaration,' which is used by over 5000 users so far, marking a great milestone.","experiences.expensya.achievement2":"Enhanced OCR accuracy by adding new detection features and resolving a significant number of bugs.","experiences.expensya.achievement3":"Developed invoice fraud detection using CNN models.","experiences.value.title":"Value - Digital Services","experiences.value.position":"Full Stack Developer | Internship Jun 2024","experiences.value.achievement1":"Worked on VGreen, a carbon footprint calculator. Transformed the project from a monolithic to a microservices architecture."};var DI={"navbar.button.home":"ACCUEIL","navbar.button.games":"JEUX","navbar.button.projects":"PROJETS","navbar.button.services":"SERVICES","navbar.button.contacts":"CONTACTS","home.header.title":"Hola! Je suis MIRO.\u{1F44B}","home.header.subtitle":"\xC9tudiant en Ing\xE9nierie Informatique & Ing\xE9nieur Logiciel...","home.body.text":"Je suis \xE9tudiant en Ing\xE9nierie Informatique \xE0 l'\xC9cole Nationale d'Informatique et ing\xE9nieur logiciel \xE0 temps partiel chez Expensya par Medius. J'adore utiliser la technologie pour cr\xE9er des solutions qui font la diff\xE9rence. Le d\xE9veloppement de jeux est mon passe-temps favori, et j'aime construire des exp\xE9riences amusantes et immersives. Rejoignez-moi dans mon parcours o\xF9 je combine mes comp\xE9tences en ing\xE9nierie logicielle et en d\xE9veloppement de jeux !","cards.button.text":"EN SAVOIR PLUS ->","services.fullstack.title":"D\xE9veloppement Full Stack","services.fullstack.bodytext":"Je peux vous aider \xE0 construire des applications full stack robustes, incluant le d\xE9veloppement backend et frontend. Avec mon expertise en d\xE9veloppement full stack, je peux cr\xE9er des solutions adapt\xE9es \xE0 vos besoins.","services.ai.title":"D\xE9veloppement IA","services.ai.bodytext":"Je me sp\xE9cialise dans les domaines de l'IA tels que le NLP, l'OCR et la Vision par Ordinateur. Tirons parti de la puissance de l'IA pour construire des solutions innovantes pour votre entreprise.","services.game.title":"D\xE9veloppement de Jeux","services.game.bodytext":"Je fais du d\xE9veloppement et de la conception de jeux pour le plaisir et en freelance. Cr\xE9ons ensemble des exp\xE9riences de jeu engageantes et immersives.","services.skills.header":"MES COMP\xC9TENCES","services.skills.mean":"FULL STACK- MEAN","services.skills.game_engines":"MOTEURS DE JEU ET OUTILS DIVERS","contact.header.title":"Contactez-moi","contact.github.title":"GitHub :","contact.github.text":"-> Mon profil GitHub","contact.leetcode.title":"LeetCode :","contact.leetcode.text":"-> Mon profil LeetCode","contact.linkedin.title":"LinkedIn :","contact.linkedin.text":"-> Mon profil LinkedIn","contact.itchio.title":"Itch.io :","contact.itchio.text":"-> Mon profil Itch.io","contact.youtube.title":"YouTube :","contact.youtube.text":"-> Ma cha\xEEne YouTube","contact.discord.title":"DISCORD :","contact.discord.text":"-> miro#3878","contact.gmail.title":"Email :","contact.gmail.text":"-> marwen.jlassi@ensi-uma.tn","experiences.expensya.title":"Expensya par Medius","experiences.expensya.position":"Ing\xE9nieur Logiciel | Juil 2024 - Pr\xE9sent","experiences.expensya.achievement1":"J'ai travaill\xE9 sur la fonctionnalit\xE9 de D\xE9claration sous serment 'D\xE9claration de re\xE7u manquant', utilis\xE9e par plus de 5000 utilisateurs \xE0 ce jour, marquant une grande \xE9tape.","experiences.expensya.achievement2":"J'ai am\xE9lior\xE9 la pr\xE9cision de l'OCR en ajoutant de nouvelles fonctionnalit\xE9s de d\xE9tection et en r\xE9solvant un nombre significatif de bugs.","experiences.expensya.achievement3":"J'ai d\xE9velopp\xE9 la d\xE9tection de fraude des factures en utilisant des mod\xE8les CNN.","experiences.value.title":"Value - Services Num\xE9riques","experiences.value.position":"D\xE9veloppeur Full Stack | Stage Juin 2024","experiences.value.achievement1":"J'ai travaill\xE9 sur VGreen, un calculateur d'empreinte carbone. J'ai transform\xE9 le projet d'une architecture monolithique \xE0 une architecture de microservices."};var TI={"navbar.button.home":"\u0627\u0644\u0635\u0641\u062D\u0629 \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629","navbar.button.games":"\u0627\u0644\u0623\u0644\u0639\u0627\u0628","navbar.button.projects":"\u0627\u0644\u0645\u0634\u0627\u0631\u064A\u0639","navbar.button.services":"\u0627\u0644\u062E\u062F\u0645\u0627\u062A","navbar.button.contacts":"\u0627\u0644\u0627\u062A\u0635\u0627\u0644","home.header.title":"\u0645\u0631\u062D\u0628\u0627\u064B! \u0623\u0646\u0627 MIRO.\u{1F44B}","home.header.subtitle":"\u0637\u0627\u0644\u0628 \u0641\u064A \u0647\u0646\u062F\u0633\u0629 \u0627\u0644\u062D\u0627\u0633\u0648\u0628 \u0648 \u0645\u0647\u0646\u062F\u0633 \u0628\u0631\u0645\u062C\u064A\u0627\u062A...","home.body.text":"\u0623\u0646\u0627 \u0637\u0627\u0644\u0628 \u0641\u064A \u0647\u0646\u062F\u0633\u0629 \u0627\u0644\u062D\u0627\u0633\u0648\u0628 \u0641\u064A \u0627\u0644\u0645\u062F\u0631\u0633\u0629 \u0627\u0644\u0648\u0637\u0646\u064A\u0629 \u0644\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0648\u0623\u0646\u0627 \u0645\u0647\u0646\u062F\u0633 \u0628\u0631\u0645\u062C\u064A\u0627\u062A \u0628\u062F\u0648\u0627\u0645 \u062C\u0632\u0626\u064A \u0641\u064A Expensya \u0645\u0646 Medius. \u0623\u062D\u0628 \u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u0627\u0644\u062A\u0643\u0646\u0648\u0644\u0648\u062C\u064A\u0627 \u0644\u0625\u0646\u0634\u0627\u0621 \u062D\u0644\u0648\u0644 \u062A\u062D\u062F\u062B \u0641\u0631\u0642\u0627\u064B. \u062A\u0637\u0648\u064A\u0631 \u0627\u0644\u0623\u0644\u0639\u0627\u0628 \u0647\u0648 \u0647\u0648\u0627\u064A\u062A\u064A \u0627\u0644\u0645\u0641\u0636\u0644\u0629\u060C \u0648\u0623\u0633\u062A\u0645\u062A\u0639 \u0628\u0628\u0646\u0627\u0621 \u062A\u062C\u0627\u0631\u0628 \u0645\u0645\u062A\u0639\u0629 \u0648\u063A\u0627\u0645\u0631\u0629. \u0627\u0646\u0636\u0645 \u0625\u0644\u064A\u0651 \u0641\u064A \u0631\u062D\u0644\u062A\u064A \u062D\u064A\u062B \u0623\u062F\u0645\u062C \u0645\u0647\u0627\u0631\u0627\u062A\u064A \u0641\u064A \u0627\u0644\u0647\u0646\u062F\u0633\u0629 \u0627\u0644\u0628\u0631\u0645\u062C\u064A\u0629 \u0648\u062A\u0637\u0648\u064A\u0631 \u0627\u0644\u0623\u0644\u0639\u0627\u0628!","cards.button.text":"\u0627\u0642\u0631\u0623 \u0627\u0644\u0645\u0632\u064A\u062F ->","services.fullstack.title":"\u062A\u0637\u0648\u064A\u0631 \u0643\u0627\u0645\u0644 \u0627\u0644\u0645\u0643\u062F\u0633","services.fullstack.bodytext":"\u064A\u0645\u0643\u0646\u0646\u064A \u0645\u0633\u0627\u0639\u062F\u062A\u0643 \u0641\u064A \u0628\u0646\u0627\u0621 \u062A\u0637\u0628\u064A\u0642\u0627\u062A \u0643\u0627\u0645\u0644\u0629 \u0627\u0644\u0645\u0643\u062F\u0633\u060C \u0628\u0645\u0627 \u0641\u064A \u0630\u0644\u0643 \u062A\u0637\u0648\u064A\u0631 \u0627\u0644\u0648\u0627\u062C\u0647\u0629 \u0627\u0644\u062E\u0644\u0641\u064A\u0629 \u0648\u0627\u0644\u0648\u0627\u062C\u0647\u0629 \u0627\u0644\u0623\u0645\u0627\u0645\u064A\u0629. \u0645\u0639 \u062E\u0628\u0631\u062A\u064A \u0641\u064A \u062A\u0637\u0648\u064A\u0631 \u0643\u0627\u0645\u0644 \u0627\u0644\u0645\u0643\u062F\u0633\u060C \u064A\u0645\u0643\u0646\u0646\u064A \u0625\u0646\u0634\u0627\u0621 \u062D\u0644\u0648\u0644 \u0645\u062E\u0635\u0635\u0629 \u0644\u0627\u062D\u062A\u064A\u0627\u062C\u0627\u062A\u0643.","services.ai.title":"\u062A\u0637\u0648\u064A\u0631 \u0627\u0644\u0630\u0643\u0627\u0621 \u0627\u0644\u0627\u0635\u0637\u0646\u0627\u0639\u064A","services.ai.bodytext":"\u0623\u062A\u062E\u0635\u0635 \u0641\u064A \u0645\u062C\u0627\u0644\u0627\u062A \u0627\u0644\u0630\u0643\u0627\u0621 \u0627\u0644\u0627\u0635\u0637\u0646\u0627\u0639\u064A \u0645\u062B\u0644 \u0645\u0639\u0627\u0644\u062C\u0629 \u0627\u0644\u0644\u063A\u0627\u062A \u0627\u0644\u0637\u0628\u064A\u0639\u064A\u0629 (NLP)\u060C \u0627\u0644\u062A\u0639\u0631\u0641 \u0627\u0644\u0636\u0648\u0626\u064A \u0639\u0644\u0649 \u0627\u0644\u062D\u0631\u0648\u0641 (OCR)\u060C \u0648\u0627\u0644\u0631\u0624\u064A\u0629 \u0627\u0644\u062D\u0627\u0633\u0648\u0628\u064A\u0629. \u062F\u0639\u0646\u0627 \u0646\u0633\u062A\u0641\u064A\u062F \u0645\u0646 \u0642\u0648\u0629 \u0627\u0644\u0630\u0643\u0627\u0621 \u0627\u0644\u0627\u0635\u0637\u0646\u0627\u0639\u064A \u0644\u0628\u0646\u0627\u0621 \u062D\u0644\u0648\u0644 \u0645\u0628\u062A\u0643\u0631\u0629 \u0644\u0623\u0639\u0645\u0627\u0644\u0643.","services.game.title":"\u062A\u0637\u0648\u064A\u0631 \u0627\u0644\u0623\u0644\u0639\u0627\u0628","services.game.bodytext":"\u0623\u0642\u0648\u0645 \u0628\u062A\u0637\u0648\u064A\u0631 \u0648\u062A\u0635\u0645\u064A\u0645 \u0627\u0644\u0623\u0644\u0639\u0627\u0628 \u0644\u0644\u0645\u062A\u0639\u0629 \u0648\u0627\u0644\u0639\u0645\u0644 \u0627\u0644\u062D\u0631. \u062F\u0639\u0646\u0627 \u0646\u062E\u0644\u0642 \u062A\u062C\u0627\u0631\u0628 \u0623\u0644\u0639\u0627\u0628 \u062C\u0630\u0627\u0628\u0629 \u0648\u063A\u0627\u0645\u0631\u0629 \u0645\u0639\u064B\u0627.","services.skills.header":"\u0645\u0647\u0627\u0631\u0627\u062A\u064A","services.skills.mean":"FULL STACK- MEAN","services.skills.game_engines":"\u0645\u062D\u0631\u0643\u0627\u062A \u0627\u0644\u0623\u0644\u0639\u0627\u0628 \u0648\u0627\u0644\u0623\u062F\u0648\u0627\u062A \u0627\u0644\u0645\u062A\u0646\u0648\u0639\u0629","contact.header.title":"\u0627\u062A\u0635\u0644 \u0628\u064A","contact.github.title":"GitHub:","contact.github.text":"-> \u0645\u0644\u0641\u064A \u0639\u0644\u0649 GitHub","contact.leetcode.title":"LeetCode:","contact.leetcode.text":"-> \u0645\u0644\u0641\u064A \u0639\u0644\u0649 LeetCode","contact.linkedin.title":"LinkedIn:","contact.linkedin.text":"-> \u0645\u0644\u0641\u064A \u0639\u0644\u0649 LinkedIn","contact.itchio.title":"Itch.io:","contact.itchio.text":"-> \u0645\u0644\u0641\u064A \u0639\u0644\u0649 Itch.io","contact.youtube.title":"YouTube:","contact.youtube.text":"-> \u0642\u0646\u0627\u062A\u064A \u0639\u0644\u0649 YouTube","contact.discord.title":"DISCORD:","contact.discord.text":"-> miro#3878","contact.gmail.title":"\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A:","contact.gmail.text":"-> marwen.jlassi@ensi-uma.tn","experiences.expensya.title":"\u0625\u0643\u0633\u0628\u0646\u0633\u064A\u0627 \u0628\u0648\u0627\u0633\u0637\u0629 \u0645\u064A\u062F\u0648\u0633","experiences.expensya.position":"\u0645\u0647\u0646\u062F\u0633 \u0628\u0631\u0645\u062C\u064A\u0627\u062A | \u064A\u0648\u0644\u064A\u0648 2024 - \u0627\u0644\u062D\u0627\u0636\u0631","experiences.expensya.achievement1":"\u0639\u0645\u0644\u062A \u0639\u0644\u0649 \u0645\u064A\u0632\u0629 \u0627\u0644\u0625\u0642\u0631\u0627\u0631 '\u0625\u0639\u0644\u0627\u0646 \u0627\u0644\u0641\u0648\u0627\u062A\u064A\u0631 \u0627\u0644\u0645\u0641\u0642\u0648\u062F\u0629'\u060C \u0648\u0627\u0644\u062A\u064A \u064A\u0633\u062A\u062E\u062F\u0645\u0647\u0627 \u0623\u0643\u062B\u0631 \u0645\u0646 5000 \u0645\u0633\u062A\u062E\u062F\u0645 \u062D\u062A\u0649 \u0627\u0644\u0622\u0646\u060C \u0645\u0645\u0627 \u064A\u0645\u062B\u0644 \u0645\u0639\u0644\u0645\u064B\u0627 \u0639\u0638\u064A\u0645\u064B\u0627.","experiences.expensya.achievement2":"\u0639\u0632\u0632\u062A \u062F\u0642\u0629 OCR \u0645\u0646 \u062E\u0644\u0627\u0644 \u0625\u0636\u0627\u0641\u0629 \u0645\u064A\u0632\u0627\u062A \u0643\u0634\u0641 \u062C\u062F\u064A\u062F\u0629 \u0648\u062D\u0644 \u0639\u062F\u062F \u0643\u0628\u064A\u0631 \u0645\u0646 \u0627\u0644\u0623\u062E\u0637\u0627\u0621.","experiences.expensya.achievement3":"\u0637\u0648\u0631\u062A \u0643\u0634\u0641 \u0627\u0644\u0627\u062D\u062A\u064A\u0627\u0644 \u0641\u064A \u0627\u0644\u0641\u0648\u0627\u062A\u064A\u0631 \u0628\u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u0646\u0645\u0627\u0630\u062C CNN.","experiences.value.title":"\u0641\u0627\u0644\u064A\u0648 - \u0627\u0644\u062E\u062F\u0645\u0627\u062A \u0627\u0644\u0631\u0642\u0645\u064A\u0629","experiences.value.position":"\u0645\u0637\u0648\u0631 \u0643\u0627\u0645\u0644 \u0627\u0644\u0645\u0643\u062F\u0633 | \u062A\u062F\u0631\u064A\u0628 \u064A\u0648\u0646\u064A\u0648 2024","experiences.value.achievement1":"\u0639\u0645\u0644\u062A \u0639\u0644\u0649 VGreen\u060C \u062D\u0627\u0633\u0628\u0629 \u0628\u0635\u0645\u0629 \u0627\u0644\u0643\u0631\u0628\u0648\u0646. \u062D\u0648\u0644\u062A \u0627\u0644\u0645\u0634\u0631\u0648\u0639 \u0645\u0646 \u0628\u0646\u064A\u0629 \u0623\u062D\u0627\u062F\u064A\u0629 \u0625\u0644\u0649 \u0628\u0646\u064A\u0629 \u062E\u062F\u0645\u0627\u062A \u0635\u063A\u064A\u0631\u0629."};var SI={"navbar.button.home":"INICIO","navbar.button.games":"JUEGOS","navbar.button.projects":"PROYECTOS","navbar.button.services":"SERVICIOS","navbar.button.contacts":"CONTACTOS","home.header.title":"\xA1Hola! Soy MIRO.\u{1F44B}","home.header.subtitle":"Estudiante de Ingenier\xEDa Inform\xE1tica & Ingeniero de Software...","home.body.text":"Soy estudiante de Ingenier\xEDa Inform\xE1tica en la Escuela Nacional de Inform\xE1tica y un Ingeniero de Software a tiempo parcial en Expensya por Medius. Me encanta usar la tecnolog\xEDa para crear soluciones que marcan la diferencia. El desarrollo de juegos es mi pasatiempo favorito, y disfruto construir experiencias divertidas e inmersivas. \xA1\xDAnete a m\xED en mi viaje donde combino mis habilidades en ingenier\xEDa de software y desarrollo de juegos!","cards.button.text":"LEER M\xC1S ->","services.fullstack.title":"Desarrollo Full Stack","services.fullstack.bodytext":"Puedo ayudarte a construir aplicaciones full stack robustas, incluyendo desarrollo backend y frontend. Con mi experiencia en desarrollo full stack, puedo crear soluciones adaptadas a tus necesidades.","services.ai.title":"Desarrollo de IA","services.ai.bodytext":"Me especializo en campos de IA como NLP, OCR y Visi\xF3n por Computadora. Aprovechemos el poder de la IA para construir soluciones innovadoras para tu negocio.","services.game.title":"Desarrollo de Juegos","services.game.bodytext":"Hago desarrollo y dise\xF1o de juegos por diversi\xF3n y freelancing. Creemos experiencias de juego atractivas e inmersivas juntos.","services.skills.header":"MIS HABILIDADES","services.skills.mean":"FULL STACK- MEAN","services.skills.game_engines":"MOTORES DE JUEGOS Y HERRAMIENTAS DIVERSAS","contact.header.title":"Cont\xE1ctame","contact.github.title":"GitHub:","contact.github.text":"-> Mi perfil de GitHub","contact.leetcode.title":"LeetCode:","contact.leetcode.text":"-> Mi perfil de LeetCode","contact.linkedin.title":"LinkedIn:","contact.linkedin.text":"-> Mi perfil de LinkedIn","contact.itchio.title":"Itch.io:","contact.itchio.text":"-> Mi perfil de Itch.io","contact.youtube.title":"YouTube:","contact.youtube.text":"-> Mi canal de YouTube","contact.discord.title":"DISCORD:","contact.discord.text":"-> miro#3878","contact.gmail.title":"Correo electr\xF3nico:","contact.gmail.text":"-> marwen.jlassi@ensi-uma.tn","experiences.expensya.title":"Expensya por Medius","experiences.expensya.position":"Ingeniero de Software | Jul 2024 - Presente","experiences.expensya.achievement1":"Trabaj\xE9 en la funci\xF3n de Declaraci\xF3n Jurada 'Declaraci\xF3n de Recibo Faltante', que es utilizada por m\xE1s de 5000 usuarios hasta ahora, marcando un gran hito.","experiences.expensya.achievement2":"Mejor\xE9 la precisi\xF3n del OCR agregando nuevas caracter\xEDsticas de detecci\xF3n y resolviendo un n\xFAmero significativo de errores.","experiences.expensya.achievement3":"Desarroll\xE9 la detecci\xF3n de fraudes en facturas utilizando modelos CNN.","experiences.value.title":"Value - Servicios Digitales","experiences.value.position":"Desarrollador Full Stack | Pasant\xEDa Jun 2024","experiences.value.achievement1":"Trabaj\xE9 en VGreen, una calculadora de huella de carbono. Transform\xE9 el proyecto de una arquitectura monol\xEDtica a una de microservicios."};var Cc=(()=>{let e=class e{constructor(){this.translations=zf,this.currentLanguage="EN"}switchLanguage(r){switch(this.currentLanguage=r,r){case"EN":this.translations=zf;break;case"FR":this.translations=DI;break;case"AR":this.translations=TI;break;case"ES":this.translations=SI;break}}translate(r){return this.translations[r]||r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Be=(()=>{let e=class e{constructor(){this.themeSubject=new Ie("dark"),this.currentTheme=this.themeSubject.asObservable()}setTheme(r){this.themeSubject.next(r),document.body.className=r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var MI=(()=>{let e=class e{constructor(r){this.themeService=r,this.currentTheme="dark",this.themeService.currentTheme.subscribe(i=>{this.currentTheme=i})}toggleTheme(){let r=this.currentTheme==="light"?"dark":"light";this.themeService.setTheme(r)}};e.\u0275fac=function(i){return new(i||e)(ne(Be))},e.\u0275cmp=ve({type:e,selectors:[["app-theme"]],decls:2,vars:5,consts:[[1,"theme-toggle-btn",3,"click"]],template:function(i,o){i&1&&(g(0,"button",0),Ce("click",function(){return o.toggleTheme()}),b(1),v()),i&2&&(ae("dark",o.currentTheme==="dark")("light",o.currentTheme==="light"),m(),Pt(" ",o.currentTheme==="dark"?"\u{1F31A}":"\u{1F31E}",`
`))},styles:[".theme-toggle-btn[_ngcontent-%COMP%]{color:#fff;height:50px;width:50px;margin:10px 20px;border-radius:50%;border:1px solid transparent;transition-duration:.3s;font-size:30px;position:fixed;top:80px;right:0;display:flex;justify-content:center;align-items:center;text-align:center}.theme-toggle-btn.dark[_ngcontent-%COMP%]{background-color:rgb(237,237,237,0,50);box-shadow:0 0 100px 20px #8d65c5}.theme-toggle-btn.light[_ngcontent-%COMP%]{background-color:#121212;box-shadow:0 0 100px 20px orange}.theme-toggle-btn[_ngcontent-%COMP%]:hover{transform:scale(1.2);cursor:pointer}@media screen and (max-width: 700px){.theme-toggle-btn[_ngcontent-%COMP%]{top:6%}}"]});let t=e;return t})();var $e=(()=>{let e=class e{constructor(r){this.translationService=r}transform(r){return this.translationService.translate(r)}};e.\u0275fac=function(i){return new(i||e)(ne(Cc,16))},e.\u0275pipe=Da({name:"translation",type:e,pure:!1});let t=e;return t})();var xI=(()=>{let e=class e{constructor(r,i){this.translation=r,this.cdr=i,this.isMenuOpen=!1,this.isDropdownOpen=!1,this.currentLanguage="EN"}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}scrollToElement(r){let i=document.getElementById(r);i&&i.scrollIntoView({behavior:"smooth",block:"start"}),this.toggleMenu()}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen,console.log(this.isDropdownOpen)}switchLanguage(r){this.currentLanguage=r,this.translation.switchLanguage(r),this.cdr.detectChanges()}};e.\u0275fac=function(i){return new(i||e)(ne(Cc),ne(Gn))},e.\u0275cmp=ve({type:e,selectors:[["app-navbar"]],decls:40,vars:22,consts:[[1,"navbar"],[1,"container"],[1,"burger",3,"click"],[1,"nav-links"],[3,"click"],[1,"language-switch",3,"click"],[1,"dropbtn"],[1,"dropdown-content"]],template:function(i,o){i&1&&(g(0,"nav",0)(1,"div",1)(2,"div",2),Ce("click",function(){return o.toggleMenu()}),b(3,"\u2630"),T(4,"br"),v(),g(5,"ul",3)(6,"li")(7,"a",4),Ce("click",function(){return o.scrollToElement("home")}),b(8),A(9,"translation"),v()(),g(10,"li")(11,"a",4),Ce("click",function(){return o.scrollToElement("games")}),b(12),A(13,"translation"),v()(),g(14,"li")(15,"a",4),Ce("click",function(){return o.scrollToElement("projects")}),b(16),A(17,"translation"),v()(),g(18,"li")(19,"a",4),Ce("click",function(){return o.scrollToElement("services")}),b(20),A(21,"translation"),v()(),g(22,"li")(23,"a",4),Ce("click",function(){return o.scrollToElement("contact")}),b(24),A(25,"translation"),v()()()(),g(26,"div",5),Ce("click",function(){return o.toggleDropdown()}),g(27,"div",6),b(28),A(29,"uppercase"),v(),g(30,"div",7)(31,"div",4),Ce("click",function(){return o.switchLanguage("EN")}),b(32,"EN"),v(),g(33,"div",4),Ce("click",function(){return o.switchLanguage("AR")}),b(34,"AR"),v(),g(35,"div",4),Ce("click",function(){return o.switchLanguage("ES")}),b(36,"ES"),v(),g(37,"div",4),Ce("click",function(){return o.switchLanguage("FR")}),b(38,"FR"),v()()()(),T(39,"app-theme")),i&2&&(m(5),ae("nav-active",o.isMenuOpen),m(3),x(M(9,10,"navbar.button.home")),m(4),x(M(13,12,"navbar.button.games")),m(4),x(M(17,14,"navbar.button.projects")),m(4),x(M(21,16,"navbar.button.services")),m(4),x(M(25,18,"navbar.button.contacts")),m(4),x(M(29,20,o.currentLanguage)),m(2),ae("show",o.isDropdownOpen))},dependencies:[MI,d_,$e],styles:[".navbar[_ngcontent-%COMP%]{background-color:#18181c;color:#fff;padding:0 20px;position:fixed;top:0%;width:100%;z-index:100}.navbar[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;justify-content:end;align-items:center;width:95%}.nav-links[_ngcontent-%COMP%]{list-style:none;display:flex}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;display:flex;justify-content:end;margin:10px 20px;transition-duration:.3s;cursor:pointer}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.burger[_ngcontent-%COMP%]{display:none;cursor:pointer}.nav-active[_ngcontent-%COMP%]{display:flex!important}.language-switch[_ngcontent-%COMP%]{position:fixed;top:21px;right:30px;background-color:#fff3;padding:5px 10px;border-radius:5px;box-shadow:0 2px 5px #0000001a;cursor:pointer;transition-duration:.3s;z-index:1000}.language-switch[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.dropbtn[_ngcontent-%COMP%]{color:#fff;border:none;cursor:pointer}.dropdown-content[_ngcontent-%COMP%]{display:none;position:absolute;background-color:#fff;min-width:80px;box-shadow:0 2px 5px #0000001a;z-index:1;right:0;top:100%;padding:5px 0;border-radius:5px}.dropdown-content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:#000;padding:8px 10px;text-decoration:none;display:block;cursor:pointer}.dropdown-content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{background-color:#ddd;border-radius:5px}.dropdown-content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:active{background-color:#ccc}.language-switch[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{text-align:center}.show[_ngcontent-%COMP%]{display:block}@media screen and (max-width: 1400px){.navbar[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{width:90%}}@media screen and (max-width: 700px){.navbar[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{justify-content:space-between;align-items:flex-start;padding-bottom:10px;padding-top:10px}.nav-links[_ngcontent-%COMP%]{display:none;flex-direction:column}.burger[_ngcontent-%COMP%]{display:flex}.language-switch[_ngcontent-%COMP%]{top:5px}}"]});let t=e;return t})();var NI={"contacts.github":"https://github.com/MiroJlassi","contacts.leetcode":"https://leetcode.com/u/MiroJlassi/","contacts.linkedin":"https://www.linkedin.com/in/marwen-jlassi-297467221/","contacts.itchio":"https://mirojlassi.itch.io/","contacts.youtube":"https://www.youtube.com/channel/UCKtqfo_KBwgT3ywYlzyhfTg","skills.c":"https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2FC.png?alt=media&token=993f0aea-b405-464c-9a61-bc5301b9dfa3","skills.c++":"https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fc%2B%2B.png?alt=media&token=71f7e1c8-83e8-4a43-aff8-959ae4bc8be9","skills.c#":"https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fc%20sharp.png?alt=media&token=83d82f57-f615-4466-ba20-9e6477c2b938","skills.python":"https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fpython-programming-language.png?alt=media&token=65481f4c-fbb8-429f-8ffd-d01c139b83b4","skills.java":"https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fjava-logo-1.png?alt=media&token=619f306d-fed2-4bea-a072-b6bc037c6b87","skills.javascript":"https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2FJavaScript-logo.png?alt=media&token=b6d47c0a-459c-47b5-9333-48b72d26a4a8","skills.html":"https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fhtml5.png?alt=media&token=9d4072cb-2879-4a92-8087-72fec042a438","skills.css":"https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2FCSS3_logo_and_wordmark.svg.png?alt=media&token=592343d8-c0ac-4ba1-9226-b6b5fcad6a1a","skills.php":"https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fphp.png?alt=media&token=6437753d-60e2-460d-aea8-07802c633e95","skills.net":"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7d/Microsoft_.NET_logo.svg/2048px-Microsoft_.NET_logo.svg.png","skills.angular":"https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fangular.png?alt=media&token=9b0d0167-06ac-416f-88d1-d762763ea2ea","skills.mongodb":"https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fmongodb.png?alt=media&token=5ba5ee09-8060-4c2f-92c6-f7db177deb62","skills.nodejs":"https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fnode.jpg?alt=media&token=1059ff04-52d3-409a-8ff4-e669ff670039","skills.express":"https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fexpress.png?alt=media&token=c3d01d33-d6f5-4999-97b0-19078d79670c","skills.unity":"https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Ftu3gt6ysfxq71.png?alt=media&token=0b34d9b7-b5c4-43c2-9a8d-ad946b27831a","skills.godot":"https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2F1200px-Godot_icon.svg.png?alt=media&token=66447ee1-c980-49ea-b1cb-d0a74c9dfbd6","skills.blender":"https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2FDakirby309-Simply-Styled-Blender.256.png?alt=media&token=363bc606-2584-4ff8-aa78-3e5e4a2ae50e","skills.photoshop":"https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fadobe-photoshop-logo-0.png?alt=media&token=3736c6ed-b507-4138-adbb-d732f116454d","skills.illustrator":"https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fadobe-Illustrator-logo-0-1.png?alt=media&token=252ce809-ca49-43fd-8508-dbe4698ce099","skills.aftereffects":"https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fadobe-after-effects-logo-0.png?alt=media&token=187510d4-2d39-41e7-9316-165cf742e83e","skills.premiere":"https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2FPremiere-Pro-Logo-PNG-Vector.png?alt=media&token=00d35670-ffe2-4cec-a92a-a2f36456bb98","skills.":"https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2F66c33251292331d29585d32632c3870651b66e01.png?alt=media&token=70c88db0-61a1-4f26-9d2a-49f54d2e2558","skills.flstudio":"https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fst%2Csmall%2C845x845-pad%2C1000x1000%2Cf8f8f8.jpg?alt=media&token=ada8b0f5-444d-430b-94fd-4a69b235de8e"};var Dc=(()=>{let e=class e{constructor(){this.links=NI}getLinks(){return this.links}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ae="img[_ngcontent-%COMP%]:hover{transform: scale(1.1);;box-shadow: 0 0px 10px #7f3089;}",ri="img[_ngcontent-%COMP%]:hover{transform: scale(1.1);;box-shadow: 0 0px 10px white;}",OI=(()=>{let e=class e{constructor(r,i){this.themeService=r,this.linkManager=i,this.currentTheme="",this.links=i.getLinks()}ngOnInit(){this.themeService.currentTheme.subscribe(r=>{this.currentTheme=r})}};e.\u0275fac=function(i){return new(i||e)(ne(Be),ne(Dc))},e.\u0275cmp=ve({type:e,selectors:[["app-me"]],decls:62,vars:36,consts:[[1,"container"],[2,"margin-top","100px"],[2,"width","30%","height","3px","background-color","rgba(255, 255, 255, 0.2)","margin-bottom","50px","border-radius","20px"],[2,"display","flex","justify-content","space-around","flex-wrap","wrap","width","100%","max-width","800px"],[2,"display","flex","justify-content","center","align-items","center","flex-direction","column","margin","10px"],["alt","",2,"padding","10px","background-color","#00589d","height","100px","border-radius","10px","transition-duration","0.3s","cursor","pointer",3,"src"],["alt","",2,"background-color","#360092","height","120px","border-radius","10px","transition-duration","0.3s","cursor","pointer",3,"src"],["alt","",2,"background-color","white","height","120px","border-radius","10px","transition-duration","0.3s","cursor","pointer",3,"src"],["alt","",2,"padding","10px","background-color","white","height","100px","border-radius","10px","transition-duration","0.3s","cursor","pointer",3,"src"],[2,"display","flex","justify-content","center","align-items","center","flex-direction","column","margin","10px","width","120px"],["alt","",2,"background-color","#787cb4","height","120px","border-radius","10px","transition-duration","0.3s","cursor","pointer",3,"src"],["alt","",2,"height","120px","border-radius","10px","transition-duration","0.3s","cursor","pointer",3,"src"],[2,"text-align","center","margin-top","100px"],["alt","",2,"padding","10px","background-color","white","height","100px","width","100px","border-radius","10px","transition-duration","0.3s","cursor","pointer",3,"src"]],template:function(i,o){i&1&&(g(0,"div",0)(1,"h1",1),b(2),A(3,"translation"),v(),T(4,"div",2),g(5,"div",3)(6,"div",4),T(7,"img",5),v(),g(8,"div",4),T(9,"img",5),v(),g(10,"div",4),T(11,"img",6),v(),g(12,"div",4),T(13,"img",7),v(),g(14,"div",4),T(15,"img",7),v(),g(16,"div",4),T(17,"img",8),v(),g(18,"div",9),T(19,"img",8),v(),g(20,"div",4),T(21,"img",7),v(),g(22,"div",4),T(23,"img",10),v(),g(24,"div",4),T(25,"img",10),v()(),g(26,"h1",1),b(27),A(28,"translation"),v(),T(29,"div",2),g(30,"div",3)(31,"div",4),T(32,"img",7),v(),g(33,"div",4),T(34,"img",11),v(),g(35,"div",4),T(36,"img",7),v(),g(37,"div",4),T(38,"img",7),v()(),g(39,"h1",12),b(40),A(41,"translation"),v(),T(42,"div",2),g(43,"div",3)(44,"div",4),T(45,"img",8),v(),g(46,"div",4),T(47,"img",8),v(),g(48,"div",4),T(49,"img",13),v(),g(50,"div",4),T(51,"img",13),v(),g(52,"div",4),T(53,"img",13),v(),g(54,"div",4),T(55,"img",8),v(),g(56,"div",4),T(57,"img",8),v(),g(58,"div",4),T(59,"img",8),v(),g(60,"div",4),T(61,"img",8),v()()()),i&2&&(ae("dark",o.currentTheme==="dark")("light",o.currentTheme==="light"),m(2),x(M(3,30,"services.skills.header")),m(5),j("src",o.links["skills.c"],J),m(2),j("src",o.links["skills.c++"],J),m(2),j("src",o.links["skills.c#"],J),m(2),j("src",o.links["skills.python"],J),m(2),j("src",o.links["skills.java"],J),m(2),j("src",o.links["skills.html"],J),m(2),j("src",o.links["skills.css"],J),m(2),j("src",o.links["skills.javascript"],J),m(2),j("src",o.links["skills.php"],J),m(2),j("src",o.links["skills.net"],J),m(2),x(M(28,32,"services.skills.mean")),m(5),j("src",o.links["skills.mongodb"],J),m(2),j("src",o.links["skills.express"],J),m(2),j("src",o.links["skills.angular"],J),m(2),j("src",o.links["skills.nodejs"],J),m(2),x(M(41,34,"services.skills.game_engines")),m(5),j("src",o.links["skills.unity"],J),m(2),j("src",o.links["skills.godot"],J),m(2),j("src",o.links["skills.blender"],J),m(2),j("src",o.links["skills.flstudio"],J),m(2),j("src",o.links["skills."],J),m(2),j("src",o.links["skills.photoshop"],J),m(2),j("src",o.links["skills.illustrator"],J),m(2),j("src",o.links["skills.aftereffects"],J),m(2),j("src",o.links["skills.premiere"],J))},dependencies:[$e],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;transition:background-color .5s ease,color .5s ease}.container.dark[_ngcontent-%COMP%]{background-color:#121212;color:#fff}.container.light[_ngcontent-%COMP%]{background-color:#fff;color:#121212}",Ae,Ae,Ae,ri,ri,ri,ri,"img[_ngcontent-%COMP%]:hover{transform: scale(1.1);;box-shadow: 0 0px 10px 0px white;}",ri,ri,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae,Ae]});let t=e;return t})();var PI=(()=>{let e=class e{constructor(r){this.themeService=r,this.currentTheme=""}ngOnInit(){this.themeService.currentTheme.subscribe(r=>{this.currentTheme=r})}};e.\u0275fac=function(i){return new(i||e)(ne(Be))},e.\u0275cmp=ve({type:e,selectors:[["app-services"]],decls:34,vars:25,consts:[[1,"main"],[2,"text-align","center","margin-top","200px"],[2,"height","3px","background-color","rgba(255, 255, 255, 0.269)","width","300px","box-shadow","0px 1px 10px rgba(255, 255, 255, 0.2)","border-radius","20px"],[2,"margin-top","50px"],[1,"container",2,"display","flex","justify-content","space-around"],[1,"ox",2,"display","flex","justify-content","space-around","align-items","center","flex-direction","column","text-align","center","border-radius","20px","padding","5px"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fweb-icon-line-on-white-background-image-for-web-presentation-logo-icon-symbol-free-vector.jpg?alt=media&token=16f461ca-d61b-436c-80d8-fa81bfb39c3b","alt","Full Stack Development",2,"border-radius","100%","height","100px"],[2,"width","90%","margin-top","-10px"],["src","https://cbx-prod.b-cdn.net/COLOURBOX66984952.jpg?width=800&height=800&quality=70","alt","AI Development",2,"border-radius","100%","height","100px"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fistockphoto-1136667521-612x612.jpg?alt=media&token=20cce404-80ee-47a7-8946-db2f087a511e","alt","Game Development",2,"border-radius","100%","height","100px"]],template:function(i,o){i&1&&(g(0,"div",0)(1,"h1",1),b(2),A(3,"translation"),v(),T(4,"div",2)(5,"div",3),g(6,"div",4)(7,"div",5)(8,"div"),T(9,"img",6),v(),g(10,"h3"),b(11),A(12,"translation"),v(),g(13,"p",7),b(14),A(15,"translation"),v()(),g(16,"div",5)(17,"div"),T(18,"img",8),v(),g(19,"h3"),b(20),A(21,"translation"),v(),g(22,"p",7),b(23),A(24,"translation"),v()(),g(25,"div",5)(26,"div"),T(27,"img",9),v(),g(28,"h3"),b(29),A(30,"translation"),v(),g(31,"p",7),b(32),A(33,"translation"),v()()()()),i&2&&(ae("dark",o.currentTheme==="dark")("light",o.currentTheme==="light"),m(2),x(M(3,11,"navbar.button.services")),m(9),x(M(12,13,"services.fullstack.title")),m(3),Pt(" ",M(15,15,"services.fullstack.bodytext")," "),m(6),x(M(21,17,"services.ai.title")),m(3),Pt(" ",M(24,19,"services.ai.bodytext")," "),m(6),x(M(30,21,"services.game.title")),m(3),Pt(" ",M(33,23,"services.game.bodytext")," "))},dependencies:[$e],styles:[".main[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;align-items:center;flex-wrap:wrap;transition:background-color .5s ease,color .5s ease}.main.dark[_ngcontent-%COMP%]{background-color:#121212;color:#fff}.main.light[_ngcontent-%COMP%]{background-color:#fff;color:#121212}.ox[_ngcontent-%COMP%]{width:25%;transition-duration:.5s;cursor:pointer;padding:10px}.ox[_ngcontent-%COMP%]:hover{transform:scale(1.1);background-color:#ffffff1a;box-shadow:0 0 50px #ffffff1c}.ox[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition-duration:.8s;margin-top:10px;height:80px}.ox[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:rotate(10deg)}@media (max-width: 1000px){.container[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;align-items:center}.ox[_ngcontent-%COMP%]{margin-top:10px;width:60%;margin-bottom:15px}}"]});let t=e;return t})();var kI=(()=>{let e=class e{constructor(r,i){this.themeService=r,this.linkManager=i,this.currentTheme="",this.links=i.getLinks()}ngOnInit(){this.themeService.currentTheme.subscribe(r=>{this.currentTheme=r})}};e.\u0275fac=function(i){return new(i||e)(ne(Be),ne(Dc))},e.\u0275cmp=ve({type:e,selectors:[["app-contact"]],decls:55,vars:82,consts:[[1,"container"],[2,"height","3px","background-color","rgba(255, 255, 255, 0.269)","width","300px","box-shadow","0px 1px 10px rgba(255, 255, 255, 0.2)","border-radius","20px"],["target","_blank",3,"href"],["href","mailto:marwen.jlassi@ensi-uma.tn"]],template:function(i,o){i&1&&(g(0,"div",0)(1,"h1"),b(2),A(3,"translation"),v(),T(4,"div",1),g(5,"ul")(6,"li")(7,"strong"),b(8),A(9,"translation"),v(),g(10,"a",2),b(11),A(12,"translation"),v()(),g(13,"li")(14,"strong"),b(15),A(16,"translation"),v(),g(17,"a",2),b(18),A(19,"translation"),v()(),g(20,"li")(21,"strong"),b(22),A(23,"translation"),v(),g(24,"a",2),b(25),A(26,"translation"),v()(),g(27,"li")(28,"strong"),b(29),A(30,"translation"),v(),g(31,"a",2),b(32),A(33,"translation"),v()(),g(34,"li")(35,"strong"),b(36),A(37,"translation"),v(),g(38,"a",2),b(39),A(40,"translation"),v()(),g(41,"li")(42,"strong"),b(43),A(44,"translation"),v(),g(45,"a"),b(46),A(47,"translation"),v()(),g(48,"li")(49,"strong"),b(50),A(51,"translation"),v(),g(52,"a",3),b(53),A(54,"translation"),v()()()()),i&2&&(ae("dark",o.currentTheme==="dark")("light",o.currentTheme==="light"),m(2),x(M(3,52,"navbar.button.contacts")),m(6),x(M(9,54,"contact.github.title")),m(2),ae("dark",o.currentTheme==="dark")("light",o.currentTheme==="light"),j("href",o.links["contacts.github"],J),m(),x(M(12,56,"contact.github.text")),m(4),x(M(16,58,"contact.leetcode.title")),m(2),ae("dark",o.currentTheme==="dark")("light",o.currentTheme==="light"),j("href",o.links["contacts.leetcode"],J),m(),x(M(19,60,"contact.leetcode.text")),m(4),x(M(23,62,"contact.linkedin.title")),m(2),ae("dark",o.currentTheme==="dark")("light",o.currentTheme==="light"),j("href",o.links["contacts.linkedin"],J),m(),x(M(26,64,"contact.linkedin.text")),m(4),x(M(30,66,"contact.itchio.title")),m(2),ae("dark",o.currentTheme==="dark")("light",o.currentTheme==="light"),j("href",o.links["contacts.itchio"],J),m(),x(M(33,68,"contact.itchio.text")),m(4),x(M(37,70,"contact.youtube.title")),m(2),ae("dark",o.currentTheme==="dark")("light",o.currentTheme==="light"),j("href",o.links["contacts.youtube"],J),m(),x(M(40,72,"contact.youtube.text")),m(4),x(M(44,74,"contact.discord.title")),m(2),ae("dark",o.currentTheme==="dark")("light",o.currentTheme==="light"),m(),x(M(47,76,"contact.discord.text")),m(4),x(M(51,78,"contact.gmail.title")),m(2),ae("dark",o.currentTheme==="dark")("light",o.currentTheme==="light"),m(),x(M(54,80,"contact.gmail.text")))},dependencies:[$e],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;margin:0 auto;padding:20px;transition:background-color .5s ease,color .5s ease}.container.dark[_ngcontent-%COMP%]{background-color:#121212;color:#fff}.container.light[_ngcontent-%COMP%]{background-color:#fff;color:#121212}h1[_ngcontent-%COMP%]{margin-top:200px;text-align:center}h1.dark[_ngcontent-%COMP%]{color:#fff}h1.light[_ngcontent-%COMP%]{color:#000}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:20px 0;width:90%;max-width:800px}li[_ngcontent-%COMP%]{margin-bottom:15px}a[_ngcontent-%COMP%]{display:block;text-decoration:none;border:2px solid transparent;border-radius:10px;padding:15px;transition:transform .3s ease,border-color .3s ease;transition-duration:.3s;margin:10px}a.dark[_ngcontent-%COMP%]{color:#ffffff84}a.light[_ngcontent-%COMP%]{color:#00000084}a.light[_ngcontent-%COMP%]:hover{border-color:#00000084}a.dark[_ngcontent-%COMP%]:hover{border-color:#ffffff84}a[_ngcontent-%COMP%]:hover{transform:scale(1.1)}"]});let t=e;return t})();var LI=(()=>{let e=class e{scrollToElement(r){let i=document.getElementById(r);i&&i.scrollIntoView({behavior:"smooth",block:"start"})}constructor(r){this.themeService=r,this.currentTheme=""}ngOnInit(){this.themeService.currentTheme.subscribe(r=>{this.currentTheme=r})}};e.\u0275fac=function(i){return new(i||e)(ne(Be))},e.\u0275cmp=ve({type:e,selectors:[["app-home"]],decls:47,vars:37,consts:[[1,"container"],[1,"elements"],[1,"experiences"],[1,"experience"],["src","https://play-lh.googleusercontent.com/_QqBa_W_OvenEdf_BzAEgRWm1B4f02eQoH1dw3tl2mK1GfUz_c7bGp8-7tGsg6Sn8iIa","alt","Expensya by Medius Logo",1,"company-logo"],[1,"experience-details"],[1,"company-title"],[1,"position"],[1,"achievements"],["src","https://value.com.tn/wp-content/uploads/2024/05/bg-video1.jpg","alt","Value - Digital Services Logo",1,"company-logo"],["href","https://vgreen-earth.com/","target","_blank"],[1,"arrow-container"],[1,"arrow",3,"click"]],template:function(i,o){i&1&&(g(0,"div",0)(1,"h1"),b(2),A(3,"translation"),v(),g(4,"h2",1),b(5),A(6,"translation"),v(),g(7,"p",1),b(8),A(9,"translation"),v(),g(10,"div",2)(11,"div",3),T(12,"img",4),g(13,"div",5)(14,"h3",6),b(15),A(16,"translation"),v(),g(17,"p",7),b(18),A(19,"translation"),v(),g(20,"div",8)(21,"p"),b(22),A(23,"translation"),v(),g(24,"p"),b(25),A(26,"translation"),v(),g(27,"p"),b(28),A(29,"translation"),v()()()(),g(30,"div",3),T(31,"img",9),g(32,"div",5)(33,"h3",6),b(34),A(35,"translation"),v(),g(36,"p",7),b(37),A(38,"translation"),v(),g(39,"div",8)(40,"p"),b(41),A(42,"translation"),g(43,"a",10),b(44,"View Project"),v()()()()()(),g(45,"div",11)(46,"div",12),Ce("click",function(){return o.scrollToElement("games")}),v()()()),i&2&&(ae("dark",o.currentTheme==="dark")("light",o.currentTheme==="light"),m(2),x(M(3,15,"home.header.title")),m(3),x(M(6,17,"home.header.subtitle")),m(3),x(M(9,19,"home.body.text")),m(7),x(M(16,21,"experiences.expensya.title")),m(3),x(M(19,23,"experiences.expensya.position")),m(4),x(M(23,25,"experiences.expensya.achievement1")),m(3),x(M(26,27,"experiences.expensya.achievement2")),m(3),x(M(29,29,"experiences.expensya.achievement3")),m(6),x(M(35,31,"experiences.value.title")),m(3),x(M(38,33,"experiences.value.position")),m(4),Pt("",M(42,35,"experiences.value.achievement1")," "))},dependencies:[$e],styles:['.container[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:center;align-items:center;flex-direction:column;transition:background-color .5s ease,color .5s ease}.container.dark[_ngcontent-%COMP%]{background-color:#121212;color:#fff}.container.light[_ngcontent-%COMP%]{background-color:#fff;color:#121212}.elements[_ngcontent-%COMP%]{width:80%;text-align:center}.arrow-container[_ngcontent-%COMP%]{position:relative;width:50px;height:50px}.arrow[_ngcontent-%COMP%]{position:absolute;margin-top:20px;top:0;left:50%;transform:translate(-50%);width:0;height:0;border-left:30px solid transparent;border-right:30px solid transparent;border-top:30px solid #ffffff91;animation:_ngcontent-%COMP%_arrowAnimation .8s infinite alternate;transition-duration:.5s}.arrow[_ngcontent-%COMP%]:hover{border-left:35px solid transparent;border-right:35px solid transparent;border-top:35px solid white;cursor:pointer}@keyframes _ngcontent-%COMP%_arrowAnimation{0%{transform:translate(-50%) translateY(0)}to{transform:translate(-50%) translateY(10px)}}.experiences[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:80%;margin-top:20px}.experience[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:20px;background-color:#ffffff1a;border-radius:10px;padding:20px;width:100%;box-shadow:0 4px 8px #0000001a}.company-logo[_ngcontent-%COMP%]{width:80px;height:80px;margin-right:20px;border-radius:50%;object-fit:cover}.experience-details[_ngcontent-%COMP%]{flex:1}.company-title[_ngcontent-%COMP%]{margin:0;font-size:1.5em}.position[_ngcontent-%COMP%]{margin:5px 0;font-style:italic}.achievements[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:10px 0}.achievements[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:5px}.achievements[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:before{content:"\\2022";color:#41abfd;font-weight:700;display:inline-block;width:1em;margin-left:-1em}']});let t=e;return t})();var qf={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var _=function(t,e){if(!t)throw tr(e)},tr=function(t){return new Error("Firebase Database ("+qf.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var jI=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},WN=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Sc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,f=(a&15)<<2|l>>6,h=l&63;c||(h=64,s||(f=64)),r.push(n[u],n[d],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):WN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new Kf;let f=o<<2|a>>4;if(r.push(f),l!==64){let h=a<<4&240|l>>2;if(r.push(h),d!==64){let p=l<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Kf=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Qf=function(t){let e=jI(t);return Sc.encodeByteArray(e,!0)},No=function(t){return Qf(t).replace(/\./g,"")},Ro=function(t){try{return Sc.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function UI(t){return VI(void 0,t)}function VI(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!zN(n)||(t[n]=VI(t[n],e[n]));return t}function zN(t){return t!=="__proto__"}function GN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var qN=()=>GN().__FIREBASE_DEFAULTS__,KN=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},YN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Ro(t[1]);return e&&JSON.parse(e)},Jf=()=>{try{return qN()||KN()||YN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},BI=t=>{var e,n;return(n=(e=Jf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},$I=t=>{let e=BI(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Zf=()=>{var t;return(t=Jf())===null||t===void 0?void 0:t.config},HI=t=>{var e;return(e=Jf())===null||e===void 0?void 0:e[`_${t}`]};var er=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function WI(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[No(JSON.stringify(n)),No(JSON.stringify(s)),""].join(".")}function Et(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Oo(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Et())}function zI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function GI(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Ac(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jt(){return qf.NODE_CLIENT===!0||qf.NODE_ADMIN===!0}function qI(){try{return typeof indexedDB=="object"}catch{return!1}}function KI(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var QN="FirebaseError",Ft=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=QN,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,tn.prototype.create)}},tn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?JN(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Ft(i,a,r)}};function JN(t,e){return t.replace(ZN,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var ZN=/\{\$([^}]+)}/g;function ii(t){return JSON.parse(t)}function we(t){return JSON.stringify(t)}var YI=function(t){let e={},n={},r={},i="";try{let o=t.split(".");e=ii(Ro(o[0])||""),n=ii(Ro(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var QI=function(t){let e=YI(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},JI=function(t){let e=YI(t).claims;return typeof e=="object"&&e.admin===!0};function Ut(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function nr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Mc(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Po(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function ko(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(FI(o)&&FI(s)){if(!ko(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function FI(t){return t!==null&&typeof t=="object"}function Lo(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}var Tc=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){let f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4],l,u;for(let d=0;d<80;d++){d<40?d<20?(l=a^o&(s^a),u=1518500249):(l=o^s^a,u=1859775393):d<60?(l=o&s|a&(o|s),u=2400959708):(l=o^s^a,u=3395469782);let f=(i<<5|i>>>27)+l+c+u+r[d]&4294967295;c=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,o=this.buf_,s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}};function ZI(t,e){let n=new Yf(t,e);return n.subscribe.bind(n)}var Yf=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");XN(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Gf),i.error===void 0&&(i.error=Gf),i.complete===void 0&&(i.complete=Gf);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function XN(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Gf(){}function Xf(t,e){return`${t} failed: ${e} argument `}var XI=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let o=i-55296;r++,_(r<t.length,"Surrogate pair missing trail surrogate.");let s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Fo=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var AH=4*60*60*1e3;function Vt(t){return t&&t._delegate?t._delegate:t}var ft=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var rr="[DEFAULT]";var xc=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new er;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tR(e))try{this.getOrInitializeService({instanceIdentifier:rr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=rr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return I(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=rr){return this.instances.has(e)}getOptions(e=rr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:eR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=rr){return this.component?this.component.multipleInstances?e:rr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function eR(t){return t===rr?void 0:t}function tR(t){return t.instantiationMode==="EAGER"}var jo=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new xc(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var nR=[],re=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(re||{}),rR={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},iR=re.INFO,oR={[re.DEBUG]:"log",[re.VERBOSE]:"log",[re.INFO]:"info",[re.WARN]:"warn",[re.ERROR]:"error"},sR=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=oR[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Cn=class{constructor(e){this.name=e,this._logLevel=iR,this._logHandler=sR,this._userLogHandler=null,nR.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,re.DEBUG,...e),this._logHandler(this,re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,re.VERBOSE,...e),this._logHandler(this,re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,re.INFO,...e),this._logHandler(this,re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,re.WARN,...e),this._logHandler(this,re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,re.ERROR,...e),this._logHandler(this,re.ERROR,...e)}};var aR=(t,e)=>e.some(n=>t instanceof n),ew,tw;function cR(){return ew||(ew=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function lR(){return tw||(tw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var nw=new WeakMap,th=new WeakMap,rw=new WeakMap,eh=new WeakMap,rh=new WeakMap;function uR(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Bt(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&nw.set(n,t)}).catch(()=>{}),rh.set(e,t),e}function dR(t){if(th.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});th.set(t,e)}var nh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return th.get(t);if(e==="objectStoreNames")return t.objectStoreNames||rw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function iw(t){nh=t(nh)}function fR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Nc(this),e,...n);return rw.set(r,e.sort?e.sort():[e]),Bt(r)}:lR().includes(t)?function(...e){return t.apply(Nc(this),e),Bt(nw.get(this))}:function(...e){return Bt(t.apply(Nc(this),e))}}function hR(t){return typeof t=="function"?fR(t):(t instanceof IDBTransaction&&dR(t),aR(t,cR())?new Proxy(t,nh):t)}function Bt(t){if(t instanceof IDBRequest)return uR(t);if(eh.has(t))return eh.get(t);let e=hR(t);return e!==t&&(eh.set(t,e),rh.set(e,t)),e}var Nc=t=>rh.get(t);function sw(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Bt(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Bt(s.result),c.oldVersion,c.newVersion,Bt(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var pR=["get","getKey","getAll","getAllKeys","count"],gR=["put","add","delete","clear"],ih=new Map;function ow(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ih.get(e))return ih.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=gR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||pR.includes(n)))return;let o=function(s,...a){return I(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return ih.set(e,o),o}iw(t=>le(E({},t),{get:(e,n,r)=>ow(e,n)||t.get(e,n,r),has:(e,n)=>!!ow(e,n)||t.has(e,n)}));var sh=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mR(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function mR(t){let e=t.getComponent();return e?.type==="VERSION"}var ah="@firebase/app",aw="0.10.13";var nn=new Cn("@firebase/app"),vR="@firebase/app-compat",yR="@firebase/analytics-compat",_R="@firebase/analytics",IR="@firebase/app-check-compat",wR="@firebase/app-check",ER="@firebase/auth",bR="@firebase/auth-compat",CR="@firebase/database",DR="@firebase/data-connect",TR="@firebase/database-compat",SR="@firebase/functions",AR="@firebase/functions-compat",MR="@firebase/installations",xR="@firebase/installations-compat",NR="@firebase/messaging",RR="@firebase/messaging-compat",OR="@firebase/performance",PR="@firebase/performance-compat",kR="@firebase/remote-config",LR="@firebase/remote-config-compat",FR="@firebase/storage",jR="@firebase/storage-compat",UR="@firebase/firestore",VR="@firebase/vertexai-preview",BR="@firebase/firestore-compat",$R="firebase",HR="10.14.1";var ch="[DEFAULT]",WR={[ah]:"fire-core",[vR]:"fire-core-compat",[_R]:"fire-analytics",[yR]:"fire-analytics-compat",[wR]:"fire-app-check",[IR]:"fire-app-check-compat",[ER]:"fire-auth",[bR]:"fire-auth-compat",[CR]:"fire-rtdb",[DR]:"fire-data-connect",[TR]:"fire-rtdb-compat",[SR]:"fire-fn",[AR]:"fire-fn-compat",[MR]:"fire-iid",[xR]:"fire-iid-compat",[NR]:"fire-fcm",[RR]:"fire-fcm-compat",[OR]:"fire-perf",[PR]:"fire-perf-compat",[kR]:"fire-rc",[LR]:"fire-rc-compat",[FR]:"fire-gcs",[jR]:"fire-gcs-compat",[UR]:"fire-fst",[BR]:"fire-fst-compat",[VR]:"fire-vertex","fire-js":"fire-js",[$R]:"fire-js-all"};var Uo=new Map,zR=new Map,lh=new Map;function cw(t,e){try{t.container.addComponent(e)}catch(n){nn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Tn(t){let e=t.name;if(lh.has(e))return nn.debug(`There were multiple attempts to register component ${e}.`),!1;lh.set(e,t);for(let n of Uo.values())cw(n,t);for(let n of zR.values())cw(n,t);return!0}function hh(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function oi(t){return t.settings!==void 0}var GR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dn=new tn("app","Firebase",GR);var uh=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ft("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Dn.create("app-deleted",{appName:this._name})}};var si=HR;function ph(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:ch,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Dn.create("bad-app-name",{appName:String(i)});if(n||(n=Zf()),!n)throw Dn.create("no-options");let o=Uo.get(i);if(o){if(ko(n,o.options)&&ko(r,o.config))return o;throw Dn.create("duplicate-app",{appName:i})}let s=new jo(i);for(let c of lh.values())s.addComponent(c);let a=new uh(n,r,s);return Uo.set(i,a),a}function Bo(t=ch){let e=Uo.get(t);if(!e&&t===ch&&Zf())return ph();if(!e)throw Dn.create("no-app",{appName:t});return e}function Rc(){return Array.from(Uo.values())}function Te(t,e,n){var r;let i=(r=WR[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),nn.warn(a.join(" "));return}Tn(new ft(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var qR="firebase-heartbeat-database",KR=1,Vo="firebase-heartbeat-store",oh=null;function fw(){return oh||(oh=sw(qR,KR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vo)}catch(n){console.warn(n)}}}}).catch(t=>{throw Dn.create("idb-open",{originalErrorMessage:t.message})})),oh}function YR(t){return I(this,null,function*(){try{let n=(yield fw()).transaction(Vo),r=yield n.objectStore(Vo).get(hw(t));return yield n.done,r}catch(e){if(e instanceof Ft)nn.warn(e.message);else{let n=Dn.create("idb-get",{originalErrorMessage:e?.message});nn.warn(n.message)}}})}function lw(t,e){return I(this,null,function*(){try{let r=(yield fw()).transaction(Vo,"readwrite");yield r.objectStore(Vo).put(e,hw(t)),yield r.done}catch(n){if(n instanceof Ft)nn.warn(n.message);else{let r=Dn.create("idb-set",{originalErrorMessage:n?.message});nn.warn(r.message)}}})}function hw(t){return`${t.name}!${t.options.appId}`}var QR=1024,JR=30*24*60*60*1e3,dh=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new fh(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return I(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=uw();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=JR}),this._storage.overwrite(this._heartbeatsCache))}catch(r){nn.warn(r)}})}getHeartbeatsHeader(){return I(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=uw(),{heartbeatsToSend:r,unsentEntries:i}=ZR(this._heartbeatsCache.heartbeats),o=No(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return nn.warn(n),""}})}};function uw(){return new Date().toISOString().substring(0,10)}function ZR(t,e=QR){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),dw(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),dw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var fh=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return I(this,null,function*(){return qI()?KI().then(()=>!0).catch(()=>!1):!1})}read(){return I(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield YR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return I(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return lw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return I(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return lw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function dw(t){return No(JSON.stringify({version:2,heartbeats:t})).length}function XR(t){Tn(new ft("platform-logger",e=>new sh(e),"PRIVATE")),Tn(new ft("heartbeat",e=>new dh(e),"PRIVATE")),Te(ah,aw,t),Te(ah,aw,"esm2017"),Te("fire-js","")}XR("");var eO="firebase",tO="10.14.1";Te(eO,tO,"app");var ci=new _n("ANGULARFIRE2_VERSION");function mh(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Ho=(t,e)=>{let n=e?[e]:Rc(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},$o=class{constructor(){return Ho(nO)}},nO="app-check";function ai(){}var Oc=class{zone;delegate;constructor(e,n=Ul){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},gh=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ai,{},ai,ai)),n.pipe(pe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Wo=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Oc(Zone.current)),this.insideAngular=n.run(()=>new Oc(Zone.current,jl)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(N(Q))};static \u0275prov=C({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Pc(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function rO(t){return Pc().ngZone.runOutsideAngular(()=>t())}function ir(t){return Pc().ngZone.run(()=>t())}function iO(t){return oO(Pc())(t)}function oO(t){return function(n){return n=n.lift(new gh(t.ngZone)),n.pipe(ln(t.outsideAngular),cn(t.insideAngular))}}var sO=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),ir(()=>t.apply(void 0,r))},or=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=ir(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ai,{},ai,ai))),r[o]=sO(r[o],n));let i=rO(()=>t.apply(this,r));if(!e)if(i instanceof Y){let o=Pc();return i.pipe(ln(o.outsideAngular),cn(o.insideAngular))}else return ir(()=>i);return i instanceof Y?i.pipe(iO):i instanceof Promise?ir(()=>new Promise((o,s)=>i.then(a=>ir(()=>o(a)),a=>ir(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:ir(()=>i)};var sr=class{constructor(e){return e}},zo=class{constructor(){return Rc()}};function aO(t){return t&&t.length===1?t[0]:new sr(Bo())}var vh=new S("angularfire2._apps"),cO={provide:sr,useFactory:aO,deps:[[new lt,vh]]},lO={provide:zo,deps:[[new lt,vh]]};function uO(t){return(e,n)=>{let r=n.get(nt);Te("angularfire",ci.full,"core"),Te("angularfire",ci.full,"app"),Te("angular",Hy.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new sr(i)}}function pw(t,...e){return Qt([cO,lO,{provide:vh,useFactory:uO(t),multi:!0,deps:[Q,ke,Wo,...e]}])}var gw=or(ph,!0);function bw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Cw=bw,Dw=new tn("auth","Firebase",bw());var jc=new Cn("@firebase/auth");function dO(t,...e){jc.logLevel<=re.WARN&&jc.warn(`Auth (${si}): ${t}`,...e)}function Lc(t,...e){jc.logLevel<=re.ERROR&&jc.error(`Auth (${si}): ${t}`,...e)}function mw(t,...e){throw Mh(t,...e)}function Ah(t,...e){return Mh(t,...e)}function Tw(t,e,n){let r=Object.assign(Object.assign({},Cw()),{[e]:n});return new tn("auth","Firebase",r).create(e,{appName:t.name})}function Fc(t){return Tw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mh(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Dw.create(t,...e)}function X(t,e,...n){if(!t)throw Mh(e,...n)}function Go(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Lc(e),new Error(e)}function Uc(t,e){t||Go(e)}function fO(){return vw()==="http:"||vw()==="https:"}function vw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function hO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(fO()||GI()||"connection"in navigator)?navigator.onLine:!0}function pO(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var cr=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Uc(n>e,"Short delay should be less than long delay!"),this.isMobile=Oo()||Ac()}get(){return hO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function gO(t,e){Uc(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Vc=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Go("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Go("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Go("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var mO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var vO=new cr(3e4,6e4);function Sw(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Wc(o,s,a,c){return I(this,arguments,function*(t,e,n,r,i={}){return Aw(t,i,()=>I(this,null,function*(){let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});let d=Lo(Object.assign({key:t.config.apiKey},u)).slice(1),f=yield t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);let h=Object.assign({method:e,headers:f},l);return zI()||(h.referrerPolicy="no-referrer"),Vc.fetch()(Mw(t,t.config.apiHost,n,d),h)}))})}function Aw(t,e,n){return I(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},mO),e);try{let i=new Ih(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw kc(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw kc(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw kc(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw kc(t,"user-disabled",s);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Tw(t,u,l);mw(t,u)}}catch(i){if(i instanceof Ft)throw i;mw(t,"network-request-failed",{message:String(i)})}})}function Mw(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?gO(t.config,i):`${t.config.apiScheme}://${i}`}var Ih=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ah(this.auth,"network-request-failed")),vO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function kc(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Ah(t,e,r);return i.customData._tokenResponse=n,i}function yO(t,e){return I(this,null,function*(){return Wc(t,"POST","/v1/accounts:delete",e)})}function xw(t,e){return I(this,null,function*(){return Wc(t,"POST","/v1/accounts:lookup",e)})}function qo(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function xh(t,e=!1){return I(this,null,function*(){let n=Vt(t),r=yield n.getIdToken(e),i=Nw(r);X(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:qo(yh(i.auth_time)),issuedAtTime:qo(yh(i.iat)),expirationTime:qo(yh(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function yh(t){return Number(t)*1e3}function Nw(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Lc("JWT malformed, contained fewer than 3 sections"),null;try{let i=Ro(n);return i?JSON.parse(i):(Lc("Failed to decode base64 JWT payload"),null)}catch(i){return Lc("Caught error parsing JWT payload as JSON",i?.toString()),null}}function yw(t){let e=Nw(t);return X(e,"internal-error"),X(typeof e.exp<"u","internal-error"),X(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function wh(t,e,n=!1){return I(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Ft&&_O(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function _O({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Eh=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>I(this,null,function*(){yield this.iteration()}),n)}iteration(){return I(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Yo=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=qo(this.lastLoginAt),this.creationTime=qo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Bc(t){return I(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield wh(t,xw(n,{idToken:r}));X(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Rw(o.providerUserInfo):[],a=IO(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,u=c?l:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Yo(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,d)})}function Nh(t){return I(this,null,function*(){let e=Vt(t);yield Bc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function IO(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Rw(t){return t.map(e=>{var{providerId:n}=e,r=Vl(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function wO(t,e){return I(this,null,function*(){let n=yield Aw(t,{},()=>I(this,null,function*(){let r=Lo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=Mw(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Vc.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function EO(t,e){return I(this,null,function*(){return Wc(t,"POST","/v2/accounts:revokeToken",Sw(t,e))})}var Ko=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){X(e.idToken,"internal-error"),X(typeof e.idToken<"u","internal-error"),X(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):yw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){X(e.length!==0,"internal-error");let n=yw(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return I(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(X(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return I(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield wO(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(X(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(X(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(X(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Go("not implemented")}};function Sn(t,e){X(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Qo=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Vl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Eh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Yo(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return I(this,null,function*(){let n=yield wh(this,this.stsTokenManager.getToken(this.auth,e));return X(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return xh(this,e)}reload(){return Nh(this)}_assign(e){this!==e&&(X(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return I(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Bc(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return I(this,null,function*(){if(oi(this.auth.app))return Promise.reject(Fc(this.auth));let e=yield this.getIdToken();return yield wh(this,yO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,l,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,p=(s=n.photoURL)!==null&&s!==void 0?s:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,k=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,U=(l=n.createdAt)!==null&&l!==void 0?l:void 0,fe=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:ce,emailVerified:Fe,isAnonymous:Ht,providerData:Ne,stsTokenManager:Wt}=n;X(ce&&Wt,e,"internal-error");let Ci=Ko.fromJSON(this.name,Wt);X(typeof ce=="string",e,"internal-error"),Sn(d,e.name),Sn(f,e.name),X(typeof Fe=="boolean",e,"internal-error"),X(typeof Ht=="boolean",e,"internal-error"),Sn(h,e.name),Sn(p,e.name),Sn(w,e.name),Sn(k,e.name),Sn(U,e.name),Sn(fe,e.name);let Di=new t({uid:ce,auth:e,email:f,emailVerified:Fe,displayName:d,isAnonymous:Ht,photoURL:p,phoneNumber:h,tenantId:w,stsTokenManager:Ci,createdAt:U,lastLoginAt:fe});return Ne&&Array.isArray(Ne)&&(Di.providerData=Ne.map(bl=>Object.assign({},bl))),k&&(Di._redirectEventId=k),Di}static _fromIdTokenResponse(e,n,r=!1){return I(this,null,function*(){let i=new Ko;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Bc(o),o})}static _fromGetAccountInfoResponse(e,n,r){return I(this,null,function*(){let i=n.users[0];X(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?Rw(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Ko;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Yo(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var _w=new Map;function ar(t){Uc(t instanceof Function,"Expected a class definition");let e=_w.get(t);return e?(Uc(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,_w.set(t,e),e)}var bO=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return I(this,null,function*(){return!0})}_set(n,r){return I(this,null,function*(){this.storage[n]=r})}_get(n){return I(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return I(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),bh=bO;function _h(t,e,n){return`firebase:${t}:${e}:${n}`}var $c=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=_h(this.userKey,i.apiKey,o),this.fullPersistenceKey=_h("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return I(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Qo._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return I(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return I(this,null,function*(){if(!n.length)return new t(ar(bh),e,r);let i=(yield Promise.all(n.map(l=>I(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||ar(bh),s=_h(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let u=yield l._get(s);if(u){let d=Qo._fromJSON(e,u);l!==o&&(a=d),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>I(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function Iw(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(SO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(CO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(MO(e))return"Blackberry";if(xO(e))return"Webos";if(DO(e))return"Safari";if((e.includes("chrome/")||TO(e))&&!e.includes("edge/"))return"Chrome";if(AO(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function CO(t=Et()){return/firefox\//i.test(t)}function DO(t=Et()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function TO(t=Et()){return/crios\//i.test(t)}function SO(t=Et()){return/iemobile/i.test(t)}function AO(t=Et()){return/android/i.test(t)}function MO(t=Et()){return/blackberry/i.test(t)}function xO(t=Et()){return/webos/i.test(t)}function Ow(t,e=[]){let n;switch(t){case"Browser":n=Iw(Et());break;case"Worker":n=`${Iw(Et())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${si}/${r}`}var Ch=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return I(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function NO(n){return I(this,arguments,function*(t,e={}){return Wc(t,"GET","/v2/passwordPolicy",Sw(t,e))})}var RO=6,Dh=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:RO,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Th=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Hc(this),this.idTokenSubscription=new Hc(this),this.beforeStateQueue=new Ch(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Dw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ar(n)),this._initializationPromise=this.queue(()=>I(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield $c.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return I(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return I(this,null,function*(){try{let n=yield xw(this,{idToken:e}),r=yield Qo._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return I(this,null,function*(){var n;if(oi(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return X(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return I(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return I(this,null,function*(){try{yield Bc(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=pO()}_delete(){return I(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return I(this,null,function*(){if(oi(this.app))return Promise.reject(Fc(this));let n=e?Vt(e):null;return n&&X(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return I(this,null,function*(){if(!this._deleted)return e&&X(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>I(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return I(this,null,function*(){return oi(this.app)?Promise.reject(Fc(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return oi(this.app)?Promise.reject(Fc(this)):this.queue(()=>I(this,null,function*(){yield this.assertedPersistence.setPersistence(ar(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return I(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return I(this,null,function*(){let e=yield NO(this),n=new Dh(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new tn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return I(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield EO(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return I(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return I(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&ar(e)||this._popupRedirectResolver;X(n,this,"argument-error"),this.redirectPersistenceManager=yield $c.create(this,[ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return I(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>I(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return I(this,null,function*(){if(e===this.currentUser)return this.queue(()=>I(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(X(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return I(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ow(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return I(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return I(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&dO(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function OO(t){return Vt(t)}var Hc=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=ZI(n=>this.observer=n)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var PO={loadJS(){return I(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kO(t){PO=t}function LO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function FO(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ar);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var D3=LO("rcb"),T3=new cr(3e4,6e4);var S3=new cr(2e3,1e4);var A3=10*60*1e3;var M3=new cr(3e4,6e4);var x3=new cr(5e3,15e3);var N3=encodeURIComponent("fac");var ww="@firebase/auth",Ew="1.7.9";var Sh=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return I(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function jO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UO(t){Tn(new ft("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;X(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ow(t)},l=new Th(r,i,o,c);return FO(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Tn(new ft("auth-internal",e=>{let n=OO(e.getProvider("auth").getImmediate());return(r=>new Sh(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Te(ww,Ew,jO(t)),Te(ww,Ew,"esm2017")}var VO=5*60,R3=HI("authIdTokenMaxAge")||VO;function BO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}kO({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Ah("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",BO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UO("Browser");var VP="auth";var zc=class{constructor(){return Ho(VP)}};var Pw="@firebase/database",kw="1.0.8";var Lp="";function BP(t){Lp=t}var Uh=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),we(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ii(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var Vh=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Ut(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var pE=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Uh(e)}}catch{}return new Vh},ur=pE("localStorage"),Bh=pE("sessionStorage");var fi=new Cn("@firebase/database"),$P=function(){let t=1;return function(){return t++}}(),gE=function(t){let e=XI(t),n=new Tc;n.update(e);let r=n.digest();return Sc.encodeByteArray(r)},hs=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=hs.apply(null,r):typeof r=="object"?e+=we(r):e+=r,e+=" "}return e},dr=null,Lw=!0,HP=function(t,e){_(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(fi.logLevel=re.VERBOSE,dr=fi.log.bind(fi),e&&Bh.set("logging_enabled",!0)):typeof t=="function"?dr=t:(dr=null,Bh.remove("logging_enabled"))},Me=function(...t){if(Lw===!0&&(Lw=!1,dr===null&&Bh.get("logging_enabled")===!0&&HP(!0)),dr){let e=hs.apply(null,t);dr(e)}},ps=function(t){return function(...e){Me(t,...e)}},$h=function(...t){let e="FIREBASE INTERNAL ERROR: "+hs(...t);fi.error(e)},rn=function(...t){let e=`FIREBASE FATAL ERROR: ${hs(...t)}`;throw fi.error(e),new Error(e)},ot=function(...t){let e="FIREBASE WARNING: "+hs(...t);fi.warn(e)},WP=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&ot("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},mE=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},zP=function(t){if(jt()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},gi="[MIN_NAME]",fr="[MAX_NAME]",Ei=function(t,e){if(t===e)return 0;if(t===gi||e===fr)return-1;if(e===gi||t===fr)return 1;{let n=Fw(t),r=Fw(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},GP=function(t,e){return t===e?0:t<e?-1:1},Jo=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+we(e))},Fp=function(t){if(typeof t!="object"||t===null)return we(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=we(e[r]),n+=":",n+=Fp(t[e[r]]);return n+="}",n},vE=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function We(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var yE=function(t){_(!mE(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,o,s,a,c;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));let l=[];for(c=n;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=e;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();let u=l.join(""),d="";for(c=0;c<64;c+=8){let f=parseInt(u.substr(c,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},qP=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},KP=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function YP(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var QP=new RegExp("^-?(0*)\\d{1,10}$"),JP=-2147483648,ZP=2147483647,Fw=function(t){if(QP.test(t)){let e=Number(t);if(e>=JP&&e<=ZP)return e}return null},gs=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw ot("Exception was thrown by user callback.",n),e},Math.floor(0))}},XP=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ns=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var Hh=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){ot(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var Wh=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Me("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',ot(e)}},rs=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),qc="5",_E="v",IE="s",wE="r",EE="f",bE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,CE="ls",DE="p",zh="ac",TE="websocket",SE="long_polling";var Kc=class{constructor(e,n,r,i,o=!1,s="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ur.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ur.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function ek(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function AE(t,e,n){_(typeof e=="string","typeof type must == string"),_(typeof n=="object","typeof params must == object");let r;if(e===TE)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===SE)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);ek(t)&&(n.ns=t.namespace);let i=[];return We(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var Gh=class{constructor(){this.counters_={}}incrementCounter(e,n=1){Ut(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return UI(this.counters_)}};var Rh={},Oh={};function jp(t){let e=t.toString();return Rh[e]||(Rh[e]=new Gh),Rh[e]}function tk(t,e){let n=t.toString();return Oh[n]||(Oh[n]=e()),Oh[n]}var qh=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&gs(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var jw="start",nk="close",rk="pLPCommand",ik="pRTLPCB",ME="id",xE="pw",NE="ser",ok="cb",sk="seg",ak="ts",ck="d",lk="dframe",RE=1870,OE=30,uk=RE-OE,dk=25e3,fk=3e4,Kh=class t{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ps(e),this.stats_=jp(n),this.urlFn=c=>(this.appCheckToken&&(c[zh]=this.appCheckToken),AE(n,SE,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new qh(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(fk)),zP(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Yh((...o)=>{let[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===jw)this.id=a,this.password=c;else if(s===nk)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[jw]="t",r[NE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[ok]=this.scriptTagHolder.uniqueCallbackIdentifier),r[_E]=qc,this.transportSessionId&&(r[IE]=this.transportSessionId),this.lastSessionId&&(r[CE]=this.lastSessionId),this.applicationId&&(r[DE]=this.applicationId),this.appCheckToken&&(r[zh]=this.appCheckToken),typeof location<"u"&&location.hostname&&bE.test(location.hostname)&&(r[wE]=EE);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return jt()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!qP()&&!KP()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=we(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=Qf(n),i=vE(r,uk);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(jt())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[lk]="t",r[ME]=e,r[xE]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=we(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},Yh=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,jt())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=$P(),window[rk+this.uniqueCallbackIdentifier]=e,window[ik+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Me("frame writing exception"),a.stack&&Me(a.stack),Me(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Me("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[ME]=this.myID,e[xE]=this.myPW,e[NE]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+OE+r.length<=RE;){let s=this.pendingSegs.shift();r=r+"&"+sk+i+"="+s.seg+"&"+ak+i+"="+s.ts+"&"+ck+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(dk)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){jt()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Me("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var hk=16384,pk=45e3,Yc=null;typeof MozWebSocket<"u"?Yc=MozWebSocket:typeof WebSocket<"u"&&(Yc=WebSocket);var Zo=(()=>{class t{constructor(n,r,i,o,s,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ps(this.connId),this.stats_=jp(r),this.connURL=t.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[_E]=qc,!jt()&&typeof location<"u"&&location.hostname&&bE.test(location.hostname)&&(a[wE]=EE),r&&(a[IE]=r),i&&(a[CE]=i),o&&(a[zh]=o),s&&(a[DE]=s),AE(n,TE,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ur.set("previous_websocket_failure",!0);try{let i;if(jt()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${qc}/${Lp}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new Yc(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&Yc!==null&&!t.forceDisallow_}static previouslyFailed(){return ur.isInMemoryStorage||ur.get("previous_websocket_failure")===!0}markConnectionHealthy(){ur.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=ii(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(_(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=we(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=vE(r,hk);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(pk))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),gk=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Kh,Zo]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=Zo&&Zo.isAvailable(),i=r&&!Zo.previouslyFailed();if(n.webSocketOnly&&(r||ot("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Zo];else{let o=this.transports_=[];for(let s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),mk=6e4,vk=5e3,yk=10*1024,_k=100*1024,Ph="t",Uw="d",Ik="s",Vw="r",wk="e",Bw="o",$w="a",Hw="n",Ww="p",Ek="h",Qh=class{constructor(e,n,r,i,o,s,a,c,l,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ps("c:"+this.id+":"),this.transportManager_=new gk(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=ns(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>_k?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>yk?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Ph in e){let n=e[Ph];n===$w?this.upgradeIfSecondaryHealthy_():n===Vw?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Bw&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=Jo("t",e),r=Jo("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Ww,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:$w,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Hw,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=Jo("t",e),r=Jo("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=Jo(Ph,e);if(Uw in e){let r=e[Uw];if(n===Ek){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Hw){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Ik?this.onConnectionShutdown_(r):n===Vw?this.onReset_(r):n===wk?$h("Server Error: "+r):n===Bw?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):$h("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),qc!==r&&ot("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ns(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(mk))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ns(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(vk))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Ww,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ur.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Qc=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var Jc=class{constructor(e){this.allowedEvents_=e,this.listeners_={},_(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){_(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var Zc=class t extends Jc{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Oo()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return _(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var zw=32,Gw=768,ie=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function ee(){return new ie("")}function H(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Mn(t){return t.pieces_.length-t.pieceNum_}function se(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new ie(t.pieces_,e)}function PE(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function bk(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function kE(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function LE(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new ie(e,0)}function Ee(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof ie)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new ie(n,0)}function W(t){return t.pieceNum_>=t.pieces_.length}function He(t,e){let n=H(t),r=H(e);if(n===null)return e;if(n===r)return He(se(t),se(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Up(t,e){if(Mn(t)!==Mn(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Ct(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Mn(t)>Mn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var Jh=class{constructor(e,n){this.errorPrefix_=n,this.parts_=kE(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Fo(this.parts_[r]);FE(this)}};function Ck(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Fo(e),FE(t)}function Dk(t){let e=t.parts_.pop();t.byteLength_-=Fo(e),t.parts_.length>0&&(t.byteLength_-=1)}function FE(t){if(t.byteLength_>Gw)throw new Error(t.errorPrefix_+"has a key path longer than "+Gw+" bytes ("+t.byteLength_+").");if(t.parts_.length>zw)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+zw+") or object contains a cycle "+lr(t))}function lr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var Zh=class t extends Jc{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return _(e==="visible","Unknown event type: "+e),[this.visible_]}};var Xo=1e3,Tk=60*5*1e3,qw=30*1e3,Sk=1.3,Ak=3e4,Mk="server_kill",Kw=3,Vp=(()=>{class t extends Qc{constructor(n,r,i,o,s,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=t.nextPersistentConnectionId_++,this.log_=ps("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Xo,this.maxReconnectDelay_=Tk,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!jt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Zh.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Zc.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(we(s)),_(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new er,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),_(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),_(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,c=>{let l=c.d,u=c.s;t.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&Ut(n,"w")){let i=nr(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();ot(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||JI(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=qw)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=QI(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),_(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+we(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):$h("Unrecognized action received from server: "+we(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){_(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Xo,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Xo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Ak&&(this.reconnectDelay_=Xo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Sk)}this.onConnectStatus_(!1)}establishConnection_(){return I(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,i())},u=function(f){_(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)};this.realtime_={close:l,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Me("getToken() completed but was canceled"):(Me("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,c=new Qh(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,p=>{ot(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(Mk)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&ot(f),l())}}})}interrupt(n){Me("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Me("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Mc(this.interruptReasons_)&&(this.reconnectDelay_=Xo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>Fp(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new ie(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){Me("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Kw&&(this.reconnectDelay_=qw,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Me("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Kw&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";jt()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+Lp.replace(/\./g,"-")]=1,Oo()?n["framework.cordova"]=1:Ac()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Zc.getInstance().currentlyOnline();return Mc(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),B=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var mi=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new B(gi,e),i=new B(gi,n);return this.compare(r,i)!==0}minPost(){return B.MIN}};var Gc,Xc=class extends mi{static get __EMPTY_NODE(){return Gc}static set __EMPTY_NODE(e){Gc=e}compare(e,n){return Ei(e.name,n.name)}isDefinedOn(e){throw tr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return B.MIN}maxPost(){return new B(fr,Gc)}makePost(e,n){return _(typeof e=="string","KeyIndex indexValue must always be a string."),new B(e,Gc)}toString(){return".key"}},hi=new Xc;var ui=class{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},bt=(()=>{class t{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??t.RED,this.left=o??ht.EMPTY_NODE,this.right=s??ht.EMPTY_NODE}copy(n,r,i,o,s){return new t(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return ht.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return ht.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),Xh=class{copy(e,n,r,i,o){return this}insert(e,n,r){return new bt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},ht=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,bt.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,bt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ui(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new ui(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new ui(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new ui(this.root_,null,this.comparator_,!0,e)}};ht.EMPTY_NODE=new Xh;function xk(t,e){return Ei(t.name,e.name)}function Bp(t,e){return Ei(t,e)}var ep;function Nk(t){ep=t}var jE=function(t){return typeof t=="number"?"number:"+yE(t):"string:"+t},UE=function(t){if(t.isLeafNode()){let e=t.val();_(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ut(e,".sv"),"Priority must be a string or number.")}else _(t===ep||t.isEmpty(),"priority of unexpected type.");_(t===ep||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var Yw,vi=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,_(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),UE(this.priorityNode_)}static set __childrenNodeConstructor(n){Yw=n}static get __childrenNodeConstructor(){return Yw}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return W(n)?this:H(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=H(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(_(i!==".priority"||Mn(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(se(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+jE(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=yE(this.value_):n+=this.value_,this.lazyHash_=gE(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(_(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(r),s=t.VALUE_TYPE_ORDER.indexOf(i);return _(o>=0,"Unknown leaf type: "+r),_(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),VE,BE;function Rk(t){VE=t}function Ok(t){BE=t}var tp=class extends mi{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?Ei(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return B.MIN}maxPost(){return new B(fr,new vi("[PRIORITY-POST]",BE))}makePost(e,n){let r=VE(e);return new B(n,new vi("[PRIORITY-POST]",r))}toString(){return".priority"}},de=new tp;var Pk=Math.log(2),np=class{constructor(e){let n=o=>parseInt(Math.log(o)/Pk,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},el=function(t,e,n,r){t.sort(e);let i=function(c,l){let u=l-c,d,f;if(u===0)return null;if(u===1)return d=t[c],f=n?n(d):d,new bt(f,d.node,bt.BLACK,null,null);{let h=parseInt(u/2,10)+c,p=i(c,h),w=i(h+1,l);return d=t[h],f=n?n(d):d,new bt(f,d.node,bt.BLACK,p,w)}},o=function(c){let l=null,u=null,d=t.length,f=function(p,w){let k=d-p,U=d;d-=p;let fe=i(k+1,U),ce=t[k],Fe=n?n(ce):ce;h(new bt(Fe,ce.node,w,null,fe))},h=function(p){l?(l.left=p,l=p):(u=p,l=p)};for(let p=0;p<c.count;++p){let w=c.nextBitIsOne(),k=Math.pow(2,c.count-(p+1));w?f(k,bt.BLACK):(f(k,bt.BLACK),f(k,bt.RED))}return u},s=new np(t.length),a=o(s);return new ht(r||e,a)};var kh,li={},yi=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return _(li&&de,"ChildrenNode.ts has not been loaded"),kh=kh||new t({".priority":li},{".priority":de}),kh}get(e){let n=nr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof ht?n:null}hasIndex(e){return Ut(this.indexSet_,e.toString())}addIndex(e,n){_(e!==hi,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator(B.Wrap),s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=el(r,e.getCompare()):a=li;let c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;let u=Object.assign({},this.indexes_);return u[c]=a,new t(u,l)}addToIndexes(e,n){let r=Po(this.indexes_,(i,o)=>{let s=nr(this.indexSet_,o);if(_(s,"Missing index implementation for "+o),i===li)if(s.isDefinedOn(e.node)){let a=[],c=n.getIterator(B.Wrap),l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),el(a,s.getCompare())}else return li;else{let a=n.get(e.name),c=i;return a&&(c=c.remove(new B(e.name,a))),c.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=Po(this.indexes_,i=>{if(i===li)return i;{let o=n.get(e.name);return o?i.remove(new B(e.name,o)):i}});return new t(r,this.indexSet_)}};var es,F=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&UE(this.priorityNode_),this.children_.isEmpty()&&_(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return es||(es=new t(new ht(Bp),null,yi.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||es}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?es:r}}getChild(n){let r=H(n);return r===null?this:this.getImmediateChild(r).getChild(se(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(_(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new B(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?es:this.priorityNode_;return new t(o,a,s)}}updateChild(n,r){let i=H(n);if(i===null)return r;{_(H(n)!==".priority"||Mn(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(se(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(de,(a,c)=>{r[a]=c.val(n),i++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+jE(this.getPriority().val())+":"),this.forEachChild(de,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":gE(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new B(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new B(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new B(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,B.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,B.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===ms?-1:0}withIndex(n){if(n===hi||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===hi||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(de),o=r.getIterator(de),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===hi?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),rp=class extends F{constructor(){super(new ht(Bp),F.EMPTY_NODE,yi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return F.EMPTY_NODE}isEmpty(){return!1}},ms=new rp;Object.defineProperties(B,{MIN:{value:new B(gi,F.EMPTY_NODE)},MAX:{value:new B(fr,ms)}});Xc.__EMPTY_NODE=F.EMPTY_NODE;vi.__childrenNodeConstructor=F;Nk(ms);Ok(ms);var kk=!0;function xe(t,e=null){if(t===null)return F.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),_(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new vi(n,xe(e))}if(!(t instanceof Array)&&kk){let n=[],r=!1;if(We(t,(s,a)=>{if(s.substring(0,1)!=="."){let c=xe(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new B(s,c)))}}),n.length===0)return F.EMPTY_NODE;let o=el(n,xk,s=>s.name,Bp);if(r){let s=el(n,de.getCompare());return new F(o,xe(e),new yi({".priority":s},{".priority":de}))}else return new F(o,xe(e),yi.Default)}else{let n=F.EMPTY_NODE;return We(t,(r,i)=>{if(Ut(t,r)&&r.substring(0,1)!=="."){let o=xe(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(xe(e))}}Rk(xe);var ip=class extends mi{constructor(e){super(),this.indexPath_=e,_(!W(e)&&H(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?Ei(e.name,n.name):o}makePost(e,n){let r=xe(e),i=F.EMPTY_NODE.updateChild(this.indexPath_,r);return new B(n,i)}maxPost(){let e=F.EMPTY_NODE.updateChild(this.indexPath_,ms);return new B(fr,e)}toString(){return kE(this.indexPath_,0).join("/")}};var op=class extends mi{compare(e,n){let r=e.node.compareTo(n.node);return r===0?Ei(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return B.MIN}maxPost(){return B.MAX}makePost(e,n){let r=xe(e);return new B(n,r)}toString(){return".value"}},Lk=new op;function $E(t){return{type:"value",snapshotNode:t}}function _i(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function as(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function cs(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Fk(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var ls=class{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){_(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(as(n,a)):_(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(_i(n,r)):s.trackChildChange(cs(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(de,(i,o)=>{n.hasChild(i)||r.trackChildChange(as(i,o))}),n.isLeafNode()||n.forEachChild(de,(i,o)=>{if(e.hasChild(i)){let s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(cs(i,o,s))}else r.trackChildChange(_i(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?F.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var tl=class t{constructor(e){this.indexedFilter_=new ls(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new B(n,r))||(r=F.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=F.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(F.EMPTY_NODE);let o=this;return n.forEachChild(de,(s,a)=>{o.matches(new B(s,a))||(i=i.updateImmediateChild(s,F.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var sp=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new tl(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new B(n,r))||(r=F.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=F.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=F.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(F.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,F.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(f,h)=>d(h,f)}else s=this.index_.getCompare();let a=e;_(a.numChildren()===this.limit_,"");let c=new B(n,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(c);if(a.hasChild(n)){let d=a.getImmediateChild(n),f=i.getChildAfterChild(this.index_,l,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);let h=f==null?1:s(f,c);if(u&&!r.isEmpty()&&h>=0)return o?.trackChildChange(cs(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(as(n,d));let w=a.updateImmediateChild(n,F.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o?.trackChildChange(_i(f.name,f.node)),w.updateImmediateChild(f.name,f.node)):w}}else return r.isEmpty()?e:u&&s(l,c)>=0?(o!=null&&(o.trackChildChange(as(l.name,l.node)),o.trackChildChange(_i(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(l.name,F.EMPTY_NODE)):e}};var ap=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=de}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return _(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return _(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:gi}hasEnd(){return this.endSet_}getIndexEndValue(){return _(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return _(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:fr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return _(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===de}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function jk(t){return t.loadsAllData()?new ls(t.getIndex()):t.hasLimit()?new sp(t):new tl(t)}function Qw(t){let e={};if(t.isDefault())return e;let n;if(t.index_===de?n="$priority":t.index_===Lk?n="$value":t.index_===hi?n="$key":(_(t.index_ instanceof ip,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=we(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=we(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+we(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=we(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+we(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Jw(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==de&&(e.i=t.index_.toString()),e}var cp=class t extends Qc{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=ps("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(_(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);let s=t.getListenId_(e,r),a={};this.listens_[s]=a;let c=Qw(e._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let d=u;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(o,d,!1,r),nr(this.listens_,s)===a){let f;l?l===401?f="permission_denied":f="rest_error:"+l:f="ok",i(f,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=Qw(e._queryParams),r=e._path.toString(),i=new er;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Lo(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=ii(a.responseText)}catch{ot("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&ot("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var lp=class{constructor(){this.rootNode_=F.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function nl(){return{value:null,children:new Map}}function HE(t,e,n){if(W(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=H(e);t.children.has(r)||t.children.set(r,nl());let i=t.children.get(r);e=se(e),HE(i,e,n)}}function up(t,e,n){t.value!==null?n(e,t.value):Uk(t,(r,i)=>{let o=new ie(e.toString()+"/"+r);up(i,o,n)})}function Uk(t,e){t.children.forEach((n,r)=>{e(r,n)})}var dp=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&We(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var Zw=10*1e3,Vk=30*1e3,Bk=5*60*1e3,fp=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new dp(e);let r=Zw+(Vk-Zw)*Math.random();ns(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;We(e,(i,o)=>{o>0&&Ut(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),ns(this.reportStats_.bind(this),Math.floor(Math.random()*2*Bk))}};var $t=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}($t||{});function WE(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function $p(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Hp(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var hp=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=$t.ACK_USER_WRITE,this.source=WE()}operationForChild(e){if(W(this.path)){if(this.affectedTree.value!=null)return _(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new ie(e));return new t(ee(),n,this.revert)}}else return _(H(this.path)===e,"operationForChild called for unrelated child."),new t(se(this.path),this.affectedTree,this.revert)}};var rl=class t{constructor(e,n){this.source=e,this.path=n,this.type=$t.LISTEN_COMPLETE}operationForChild(e){return W(this.path)?new t(this.source,ee()):new t(this.source,se(this.path))}};var Ii=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=$t.OVERWRITE}operationForChild(e){return W(this.path)?new t(this.source,ee(),this.snap.getImmediateChild(e)):new t(this.source,se(this.path),this.snap)}};var il=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=$t.MERGE}operationForChild(e){if(W(this.path)){let n=this.children.subtree(new ie(e));return n.isEmpty()?null:n.value?new Ii(this.source,ee(),n.value):new t(this.source,ee(),n)}else return _(H(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,se(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var on=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(W(e))return this.isFullyInitialized()&&!this.filtered_;let n=H(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var pp=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function $k(t,e,n,r){let i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(Fk(s.childName,s.snapshotNode))}),ts(t,i,"child_removed",e,r,n),ts(t,i,"child_added",e,r,n),ts(t,i,"child_moved",o,r,n),ts(t,i,"child_changed",e,r,n),ts(t,i,"value",e,r,n),i}function ts(t,e,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,c)=>Wk(t,a,c)),s.forEach(a=>{let c=Hk(t,a,o);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,t.query_))})})}function Hk(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function Wk(t,e,n){if(e.childName==null||n.childName==null)throw tr("Should only compare child_ events.");let r=new B(e.childName,e.snapshotNode),i=new B(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function gl(t,e){return{eventCache:t,serverCache:e}}function is(t,e,n,r){return gl(new on(e,n,r),t.serverCache)}function zE(t,e,n,r){return gl(t.eventCache,new on(e,n,r))}function gp(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function hr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var Lh,zk=()=>(Lh||(Lh=new ht(GP)),Lh),ze=class t{constructor(e,n=zk()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return We(e,(r,i)=>{n=n.set(new ie(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:ee(),value:this.value};if(W(e))return null;{let r=H(e),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(se(e),n);return o!=null?{path:Ee(new ie(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(W(e))return this;{let n=H(e),r=this.children.get(n);return r!==null?r.subtree(se(e)):new t(null)}}set(e,n){if(W(e))return new t(n,this.children);{let r=H(e),o=(this.children.get(r)||new t(null)).set(se(e),n),s=this.children.insert(r,o);return new t(this.value,s)}}remove(e){if(W(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=H(e),r=this.children.get(n);if(r){let i=r.remove(se(e)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this}}get(e){if(W(e))return this.value;{let n=H(e),r=this.children.get(n);return r?r.get(se(e)):null}}setTree(e,n){if(W(e))return n;{let r=H(e),o=(this.children.get(r)||new t(null)).setTree(se(e),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new t(this.value,s)}}fold(e){return this.fold_(ee(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Ee(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,ee(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(W(e))return null;{let o=H(e),s=this.children.get(o);return s?s.findOnPath_(se(e),Ee(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,ee(),n)}foreachOnPath_(e,n,r){if(W(e))return this;{this.value&&r(n,this.value);let i=H(e),o=this.children.get(i);return o?o.foreachOnPath_(se(e),Ee(n,i),r):new t(null)}}foreach(e){this.foreach_(ee(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Ee(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var Dt=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new ze(null))}};function os(t,e,n){if(W(e))return new Dt(new ze(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,o=r.value,s=He(i,e);return o=o.updateChild(s,n),new Dt(t.writeTree_.set(i,o))}else{let i=new ze(n),o=t.writeTree_.setTree(e,i);return new Dt(o)}}}function Xw(t,e,n){let r=t;return We(n,(i,o)=>{r=os(r,Ee(e,i),o)}),r}function eE(t,e){if(W(e))return Dt.empty();{let n=t.writeTree_.setTree(e,new ze(null));return new Dt(n)}}function mp(t,e){return pr(t,e)!=null}function pr(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(He(n.path,e)):null}function tE(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(de,(r,i)=>{e.push(new B(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new B(r,i.value))}),e}function An(t,e){if(W(e))return t;{let n=pr(t,e);return n!=null?new Dt(new ze(n)):new Dt(t.writeTree_.subtree(e))}}function vp(t){return t.writeTree_.isEmpty()}function wi(t,e){return GE(ee(),t.writeTree_,e)}function GE(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(_(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=GE(Ee(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Ee(t,".priority"),r)),n}}function Wp(t,e){return QE(e,t)}function Gk(t,e,n,r,i){_(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=os(t.visibleWrites,e,n)),t.lastWriteId=r}function qk(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function Kk(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);_(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){let a=t.allWrites[s];a.visible&&(s>=n&&Yk(a,r.path)?i=!1:Ct(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return Qk(t),!0;if(r.snap)t.visibleWrites=eE(t.visibleWrites,r.path);else{let a=r.children;We(a,c=>{t.visibleWrites=eE(t.visibleWrites,Ee(r.path,c))})}return!0}else return!1}function Yk(t,e){if(t.snap)return Ct(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&Ct(Ee(t.path,n),e))return!0;return!1}function Qk(t){t.visibleWrites=qE(t.allWrites,Jk,ee()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Jk(t){return t.visible}function qE(t,e,n){let r=Dt.empty();for(let i=0;i<t.length;++i){let o=t[i];if(e(o)){let s=o.path,a;if(o.snap)Ct(n,s)?(a=He(n,s),r=os(r,a,o.snap)):Ct(s,n)&&(a=He(s,n),r=os(r,ee(),o.snap.getChild(a)));else if(o.children){if(Ct(n,s))a=He(n,s),r=Xw(r,a,o.children);else if(Ct(s,n))if(a=He(s,n),W(a))r=Xw(r,ee(),o.children);else{let c=nr(o.children,H(a));if(c){let l=c.getChild(se(a));r=os(r,ee(),l)}}}else throw tr("WriteRecord should have .snap or .children")}}return r}function KE(t,e,n,r,i){if(!r&&!i){let o=pr(t.visibleWrites,e);if(o!=null)return o;{let s=An(t.visibleWrites,e);if(vp(s))return n;if(n==null&&!mp(s,ee()))return null;{let a=n||F.EMPTY_NODE;return wi(s,a)}}}else{let o=An(t.visibleWrites,e);if(!i&&vp(o))return n;if(!i&&n==null&&!mp(o,ee()))return null;{let s=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(Ct(l.path,e)||Ct(e,l.path))},a=qE(t.allWrites,s,e),c=n||F.EMPTY_NODE;return wi(a,c)}}}function Zk(t,e,n){let r=F.EMPTY_NODE,i=pr(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(de,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=An(t.visibleWrites,e);return n.forEachChild(de,(s,a)=>{let c=wi(An(o,new ie(s)),a);r=r.updateImmediateChild(s,c)}),tE(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=An(t.visibleWrites,e);return tE(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function Xk(t,e,n,r,i){_(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=Ee(e,n);if(mp(t.visibleWrites,o))return null;{let s=An(t.visibleWrites,o);return vp(s)?i.getChild(n):wi(s,i.getChild(n))}}function e1(t,e,n,r){let i=Ee(e,n),o=pr(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=An(t.visibleWrites,i);return wi(s,r.getNode().getImmediateChild(n))}else return null}function t1(t,e){return pr(t.visibleWrites,e)}function n1(t,e,n,r,i,o,s){let a,c=An(t.visibleWrites,e),l=pr(c,ee());if(l!=null)a=l;else if(n!=null)a=wi(c,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function r1(){return{visibleWrites:Dt.empty(),allWrites:[],lastWriteId:-1}}function ol(t,e,n,r){return KE(t.writeTree,t.treePath,e,n,r)}function zp(t,e){return Zk(t.writeTree,t.treePath,e)}function nE(t,e,n,r){return Xk(t.writeTree,t.treePath,e,n,r)}function sl(t,e){return t1(t.writeTree,Ee(t.treePath,e))}function i1(t,e,n,r,i,o){return n1(t.writeTree,t.treePath,e,n,r,i,o)}function Gp(t,e,n){return e1(t.writeTree,t.treePath,e,n)}function YE(t,e){return QE(Ee(t.treePath,e),t.writeTree)}function QE(t,e){return{treePath:t,writeTree:e}}var yp=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;_(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),_(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,cs(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,as(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,_i(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,cs(r,e.snapshotNode,i.oldSnap));else throw tr("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var _p=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},JE=new _p,us=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new on(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Gp(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:hr(this.viewCache_),o=i1(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}};function o1(t){return{filter:t}}function s1(t,e){_(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),_(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function a1(t,e,n,r,i){let o=new yp,s,a;if(n.type===$t.OVERWRITE){let l=n;l.source.fromUser?s=Ip(t,e,l.path,l.snap,r,i,o):(_(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!W(l.path),s=al(t,e,l.path,l.snap,r,i,a,o))}else if(n.type===$t.MERGE){let l=n;l.source.fromUser?s=l1(t,e,l.path,l.children,r,i,o):(_(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=wp(t,e,l.path,l.children,r,i,a,o))}else if(n.type===$t.ACK_USER_WRITE){let l=n;l.revert?s=f1(t,e,l.path,r,i,o):s=u1(t,e,l.path,l.affectedTree,r,i,o)}else if(n.type===$t.LISTEN_COMPLETE)s=d1(t,e,n.path,r,o);else throw tr("Unknown operation type: "+n.type);let c=o.getChanges();return c1(e,s,c),{viewCache:s,changes:c}}function c1(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=gp(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push($E(gp(e)))}}function ZE(t,e,n,r,i,o){let s=e.eventCache;if(sl(r,n)!=null)return e;{let a,c;if(W(n))if(_(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let l=hr(e),u=l instanceof F?l:F.EMPTY_NODE,d=zp(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{let l=ol(r,hr(e));a=t.filter.updateFullNode(e.eventCache.getNode(),l,o)}else{let l=H(n);if(l===".priority"){_(Mn(n)===1,"Can't have a priority with additional path components");let u=s.getNode();c=e.serverCache.getNode();let d=nE(r,n,u,c);d!=null?a=t.filter.updatePriority(u,d):a=s.getNode()}else{let u=se(n),d;if(s.isCompleteForChild(l)){c=e.serverCache.getNode();let f=nE(r,n,s.getNode(),c);f!=null?d=s.getNode().getImmediateChild(l).updateChild(u,f):d=s.getNode().getImmediateChild(l)}else d=Gp(r,l,e.serverCache);d!=null?a=t.filter.updateChild(s.getNode(),l,d,u,i,o):a=s.getNode()}}return is(e,a,s.isFullyInitialized()||W(n),t.filter.filtersNodes())}}function al(t,e,n,r,i,o,s,a){let c=e.serverCache,l,u=s?t.filter:t.filter.getIndexedFilter();if(W(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){let h=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),h,null)}else{let h=H(n);if(!c.isCompleteForPath(n)&&Mn(n)>1)return e;let p=se(n),k=c.getNode().getImmediateChild(h).updateChild(p,r);h===".priority"?l=u.updatePriority(c.getNode(),k):l=u.updateChild(c.getNode(),h,k,p,JE,null)}let d=zE(e,l,c.isFullyInitialized()||W(n),u.filtersNodes()),f=new us(i,d,o);return ZE(t,d,n,i,f,a)}function Ip(t,e,n,r,i,o,s){let a=e.eventCache,c,l,u=new us(i,e,o);if(W(n))l=t.filter.updateFullNode(e.eventCache.getNode(),r,s),c=is(e,l,!0,t.filter.filtersNodes());else{let d=H(n);if(d===".priority")l=t.filter.updatePriority(e.eventCache.getNode(),r),c=is(e,l,a.isFullyInitialized(),a.isFiltered());else{let f=se(n),h=a.getNode().getImmediateChild(d),p;if(W(f))p=r;else{let w=u.getCompleteChild(d);w!=null?PE(f)===".priority"&&w.getChild(LE(f)).isEmpty()?p=w:p=w.updateChild(f,r):p=F.EMPTY_NODE}if(h.equals(p))c=e;else{let w=t.filter.updateChild(a.getNode(),d,p,f,u,s);c=is(e,w,a.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function rE(t,e){return t.eventCache.isCompleteForChild(e)}function l1(t,e,n,r,i,o,s){let a=e;return r.foreach((c,l)=>{let u=Ee(n,c);rE(e,H(u))&&(a=Ip(t,a,u,l,i,o,s))}),r.foreach((c,l)=>{let u=Ee(n,c);rE(e,H(u))||(a=Ip(t,a,u,l,i,o,s))}),a}function iE(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function wp(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,l;W(n)?l=r:l=new ze(null).setTree(n,r);let u=e.serverCache.getNode();return l.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=e.serverCache.getNode().getImmediateChild(d),p=iE(t,h,f);c=al(t,c,new ie(d),p,i,o,s,a)}}),l.children.inorderTraversal((d,f)=>{let h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let p=e.serverCache.getNode().getImmediateChild(d),w=iE(t,p,f);c=al(t,c,new ie(d),w,i,o,s,a)}}),c}function u1(t,e,n,r,i,o,s){if(sl(i,n)!=null)return e;let a=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(W(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return al(t,e,n,c.getNode().getChild(n),i,o,a,s);if(W(n)){let l=new ze(null);return c.getNode().forEachChild(hi,(u,d)=>{l=l.set(new ie(u),d)}),wp(t,e,n,l,i,o,a,s)}else return e}else{let l=new ze(null);return r.foreach((u,d)=>{let f=Ee(n,u);c.isCompleteForPath(f)&&(l=l.set(u,c.getNode().getChild(f)))}),wp(t,e,n,l,i,o,a,s)}}function d1(t,e,n,r,i){let o=e.serverCache,s=zE(e,o.getNode(),o.isFullyInitialized()||W(n),o.isFiltered());return ZE(t,s,n,r,JE,i)}function f1(t,e,n,r,i,o){let s;if(sl(r,n)!=null)return e;{let a=new us(r,e,i),c=e.eventCache.getNode(),l;if(W(n)||H(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=ol(r,hr(e));else{let d=e.serverCache.getNode();_(d instanceof F,"serverChildren would be complete if leaf node"),u=zp(r,d)}u=u,l=t.filter.updateFullNode(c,u,o)}else{let u=H(n),d=Gp(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),d!=null?l=t.filter.updateChild(c,u,d,se(n),a,o):e.eventCache.getNode().hasChild(u)?l=t.filter.updateChild(c,u,F.EMPTY_NODE,se(n),a,o):l=c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=ol(r,hr(e)),s.isLeafNode()&&(l=t.filter.updateFullNode(l,s,o)))}return s=e.serverCache.isFullyInitialized()||sl(r,ee())!=null,is(e,l,s,t.filter.filtersNodes())}}var Ep=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new ls(r.getIndex()),o=jk(r);this.processor_=o1(o);let s=n.serverCache,a=n.eventCache,c=i.updateFullNode(F.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(F.EMPTY_NODE,a.getNode(),null),u=new on(c,s.isFullyInitialized(),i.filtersNodes()),d=new on(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=gl(d,u),this.eventGenerator_=new pp(this.query_)}get query(){return this.query_}};function h1(t){return t.viewCache_.serverCache.getNode()}function p1(t,e){let n=hr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!W(e)&&!n.getImmediateChild(H(e)).isEmpty())?n.getChild(e):null}function oE(t){return t.eventRegistrations_.length===0}function g1(t,e){t.eventRegistrations_.push(e)}function sE(t,e,n){let r=[];if(n){_(e==null,"A cancel should cancel all event registrations.");let i=t.query._path;t.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){let s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function aE(t,e,n,r){e.type===$t.MERGE&&e.source.queryId!==null&&(_(hr(t.viewCache_),"We should always have a full cache before handling merges"),_(gp(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,o=a1(t.processor_,i,e,n,r);return s1(t.processor_,o.viewCache),_(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,XE(t,o.changes,o.viewCache.eventCache.getNode(),null)}function m1(t,e){let n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(de,(o,s)=>{r.push(_i(o,s))}),n.isFullyInitialized()&&r.push($E(n.getNode())),XE(t,r,n.getNode(),e)}function XE(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return $k(t.eventGenerator_,e,n,i)}var cl,bp=class{constructor(){this.views=new Map}};function v1(t){_(!cl,"__referenceConstructor has already been defined"),cl=t}function y1(){return _(cl,"Reference.ts has not been loaded"),cl}function _1(t){return t.views.size===0}function qp(t,e,n,r){let i=e.source.queryId;if(i!==null){let o=t.views.get(i);return _(o!=null,"SyncTree gave us an op for an invalid query."),aE(o,e,n,r)}else{let o=[];for(let s of t.views.values())o=o.concat(aE(s,e,n,r));return o}}function I1(t,e,n,r,i){let o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=ol(n,i?r:null),c=!1;a?c=!0:r instanceof F?(a=zp(n,r),c=!1):(a=F.EMPTY_NODE,c=!1);let l=gl(new on(a,c,!1),new on(r,i,!1));return new Ep(e,l)}return s}function w1(t,e,n,r,i,o){let s=I1(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),g1(s,n),m1(s,n)}function E1(t,e,n,r){let i=e._queryIdentifier,o=[],s=[],a=xn(t);if(i==="default")for(let[c,l]of t.views.entries())s=s.concat(sE(l,n,r)),oE(l)&&(t.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{let c=t.views.get(i);c&&(s=s.concat(sE(c,n,r)),oE(c)&&(t.views.delete(i),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!xn(t)&&o.push(new(y1())(e._repo,e._path)),{removed:o,events:s}}function eb(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function pi(t,e){let n=null;for(let r of t.views.values())n=n||p1(r,e);return n}function tb(t,e){if(e._queryParams.loadsAllData())return ml(t);{let r=e._queryIdentifier;return t.views.get(r)}}function nb(t,e){return tb(t,e)!=null}function xn(t){return ml(t)!=null}function ml(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var ll;function b1(t){_(!ll,"__referenceConstructor has already been defined"),ll=t}function C1(){return _(ll,"Reference.ts has not been loaded"),ll}var D1=1,ul=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ze(null),this.pendingWriteTree_=r1(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function T1(t,e,n,r,i){return Gk(t.pendingWriteTree_,e,n,r,i),i?vs(t,new Ii(WE(),e,n)):[]}function di(t,e,n=!1){let r=qk(t.pendingWriteTree_,e);if(Kk(t.pendingWriteTree_,e)){let o=new ze(null);return r.snap!=null?o=o.set(ee(),!0):We(r.children,s=>{o=o.set(new ie(s),!0)}),vs(t,new hp(r.path,o,n))}else return[]}function vl(t,e,n){return vs(t,new Ii($p(),e,n))}function S1(t,e,n){let r=ze.fromObject(n);return vs(t,new il($p(),e,r))}function A1(t,e){return vs(t,new rl($p(),e))}function M1(t,e,n){let r=Kp(t,n);if(r){let i=Yp(r),o=i.path,s=i.queryId,a=He(o,e),c=new rl(Hp(s),a);return Qp(t,o,c)}else return[]}function Cp(t,e,n,r,i=!1){let o=e._path,s=t.syncPointTree_.get(o),a=[];if(s&&(e._queryIdentifier==="default"||nb(s,e))){let c=E1(s,e,n,r);_1(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));let l=c.removed;if(a=c.events,!i){let u=l.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(o,(f,h)=>xn(h));if(u&&!d){let f=t.syncPointTree_.subtree(o);if(!f.isEmpty()){let h=R1(f);for(let p=0;p<h.length;++p){let w=h[p],k=w.query,U=sb(t,w);t.listenProvider_.startListening(ss(k),dl(t,k),U.hashFn,U.onComplete)}}}!d&&l.length>0&&!r&&(u?t.listenProvider_.stopListening(ss(e),null):l.forEach(f=>{let h=t.queryToTagMap.get(yl(f));t.listenProvider_.stopListening(ss(f),h)}))}O1(t,l)}return a}function x1(t,e,n,r){let i=Kp(t,r);if(i!=null){let o=Yp(i),s=o.path,a=o.queryId,c=He(s,e),l=new Ii(Hp(a),c,n);return Qp(t,s,l)}else return[]}function N1(t,e,n,r){let i=Kp(t,r);if(i){let o=Yp(i),s=o.path,a=o.queryId,c=He(s,e),l=ze.fromObject(n),u=new il(Hp(a),c,l);return Qp(t,s,u)}else return[]}function cE(t,e,n,r=!1){let i=e._path,o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(f,h)=>{let p=He(f,i);o=o||pi(h,p),s=s||xn(h)});let a=t.syncPointTree_.get(i);a?(s=s||xn(a),o=o||pi(a,ee())):(a=new bp,t.syncPointTree_=t.syncPointTree_.set(i,a));let c;o!=null?c=!0:(c=!1,o=F.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((h,p)=>{let w=pi(p,ee());w&&(o=o.updateImmediateChild(h,w))}));let l=nb(a,e);if(!l&&!e._queryParams.loadsAllData()){let f=yl(e);_(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");let h=P1();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}let u=Wp(t.pendingWriteTree_,i),d=w1(a,e,n,u,o,c);if(!l&&!s&&!r){let f=tb(a,e);d=d.concat(k1(t,e,f))}return d}function rb(t,e,n){let i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{let c=He(s,e),l=pi(a,c);if(l)return l});return KE(i,e,o,n,!0)}function vs(t,e){return ib(e,t.syncPointTree_,null,Wp(t.pendingWriteTree_,ee()))}function ib(t,e,n,r){if(W(t.path))return ob(t,e,n,r);{let i=e.get(ee());n==null&&i!=null&&(n=pi(i,ee()));let o=[],s=H(t.path),a=t.operationForChild(s),c=e.children.get(s);if(c&&a){let l=n?n.getImmediateChild(s):null,u=YE(r,s);o=o.concat(ib(a,c,l,u))}return i&&(o=o.concat(qp(i,t,r,n))),o}}function ob(t,e,n,r){let i=e.get(ee());n==null&&i!=null&&(n=pi(i,ee()));let o=[];return e.children.inorderTraversal((s,a)=>{let c=n?n.getImmediateChild(s):null,l=YE(r,s),u=t.operationForChild(s);u&&(o=o.concat(ob(u,a,c,l)))}),i&&(o=o.concat(qp(i,t,r,n))),o}function sb(t,e){let n=e.query,r=dl(t,n);return{hashFn:()=>(h1(e)||F.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?M1(t,n._path,r):A1(t,n._path);{let o=YP(i,n);return Cp(t,n,null,o)}}}}function dl(t,e){let n=yl(e);return t.queryToTagMap.get(n)}function yl(t){return t._path.toString()+"$"+t._queryIdentifier}function Kp(t,e){return t.tagToQueryMap.get(e)}function Yp(t){let e=t.indexOf("$");return _(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ie(t.substr(0,e))}}function Qp(t,e,n){let r=t.syncPointTree_.get(e);_(r,"Missing sync point for query tag that we're tracking");let i=Wp(t.pendingWriteTree_,e);return qp(r,n,i,null)}function R1(t){return t.fold((e,n,r)=>{if(n&&xn(n))return[ml(n)];{let i=[];return n&&(i=eb(n)),We(r,(o,s)=>{i=i.concat(s)}),i}})}function ss(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(C1())(t._repo,t._path):t}function O1(t,e){for(let n=0;n<e.length;++n){let r=e[n];if(!r._queryParams.loadsAllData()){let i=yl(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function P1(){return D1++}function k1(t,e,n){let r=e._path,i=dl(t,e),o=sb(t,n),s=t.listenProvider_.startListening(ss(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)_(!xn(a.value),"If we're adding a query, it shouldn't be shadowed");else{let c=a.fold((l,u,d)=>{if(!W(l)&&u&&xn(u))return[ml(u).query];{let f=[];return u&&(f=f.concat(eb(u).map(h=>h.query))),We(d,(h,p)=>{f=f.concat(p)}),f}});for(let l=0;l<c.length;++l){let u=c[l];t.listenProvider_.stopListening(ss(u),dl(t,u))}}return s}var Dp=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},Tp=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=Ee(this.path_,e);return new t(this.syncTree_,n)}node(){return rb(this.syncTree_,this.path_)}},L1=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},lE=function(t,e,n){if(!t||typeof t!="object")return t;if(_(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return F1(t[".sv"],e,n);if(typeof t[".sv"]=="object")return j1(t[".sv"],e);_(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},F1=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:_(!1,"Unexpected server value: "+t)}},j1=function(t,e,n){t.hasOwnProperty("increment")||_(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&_(!1,"Unexpected increment value: "+r);let i=e.node();if(_(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},U1=function(t,e,n,r){return Jp(e,new Tp(n,t),r)},V1=function(t,e,n){return Jp(t,new Dp(e),n)};function Jp(t,e,n){let r=t.getPriority().val(),i=lE(r,e.getImmediateChild(".priority"),n),o;if(t.isLeafNode()){let s=t,a=lE(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new vi(a,xe(i)):t}else{let s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new vi(i))),s.forEachChild(de,(a,c)=>{let l=Jp(c,e.getImmediateChild(a),n);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}var ds=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function Zp(t,e){let n=e instanceof ie?e:new ie(e),r=t,i=H(n);for(;i!==null;){let o=nr(r.node.children,i)||{children:{},childCount:0};r=new ds(i,r,o),n=se(n),i=H(n)}return r}function bi(t){return t.node.value}function ab(t,e){t.node.value=e,Sp(t)}function cb(t){return t.node.childCount>0}function B1(t){return bi(t)===void 0&&!cb(t)}function _l(t,e){We(t.node.children,(n,r)=>{e(new ds(n,t,r))})}function lb(t,e,n,r){n&&!r&&e(t),_l(t,i=>{lb(i,e,!0,r)}),n&&r&&e(t)}function $1(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function ys(t){return new ie(t.parent===null?t.name:ys(t.parent)+"/"+t.name)}function Sp(t){t.parent!==null&&H1(t.parent,t.name,t)}function H1(t,e,n){let r=B1(n),i=Ut(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Sp(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Sp(t))}var W1=/[\[\].#$\/\u0000-\u001F\u007F]/,z1=/[\[\].#$\u0000-\u001F\u007F]/,Fh=10*1024*1024,ub=function(t){return typeof t=="string"&&t.length!==0&&!W1.test(t)},db=function(t){return typeof t=="string"&&t.length!==0&&!z1.test(t)},G1=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),db(t)};var fb=function(t,e,n){let r=n instanceof ie?new Jh(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+lr(r));if(typeof e=="function")throw new Error(t+"contains a function "+lr(r)+" with contents = "+e.toString());if(mE(e))throw new Error(t+"contains "+e.toString()+" "+lr(r));if(typeof e=="string"&&e.length>Fh/3&&Fo(e)>Fh)throw new Error(t+"contains a string greater than "+Fh+" utf8 bytes "+lr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(We(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!ub(s)))throw new Error(t+" contains an invalid key ("+s+") "+lr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Ck(r,s),fb(t,a,r),Dk(r)}),i&&o)throw new Error(t+' contains ".value" child '+lr(r)+" in addition to actual children.")}};var hb=function(t,e,n,r){if(!(r&&n===void 0)&&!db(n))throw new Error(Xf(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},q1=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),hb(t,e,n,r)};var K1=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!ub(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!G1(n))throw new Error(Xf(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var Ap=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function pb(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],o=i.getPath();n!==null&&!Up(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function gb(t,e,n){pb(t,n),mb(t,r=>Up(r,e))}function gr(t,e,n){pb(t,n),mb(t,r=>Ct(r,e)||Ct(e,r))}function mb(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let o=i.path;e(o)?(Y1(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function Y1(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();dr&&Me("event: "+n.toString()),gs(r)}}}var Q1="repo_interrupt",J1=25,Mp=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Ap,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=nl(),this.transactionQueueTree_=new ds,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function Z1(t,e,n){if(t.stats_=jp(t.repoInfo_),t.forceRestClient_||XP())t.server_=new cp(t.repoInfo_,(r,i,o,s)=>{uE(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>dE(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{we(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Vp(t.repoInfo_,e,(r,i,o,s)=>{uE(t,r,i,o,s)},r=>{dE(t,r)},r=>{eL(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=tk(t.repoInfo_,()=>new fp(t.stats_,t.server_)),t.infoData_=new lp,t.infoSyncTree_=new ul({startListening:(r,i,o,s)=>{let a=[],c=t.infoData_.getNode(r._path);return c.isEmpty()||(a=vl(t.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Xp(t,"connected",!1),t.serverSyncTree_=new ul({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,c)=>{let l=s(a,c);gr(t.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function X1(t){let n=t.infoData_.getNode(new ie(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function vb(t){return L1({timestamp:X1(t)})}function uE(t,e,n,r,i){t.dataUpdateCount++;let o=new ie(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){let c=Po(n,l=>xe(l));s=N1(t.serverSyncTree_,o,c,i)}else{let c=xe(n);s=x1(t.serverSyncTree_,o,c,i)}else if(r){let c=Po(n,l=>xe(l));s=S1(t.serverSyncTree_,o,c)}else{let c=xe(n);s=vl(t.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=tg(t,o)),gr(t.eventQueue_,a,s)}function dE(t,e){Xp(t,"connected",e),e===!1&&nL(t)}function eL(t,e){We(e,(n,r)=>{Xp(t,n,r)})}function Xp(t,e,n){let r=new ie("/.info/"+e),i=xe(n);t.infoData_.updateSnapshot(r,i);let o=vl(t.infoSyncTree_,r,i);gr(t.eventQueue_,r,o)}function tL(t){return t.nextWriteId_++}function nL(t){yb(t,"onDisconnectEvents");let e=vb(t),n=nl();up(t.onDisconnect_,ee(),(i,o)=>{let s=U1(i,o,t.serverSyncTree_,e);HE(n,i,s)});let r=[];up(n,ee(),(i,o)=>{r=r.concat(vl(t.serverSyncTree_,i,o));let s=aL(t,i);tg(t,s)}),t.onDisconnect_=nl(),gr(t.eventQueue_,ee(),r)}function rL(t,e,n){let r;H(e._path)===".info"?r=cE(t.infoSyncTree_,e,n):r=cE(t.serverSyncTree_,e,n),gb(t.eventQueue_,e._path,r)}function fE(t,e,n){let r;H(e._path)===".info"?r=Cp(t.infoSyncTree_,e,n):r=Cp(t.serverSyncTree_,e,n),gb(t.eventQueue_,e._path,r)}function iL(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Q1)}function yb(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Me(n,...e)}function _b(t,e,n){return rb(t.serverSyncTree_,e,n)||F.EMPTY_NODE}function eg(t,e=t.transactionQueueTree_){if(e||Il(t,e),bi(e)){let n=wb(t,e);_(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&oL(t,ys(e),n)}else cb(e)&&_l(e,n=>{eg(t,n)})}function oL(t,e,n){let r=n.map(l=>l.currentWriteId),i=_b(t,e,r),o=i,s=i.hash();for(let l=0;l<n.length;l++){let u=n[l];_(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=He(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),c=e;t.server_.put(c.toString(),a,l=>{yb(t,"transaction put response",{path:c.toString(),status:l});let u=[];if(l==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(di(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();Il(t,Zp(t.transactionQueueTree_,e)),eg(t,t.transactionQueueTree_),gr(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)gs(d[f])}else{if(l==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{ot("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}tg(t,e)}},s)}function tg(t,e){let n=Ib(t,e),r=ys(n),i=wb(t,n);return sL(t,i,r),r}function sL(t,e,n){if(e.length===0)return;let r=[],i=[],s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let c=e[a],l=He(n,c.path),u=!1,d;if(_(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,d=c.abortReason,i=i.concat(di(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=J1)u=!0,d="maxretry",i=i.concat(di(t.serverSyncTree_,c.currentWriteId,!0));else{let f=_b(t,c.path,s);c.currentInputSnapshot=f;let h=e[a].update(f.val());if(h!==void 0){fb("transaction failed: Data returned ",h,c.path);let p=xe(h);typeof h=="object"&&h!=null&&Ut(h,".priority")||(p=p.updatePriority(f.getPriority()));let k=c.currentWriteId,U=vb(t),fe=V1(p,f,U);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=fe,c.currentWriteId=tL(t),s.splice(s.indexOf(k),1),i=i.concat(T1(t.serverSyncTree_,c.path,fe,c.currentWriteId,c.applyLocally)),i=i.concat(di(t.serverSyncTree_,k,!0))}else u=!0,d="nodata",i=i.concat(di(t.serverSyncTree_,c.currentWriteId,!0))}gr(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}Il(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)gs(r[a]);eg(t,t.transactionQueueTree_)}function Ib(t,e){let n,r=t.transactionQueueTree_;for(n=H(e);n!==null&&bi(r)===void 0;)r=Zp(r,n),e=se(e),n=H(e);return r}function wb(t,e){let n=[];return Eb(t,e,n),n.sort((r,i)=>r.order-i.order),n}function Eb(t,e,n){let r=bi(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);_l(e,i=>{Eb(t,i,n)})}function Il(t,e){let n=bi(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,ab(e,n.length>0?n:void 0)}_l(e,r=>{Il(t,r)})}function aL(t,e){let n=ys(Ib(t,e)),r=Zp(t.transactionQueueTree_,e);return $1(r,i=>{jh(t,i)}),jh(t,r),lb(r,i=>{jh(t,i)}),n}function jh(t,e){let n=bi(e);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(_(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(_(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(di(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?ab(e,void 0):n.length=o+1,gr(t.eventQueue_,ys(e),i);for(let s=0;s<r.length;s++)gs(r[s])}}function cL(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function lL(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):ot(`Invalid query segment '${n}' in query '${t}'`)}return e}var hE=function(t,e){let n=uL(t),r=n.namespace;n.domain==="firebase.com"&&rn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&rn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||WP();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Kc(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new ie(n.pathString)}},uL=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",c=443;if(typeof t=="string"){let l=t.indexOf("//");l>=0&&(a=t.substring(0,l-1),t=t.substring(l+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=cL(t.substring(u,d)));let f=lL(t.substring(Math.min(t.length,d)));l=e.indexOf(":"),l>=0?(s=a==="https"||a==="wss",c=parseInt(e.substring(l+1),10)):l=e.length;let h=e.slice(0,l);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),o=r}"ns"in f&&(o=f.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var fl=class{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+we(this.snapshot.exportVal())}},hl=class{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var xp=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return _(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var Np=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return W(this._path)?null:PE(this._path)}get ref(){return new sn(this._repo,this._path)}get _queryIdentifier(){let e=Jw(this._queryParams),n=Fp(e);return n==="{}"?"default":n}get _queryObject(){return Jw(this._queryParams)}isEqual(e){if(e=Vt(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=Up(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+bk(this._path)}};var sn=class t extends Np{constructor(e,n){super(e,n,new ap,!1)}get parent(){let e=LE(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},pl=class t{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new ie(e),r=fs(this.ref,e);return new t(this._node.getChild(n),r,de)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new t(i,fs(this.ref,r),de)))}hasChild(e){let n=new ie(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function bb(t,e){return t=Vt(t),t._checkNotDeleted("ref"),e!==void 0?fs(t._root,e):t._root}function fs(t,e){return t=Vt(t),H(t._path)===null?q1("child","path",e,!1):hb("child","path",e,!1),new sn(t._repo,Ee(t._path,e))}var Rp=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let r=n._queryParams.getIndex();return new fl("value",this,new pl(e.snapshotNode,new sn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new hl(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},Op=class t{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new hl(this,e,n):null}createEvent(e,n){_(e.childName!=null,"Child events should have a childName.");let r=fs(new sn(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new fl(e.type,this,new pl(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function dL(t,e,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){let c=n,l=(u,d)=>{fE(t._repo,t,a),c(u,d)};l.userCallback=n.userCallback,l.context=n.context,n=l}let s=new xp(n,o||void 0),a=e==="value"?new Rp(s):new Op(e,s);return rL(t._repo,t,a),()=>fE(t._repo,t,a)}function Cb(t,e,n,r){return dL(t,"value",e,n,r)}v1(sn);b1(sn);var fL="FIREBASE_DATABASE_EMULATOR_HOST",Pp={},hL=!1;function pL(t,e,n,r){t.repoInfo_=new Kc(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function gL(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||rn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Me("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=hE(o,i),a=s.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[fL]),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=hE(o,i),a=s.repoInfo):c=!s.repoInfo.secure;let u=i&&c?new rs(rs.OWNER):new Wh(t.name,t.options,e);K1("Invalid Firebase Database URL",s),W(s.path)||rn("Database URL must point to the root of a Firebase Database (not including a child path).");let d=vL(a,t,u,new Hh(t.name,n));return new kp(d,t)}function mL(t,e){let n=Pp[e];(!n||n[t.key]!==t)&&rn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),iL(t),delete n[t.key]}function vL(t,e,n,r){let i=Pp[e.name];i||(i={},Pp[e.name]=i);let o=i[t.toURLString()];return o&&rn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Mp(t,hL,n,r),i[t.toURLString()]=o,o}var kp=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Z1(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new sn(this._repo,ee())),this._rootInternal}_delete(){return this._rootInternal!==null&&(mL(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&rn("Cannot call "+e+" on a deleted database.")}};function Db(t=Bo(),e){let n=hh(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=$I("database");r&&Tb(n,...r)}return n}function Tb(t,e,n,r={}){t=Vt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&rn("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&rn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new rs(rs.OWNER);else if(r.mockUserToken){let s=typeof r.mockUserToken=="string"?r.mockUserToken:WI(r.mockUserToken,t.app.options.projectId);o=new rs(s)}pL(i,e,n,o)}function yL(t){BP(si),Tn(new ft("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return gL(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),Te(Pw,kw,t),Te(Pw,kw,"esm2017")}Vp.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Vp.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};yL();var mr=class{constructor(e){return e}},Sb="database",ng=class{constructor(){return Ho(Sb)}};var rg=new S("angularfire2.database-instances");function _L(t,e){let n=mh(Sb,t,e);return n&&new mr(n)}function IL(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new mr(r)}}var wL={provide:ng,deps:[[new lt,rg]]},EL={provide:mr,useFactory:_L,deps:[[new lt,rg],sr]};function Ab(t,...e){return Te("angularfire",ci.full,"rtdb"),Qt([EL,wL,{provide:rg,useFactory:IL(t),multi:!0,deps:[Q,ke,Wo,zo,[new lt,zc],[new lt,$o],...e]}])}var Mb=or(Db,!0);var xb=or(Cb,!0);var Nb=or(bb,!0);var wl=class{constructor(e,n,r,i){this.Name="",this.Description="",this.ImageLink="",this.GameLink="",this.Name=e,this.Description=n,this.ImageLink=r,this.GameLink=i}};var El=class{constructor(e,n,r,i){this.Name="",this.Description="",this.ImageLink="",this.ProjectLink="",this.Name=e,this.Description=n,this.ImageLink=r,this.ProjectLink=i}};var Rb=(()=>{let e=class e{constructor(r){this.themeService=r,this.imageUrl="",this.title="",this.description="",this.link="",this.linkText="",this.currentTheme=""}ngOnInit(){this.themeService.currentTheme.subscribe(r=>{this.currentTheme=r})}};e.\u0275fac=function(i){return new(i||e)(ne(Be))},e.\u0275cmp=ve({type:e,selectors:[["app-card"]],inputs:{imageUrl:"imageUrl",title:"title",description:"description",link:"link",linkText:"linkText"},decls:11,vars:11,consts:[[1,"container",2,"border","1px solid #121212","padding-bottom","10px"],["alt","",3,"src"],[2,"width","90%"],[2,"text-align","center"],["target","_blank",3,"href"]],template:function(i,o){i&1&&(g(0,"div",0),T(1,"img",1),g(2,"div",2)(3,"h3",3),b(4),v(),g(5,"p"),b(6),v(),g(7,"a",4)(8,"div"),b(9),A(10,"translation"),v()()()()),i&2&&(ae("dark",o.currentTheme==="dark")("light",o.currentTheme==="light"),m(),j("src",o.imageUrl,J),m(3),x(o.title),m(2),x(o.description),m(),j("href",o.link,J),m(2),x(M(10,9,"cards.button.text")))},dependencies:[$e],styles:[".container[_ngcontent-%COMP%]{border-radius:10px;margin:40px;max-width:330px;width:95%;display:flex;justify-content:space-between;align-items:center;flex-direction:column;transition-duration:.1s;text-align:justify;box-shadow:0 0 50px #ffffff03;color:#ffffffb3;cursor:pointer}.container.dark[_ngcontent-%COMP%]{background-color:#121212;color:#fff}.container.light[_ngcontent-%COMP%]{background-color:#fff;color:#121212}.container[_ngcontent-%COMP%]:hover{transform:scale(1.05);background-color:#ffffff1a;box-shadow:0 0 50px #fff3}img[_ngcontent-%COMP%]{border-radius:10px 10px 0 0;width:100%;height:180px}a[_ngcontent-%COMP%]{text-decoration:none;color:inherit;text-align:end;background-color:#f0f8ff}a[_ngcontent-%COMP%]:hover{transform:scale(1.1)}p[_ngcontent-%COMP%]{font-size:100%}"]});let t=e;return t})();function DL(t,e){if(t&1&&(g(0,"div"),T(1,"app-card",8),v()),t&2){let n=e.$implicit;m(),j("imageUrl",n.ImageLink)("title",n.Name)("description",n.Description)("link",n.GameLink)}}function TL(t,e){if(t&1&&(g(0,"div"),T(1,"app-card",8),v()),t&2){let n=e.$implicit;m(),j("imageUrl",n.ImageLink)("title",n.Name)("description",n.Description)("link",n.ProjectLink)}}var Ob=(()=>{let e=class e{constructor(r,i){this.dataBase=r,this.themeService=i,this.gameDetails=[],this.projectDetails=[],this.currentTheme="",this.getProjectsFromFirebase()}ngOnInit(){this.themeService.currentTheme.subscribe(r=>{this.currentTheme=r})}getProjectsFromFirebase(){let r=Nb(this.dataBase,"project");xb(r,i=>{let o=i.val();o?Object.keys(o).forEach(s=>{let a=o[s];a.ProjectCategoryu==="Game"?this.gameDetails.unshift(new wl(a.ProjectName,a.ProjectDescription,a.ProjectImageLink,a.ProjectLink)):this.projectDetails.unshift(new El(a.ProjectName,a.ProjectDescription,a.ProjectImageLink,a.ProjectLink))}):console.log("No data available")})}};e.\u0275fac=function(i){return new(i||e)(ne(mr),ne(Be))},e.\u0275cmp=ve({type:e,selectors:[["app-projects"]],decls:15,vars:12,consts:[[1,"container"],["id","games"],[2,"text-align","center","margin-top","200px"],[2,"width","30%","height","3px","background-color","rgba(255, 255, 255, 0.2)","border-radius","20px"],[2,"display","flex","justify-content","center","flex-wrap","wrap","width","98%"],[4,"ngFor","ngForOf"],["id","projects"],[2,"width","30%","height","3px","background-color","rgba(255, 255, 255, 0.2)","margin-bottom","50px","border-radius","20px"],[3,"imageUrl","title","description","link"]],template:function(i,o){i&1&&(g(0,"div",0),T(1,"div",1),g(2,"h1",2),b(3),A(4,"translation"),v(),T(5,"div",3),g(6,"div",4),za(7,DL,2,4,"div",5),v(),T(8,"div",6),g(9,"h1",2),b(10),A(11,"translation"),v(),T(12,"div",7),g(13,"div",4),za(14,TL,2,4,"div",5),v()()),i&2&&(ae("dark",o.currentTheme==="dark")("light",o.currentTheme==="light"),m(3),x(M(4,8,"navbar.button.games")),m(4),j("ngForOf",o.gameDetails),m(3),x(M(11,10,"navbar.button.projects")),m(4),j("ngForOf",o.projectDetails))},dependencies:[u_,Rb,$e],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;transition:background-color .5s ease,color .5s ease}.container.dark[_ngcontent-%COMP%]{background-color:#121212;color:#fff}.container.light[_ngcontent-%COMP%]{background-color:#fff;color:#121212}"]});let t=e;return t})();var Pb=(()=>{let e=class e{constructor(){this.title="portfolio2"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ve({type:e,selectors:[["app-root"]],decls:7,vars:0,consts:[["id","home"],["id","services"],["id","contact"]],template:function(i,o){i&1&&T(0,"app-navbar")(1,"app-home",0)(2,"app-projects")(3,"app-services",1)(4,"app-me")(5,"div",2)(6,"app-contact")},dependencies:[xI,OI,PI,kI,LI,Ob]});let t=e;return t})();var kb=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=tt({type:t});static \u0275inj=et({imports:[Xa]})}return t})();var Lb="AIzaSyCyO9aapJzt7ebk62P6QbKfc1ayy_pywsc";var Fb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=tt({type:e,bootstrap:[Pb]}),e.\u0275inj=et({providers:[P_(),pw(()=>gw({projectId:"portfolio-projects-83398",appId:"1:890483621302:web:994c5cbaadb2f1d8381517",databaseURL:"https://portfolio-projects-83398-default-rtdb.firebaseio.com",storageBucket:"portfolio-projects-83398.appspot.com",apiKey:Lb,authDomain:"portfolio-projects-83398.firebaseapp.com",messagingSenderId:"890483621302",measurementId:"G-4B9GFJ0WH8"})),Ab(()=>Mb())],imports:[R_,CI,kb]});let t=e;return t})();N_().bootstrapModule(Fb).catch(t=>console.error(t));

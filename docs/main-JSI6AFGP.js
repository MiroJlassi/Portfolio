var _C=Object.defineProperty,wC=Object.defineProperties;var IC=Object.getOwnPropertyDescriptors;var ls=Object.getOwnPropertySymbols;var qp=Object.prototype.hasOwnProperty,Kp=Object.prototype.propertyIsEnumerable;var Gp=(t,e,n)=>e in t?_C(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,I=(t,e)=>{for(var n in e||={})qp.call(e,n)&&Gp(t,n,e[n]);if(ls)for(var n of ls(e))Kp.call(e,n)&&Gp(t,n,e[n]);return t},te=(t,e)=>wC(t,IC(e));var Yp=(t,e)=>{var n={};for(var r in t)qp.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&ls)for(var r of ls(t))e.indexOf(r)<0&&Kp.call(t,r)&&(n[r]=t[r]);return n};var _=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});var Qp=null;var ul=1,Zp=Symbol("SIGNAL");function G(t){let e=Qp;return Qp=t,e}var Jp={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function EC(t){if(!(hl(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===ul)){if(!t.producerMustRecompute(t)&&!dl(t)){t.dirty=!1,t.lastCleanEpoch=ul;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=ul}}function Xp(t){return t&&(t.nextProducerIndex=0),G(t)}function eg(t,e){if(G(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(hl(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)fl(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function dl(t){us(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(EC(n),r!==n.version))return!0}return!1}function tg(t){if(us(t),hl(t))for(let e=0;e<t.producerNode.length;e++)fl(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function fl(t,e){if(CC(t),us(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)fl(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];us(i),i.producerIndexOfThis[r]=e}}function hl(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function us(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function CC(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function bC(){throw new Error}var DC=bC;function ng(t){DC=t}function N(t){return typeof t=="function"}function ir(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ds=ir(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Cn(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var oe=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(N(r))try{r()}catch(o){e=o instanceof ds?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{rg(o)}catch(s){e=e??[],s instanceof ds?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ds(e)}}add(e){var n;if(e&&e!==this)if(this.closed)rg(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Cn(n,e)}remove(e){let{_finalizers:n}=this;n&&Cn(n,e),e instanceof t&&e._removeParent(this)}};oe.EMPTY=(()=>{let t=new oe;return t.closed=!0,t})();var pl=oe.EMPTY;function fs(t){return t instanceof oe||t&&"closed"in t&&N(t.remove)&&N(t.add)&&N(t.unsubscribe)}function rg(t){N(t)?t():t.unsubscribe()}var it={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var or={setTimeout(t,e,...n){let{delegate:r}=or;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=or;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function hs(t){or.setTimeout(()=>{let{onUnhandledError:e}=it;if(e)e(t);else throw t})}function pi(){}var ig=gl("C",void 0,void 0);function og(t){return gl("E",void 0,t)}function sg(t){return gl("N",t,void 0)}function gl(t,e,n){return{kind:t,value:e,error:n}}var bn=null;function sr(t){if(it.useDeprecatedSynchronousErrorHandling){let e=!bn;if(e&&(bn={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=bn;if(bn=null,n)throw r}}else t()}function ag(t){it.useDeprecatedSynchronousErrorHandling&&bn&&(bn.errorThrown=!0,bn.error=t)}var Dn=class extends oe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,fs(e)&&e.add(this)):this.destination=AC}static create(e,n,r){return new ar(e,n,r)}next(e){this.isStopped?vl(sg(e),this):this._next(e)}error(e){this.isStopped?vl(og(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?vl(ig,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},TC=Function.prototype.bind;function ml(t,e){return TC.call(t,e)}var yl=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ps(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ps(r)}else ps(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ps(n)}}},ar=class extends Dn{constructor(e,n,r){super();let i;if(N(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&it.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&ml(e.next,o),error:e.error&&ml(e.error,o),complete:e.complete&&ml(e.complete,o)}):i=e}this.destination=new yl(i)}};function ps(t){it.useDeprecatedSynchronousErrorHandling?ag(t):hs(t)}function SC(t){throw t}function vl(t,e){let{onStoppedNotification:n}=it;n&&or.setTimeout(()=>n(t,e))}var AC={closed:!0,next:pi,error:SC,complete:pi};var cr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Pe(t){return t}function _l(...t){return wl(t)}function wl(t){return t.length===0?Pe:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var H=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=NC(n)?n:new ar(n,r,i);return sr(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=cg(r),new r((i,o)=>{let s=new ar({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[cr](){return this}pipe(...n){return wl(n)(this)}toPromise(n){return n=cg(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function cg(t){var e;return(e=t??it.Promise)!==null&&e!==void 0?e:Promise}function MC(t){return t&&N(t.next)&&N(t.error)&&N(t.complete)}function NC(t){return t&&t instanceof Dn||MC(t)&&fs(t)}function Il(t){return N(t?.lift)}function $(t){return e=>{if(Il(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function B(t,e,n,r,i){return new El(t,e,n,r,i)}var El=class extends Dn{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function lr(){return $((t,e)=>{let n=null;t._refCount++;let r=B(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var ur=class extends H{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Il(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new oe;let n=this.getSubject();e.add(this.source.subscribe(B(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=oe.EMPTY)}return e}refCount(){return lr()(this)}};var lg=ir(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ee=(()=>{class t extends H{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new gs(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new lg}next(n){sr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){sr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){sr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?pl:(this.currentObservers=null,o.push(n),new oe(()=>{this.currentObservers=null,Cn(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new H;return n.source=this,n}}return t.create=(e,n)=>new gs(e,n),t})(),gs=class extends Ee{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:pl}};var me=class extends Ee{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Cl={now(){return(Cl.delegate||Date).now()},delegate:void 0};var ms=class extends oe{constructor(e,n){super()}schedule(e,n=0){return this}};var gi={setInterval(t,e,...n){let{delegate:r}=gi;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=gi;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var dr=class extends ms{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return gi.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&gi.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Cn(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var fr=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};fr.now=Cl.now;var hr=class extends fr{constructor(e,n=fr.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var bl=new hr(dr);var vs=class extends dr{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var ys=class extends hr{};var Dl=new ys(vs);var Oe=new H(t=>t.complete());function ug(t){return t&&N(t.schedule)}function dg(t){return t[t.length-1]}function fg(t){return N(dg(t))?t.pop():void 0}function Qt(t){return ug(dg(t))?t.pop():void 0}function Tl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function pg(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function hg(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Tn(t){return this instanceof Tn?(this.v=t,this):new Tn(t)}function gg(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(p){return Promise.resolve(p).then(h,d)}}function a(h,p){r[h]&&(i[h]=function(w){return new Promise(function(R,O){o.push([h,w,R,O])>1||c(h,w)})},p&&(i[h]=p(i[h])))}function c(h,p){try{l(r[h](p))}catch(w){f(o[0][3],w)}}function l(h){h.value instanceof Tn?Promise.resolve(h.value.v).then(u,d):f(o[0][2],h)}function u(h){c("next",h)}function d(h){c("throw",h)}function f(h,p){h(p),o.shift(),o.length&&c(o[0][0],o[0][1])}}function mg(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof hg=="function"?hg(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var _s=t=>t&&typeof t.length=="number"&&typeof t!="function";function ws(t){return N(t?.then)}function Is(t){return N(t[cr])}function Es(t){return Symbol.asyncIterator&&N(t?.[Symbol.asyncIterator])}function Cs(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function RC(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var bs=RC();function Ds(t){return N(t?.[bs])}function Ts(t){return gg(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Tn(n.read());if(i)return yield Tn(void 0);yield yield Tn(r)}}finally{n.releaseLock()}})}function Ss(t){return N(t?.getReader)}function he(t){if(t instanceof H)return t;if(t!=null){if(Is(t))return xC(t);if(_s(t))return PC(t);if(ws(t))return OC(t);if(Es(t))return vg(t);if(Ds(t))return kC(t);if(Ss(t))return LC(t)}throw Cs(t)}function xC(t){return new H(e=>{let n=t[cr]();if(N(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function PC(t){return new H(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function OC(t){return new H(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,hs)})}function kC(t){return new H(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function vg(t){return new H(e=>{FC(t,e).catch(n=>e.error(n))})}function LC(t){return vg(Ts(t))}function FC(t,e){var n,r,i,o;return pg(this,void 0,void 0,function*(){try{for(n=mg(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Ae(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Zt(t,e=0){return $((n,r)=>{n.subscribe(B(r,i=>Ae(r,t,()=>r.next(i),e),()=>Ae(r,t,()=>r.complete(),e),i=>Ae(r,t,()=>r.error(i),e)))})}function Jt(t,e=0){return $((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function yg(t,e){return he(t).pipe(Jt(e),Zt(e))}function _g(t,e){return he(t).pipe(Jt(e),Zt(e))}function wg(t,e){return new H(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Ig(t,e){return new H(n=>{let r;return Ae(n,e,()=>{r=t[bs](),Ae(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>N(r?.return)&&r.return()})}function As(t,e){if(!t)throw new Error("Iterable cannot be null");return new H(n=>{Ae(n,e,()=>{let r=t[Symbol.asyncIterator]();Ae(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Eg(t,e){return As(Ts(t),e)}function Cg(t,e){if(t!=null){if(Is(t))return yg(t,e);if(_s(t))return wg(t,e);if(ws(t))return _g(t,e);if(Es(t))return As(t,e);if(Ds(t))return Ig(t,e);if(Ss(t))return Eg(t,e)}throw Cs(t)}function ne(t,e){return e?Cg(t,e):he(t)}function A(...t){let e=Qt(t);return ne(t,e)}function pr(t,e){let n=N(t)?t:()=>t,r=i=>i.error(n());return new H(e?i=>e.schedule(r,0,i):r)}function Sl(t){return!!t&&(t instanceof H||N(t.lift)&&N(t.subscribe))}var kt=ir(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function V(t,e){return $((n,r)=>{let i=0;n.subscribe(B(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:jC}=Array;function UC(t,e){return jC(e)?t(...e):t(e)}function bg(t){return V(e=>UC(t,e))}var{isArray:VC}=Array,{getPrototypeOf:$C,prototype:BC,keys:HC}=Object;function Dg(t){if(t.length===1){let e=t[0];if(VC(e))return{args:e,keys:null};if(WC(e)){let n=HC(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function WC(t){return t&&typeof t=="object"&&$C(t)===BC}function Tg(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function mi(...t){let e=Qt(t),n=fg(t),{args:r,keys:i}=Dg(t);if(r.length===0)return ne([],e);let o=new H(zC(r,e,i?s=>Tg(i,s):Pe));return n?o.pipe(bg(n)):o}function zC(t,e,n=Pe){return r=>{Sg(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)Sg(e,()=>{let l=ne(t[c],e),u=!1;l.subscribe(B(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Sg(t,e,n){t?Ae(n,t,e):e()}function Ag(t,e,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,f=()=>{d&&!c.length&&!l&&e.complete()},h=w=>l<r?p(w):c.push(w),p=w=>{o&&e.next(w),l++;let R=!1;he(n(w,u++)).subscribe(B(e,O=>{i?.(O),o?h(O):e.next(O)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;c.length&&l<r;){let O=c.shift();s?Ae(e,s,()=>p(O)):p(O)}f()}catch(O){e.error(O)}}))};return t.subscribe(B(e,h,()=>{d=!0,f()})),()=>{a?.()}}function ce(t,e,n=1/0){return N(e)?ce((r,i)=>V((o,s)=>e(r,o,i,s))(he(t(r,i))),n):(typeof e=="number"&&(n=e),$((r,i)=>Ag(r,i,t,n)))}function gr(t=1/0){return ce(Pe,t)}function Mg(){return gr(1)}function mr(...t){return Mg()(ne(t,Qt(t)))}function Ms(t){return new H(e=>{he(t()).subscribe(e)})}function ke(t,e){return $((n,r)=>{let i=0;n.subscribe(B(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Xt(t){return $((e,n)=>{let r=null,i=!1,o;r=e.subscribe(B(n,void 0,void 0,s=>{o=he(t(s,Xt(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Ng(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(B(s,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function en(t,e){return N(e)?ce(t,e,1):ce(t,1)}function tn(t){return $((e,n)=>{let r=!1;e.subscribe(B(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Lt(t){return t<=0?()=>Oe:$((e,n)=>{let r=0;e.subscribe(B(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Al(t){return V(()=>t)}function Ns(t=GC){return $((e,n)=>{let r=!1;e.subscribe(B(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function GC(){return new kt}function vr(t){return $((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function ot(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ke((i,o)=>t(i,o,r)):Pe,Lt(1),n?tn(e):Ns(()=>new kt))}function yr(t){return t<=0?()=>Oe:$((e,n)=>{let r=[];e.subscribe(B(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Ml(t,e){let n=arguments.length>=2;return r=>r.pipe(t?ke((i,o)=>t(i,o,r)):Pe,yr(1),n?tn(e):Ns(()=>new kt))}function Nl(t,e){return $(Ng(t,e,arguments.length>=2,!0))}function Rl(...t){let e=Qt(t);return $((n,r)=>{(e?mr(t,n,e):mr(t,n)).subscribe(r)})}function Le(t,e){return $((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(B(r,c=>{i?.unsubscribe();let l=0,u=o++;he(t(c,u)).subscribe(i=B(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function xl(t){return $((e,n)=>{he(t).subscribe(B(n,()=>n.complete(),pi)),!n.closed&&e.subscribe(n)})}function se(t,e,n){let r=N(t)||e||n?{next:t,error:e,complete:n}:t;return r?$((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(B(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Pe}var mm="https://g.co/ng/security#xss",E=class extends Error{constructor(e,n){super(da(e,n)),this.code=e}};function da(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Pi(t){return{toString:t}.toString()}var Rs="__parameters__";function qC(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function vm(t,e,n){return Pi(()=>{let r=qC(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(Rs)?c[Rs]:Object.defineProperty(c,Rs,{value:[]})[Rs];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Fe=globalThis;function J(t){for(let e in t)if(t[e]===J)return e;throw Error("Could not find renamed property on target object.")}function Me(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Me).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Rg(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var KC=J({__forward_ref__:J});function ym(t){return t.__forward_ref__=ym,t.toString=function(){return Me(this())},t}function Ye(t){return _m(t)?t():t}function _m(t){return typeof t=="function"&&t.hasOwnProperty(KC)&&t.__forward_ref__===ym}function b(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Be(t){return{providers:t.providers||[],imports:t.imports||[]}}function fa(t){return xg(t,Im)||xg(t,Em)}function wm(t){return fa(t)!==null}function xg(t,e){return t.hasOwnProperty(e)?t[e]:null}function YC(t){let e=t&&(t[Im]||t[Em]);return e||null}function Pg(t){return t&&(t.hasOwnProperty(Og)||t.hasOwnProperty(QC))?t[Og]:null}var Im=J({\u0275prov:J}),Og=J({\u0275inj:J}),Em=J({ngInjectableDef:J}),QC=J({ngInjectorDef:J}),D=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=b({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Cm(t){return t&&!!t.\u0275providers}var ZC=J({\u0275cmp:J}),JC=J({\u0275dir:J}),XC=J({\u0275pipe:J}),eb=J({\u0275mod:J}),$s=J({\u0275fac:J}),yi=J({__NG_ELEMENT_ID__:J}),kg=J({__NG_ENV_ID__:J});function Ou(t){return typeof t=="string"?t:t==null?"":String(t)}function tb(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ou(t)}function nb(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new E(-200,t)}function ku(t,e){throw new E(-201,!1)}var k=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(k||{}),ql;function bm(){return ql}function Ke(t){let e=ql;return ql=t,e}function Dm(t,e,n){let r=fa(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&k.Optional)return null;if(e!==void 0)return e;ku(t,"Injector")}var rb={},wi=rb,Kl="__NG_DI_FLAG__",Bs="ngTempTokenPath",ib="ngTokenPath",ob=/\n/gm,sb="\u0275",Lg="__source",Cr;function ab(){return Cr}function nn(t){let e=Cr;return Cr=t,e}function cb(t,e=k.Default){if(Cr===void 0)throw new E(-203,!1);return Cr===null?Dm(t,void 0,e):Cr.get(t,e&k.Optional?null:void 0,e)}function S(t,e=k.Default){return(bm()||cb)(Ye(t),e)}function g(t,e=k.Default){return S(t,ha(e))}function ha(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Yl(t){let e=[];for(let n=0;n<t.length;n++){let r=Ye(t[n]);if(Array.isArray(r)){if(r.length===0)throw new E(900,!1);let i,o=k.Default;for(let s=0;s<r.length;s++){let a=r[s],c=lb(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(S(i,o))}else e.push(S(r))}return e}function Tm(t,e){return t[Kl]=e,t.prototype[Kl]=e,t}function lb(t){return t[Kl]}function ub(t,e,n,r){let i=t[Bs];throw e[Lg]&&i.unshift(e[Lg]),t.message=db(`
`+t.message,i,n,r),t[ib]=i,t[Bs]=null,t}function db(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==sb?t.slice(2):t;let i=Me(e);if(Array.isArray(e))i=e.map(Me).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Me(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(ob,`
  `)}`}var Je=Tm(vm("Optional"),8);var Lu=Tm(vm("SkipSelf"),4);function Dr(t,e){let n=t.hasOwnProperty($s);return n?t[$s]:null}function Fu(t,e){t.forEach(n=>Array.isArray(n)?Fu(n,e):e(n))}function Sm(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Hs(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function fb(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function hb(t,e,n){let r=Oi(t,e);return r>=0?t[r|1]=n:(r=~r,fb(t,r,e,n)),r}function Pl(t,e){let n=Oi(t,e);if(n>=0)return t[n|1]}function Oi(t,e){return pb(t,e,1)}function pb(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Ii={},Qe=[],An=new D(""),Am=new D("",-1),Mm=new D(""),Ws=class{get(e,n=wi){if(n===wi){let r=new Error(`NullInjectorError: No provider for ${Me(e)}!`);throw r.name="NullInjectorError",r}return n}},Nm=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Nm||{}),_t=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(_t||{}),sn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(sn||{});function gb(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Ql(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];vb(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function mb(t){return t===3||t===4||t===6}function vb(t){return t.charCodeAt(0)===64}function ju(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Fg(t,n,i,null,e[++r]):Fg(t,n,i,null,null))}}return t}function Fg(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var Rm="ng-template";function yb(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&gb(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Uu(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Uu(t){return t.type===4&&t.value!==Rm}function _b(t,e,n){let r=t.type===4&&!n?Rm:t.value;return e===r}function wb(t,e,n){let r=4,i=t.attrs,o=i!==null?Cb(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!st(r)&&!st(c))return!1;if(s&&st(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!_b(t,c,n)||c===""&&e.length===1){if(st(r))return!1;s=!0}}else if(r&8){if(i===null||!yb(t,i,c,n)){if(st(r))return!1;s=!0}}else{let l=e[++a],u=Ib(c,i,Uu(t),n);if(u===-1){if(st(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(st(r))return!1;s=!0}}}}return st(r)||s}function st(t){return(t&1)===0}function Ib(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return bb(e,t)}function Eb(t,e,n=!1){for(let r=0;r<e.length;r++)if(wb(t,e[r],n))return!0;return!1}function Cb(t){for(let e=0;e<t.length;e++){let n=t[e];if(mb(n))return e}return t.length}function bb(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function jg(t,e){return t?":not("+e.trim()+")":e}function Db(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!st(s)&&(e+=jg(o,i),i=""),r=s,o=o||!st(r);n++}return i!==""&&(e+=jg(o,i)),e}function Tb(t){return t.map(Db).join(",")}function Sb(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!st(i))break;i=o}r++}return{attrs:e,classes:n}}function ue(t){return Pi(()=>{let e=Lm(t),n=te(I({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Nm.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||_t.Emulated,styles:t.styles||Qe,_:null,schemas:t.schemas||null,tView:null,id:""});Fm(n);let r=t.dependencies;return n.directiveDefs=Vg(r,!1),n.pipeDefs=Vg(r,!0),n.id=Nb(n),n})}function Ab(t){return an(t)||xm(t)}function Mb(t){return t!==null}function He(t){return Pi(()=>({type:t.type,bootstrap:t.bootstrap||Qe,declarations:t.declarations||Qe,imports:t.imports||Qe,exports:t.exports||Qe,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Ug(t,e){if(t==null)return Ii;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=sn.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==sn.None?[r,a]:r,e[o]=s):n[o]=r}return n}function ki(t){return Pi(()=>{let e=Lm(t);return Fm(e),e})}function an(t){return t[ZC]||null}function xm(t){return t[JC]||null}function Pm(t){return t[XC]||null}function Om(t){let e=an(t)||xm(t)||Pm(t);return e!==null?e.standalone:!1}function km(t,e){let n=t[eb]||null;if(!n&&e===!0)throw new Error(`Type ${Me(t)} does not have '\u0275mod' property.`);return n}function Lm(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ii,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Qe,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ug(t.inputs,e),outputs:Ug(t.outputs),debugInfo:null}}function Fm(t){t.features?.forEach(e=>e(t))}function Vg(t,e){if(!t)return null;let n=e?Pm:Ab;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(Mb)}function Nb(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Vt(t){return{\u0275providers:t}}function Rb(...t){return{\u0275providers:jm(!0,t),\u0275fromNgModule:!0}}function jm(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Fu(e,s=>{let a=s;Zl(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Um(i,o),n}function Um(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Vu(i,o=>{e(o,r)})}}function Zl(t,e,n,r){if(t=Ye(t),!t)return!1;let i=null,o=Pg(t),s=!o&&an(t);if(!o&&!s){let c=t.ngModule;if(o=Pg(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)Zl(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Fu(o.imports,u=>{Zl(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&Um(l,e)}if(!a){let l=Dr(i)||(()=>new i);e({provide:i,useFactory:l,deps:Qe},i),e({provide:Mm,useValue:i,multi:!0},i),e({provide:An,useValue:()=>S(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;Vu(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Vu(t,e){for(let n of t)Cm(n)&&(n=n.\u0275providers),Array.isArray(n)?Vu(n,e):e(n)}var xb=J({provide:String,useValue:J});function Vm(t){return t!==null&&typeof t=="object"&&xb in t}function Pb(t){return!!(t&&t.useExisting)}function Ob(t){return!!(t&&t.useFactory)}function Jl(t){return typeof t=="function"}var pa=new D(""),Ls={},kb={},Ol;function $u(){return Ol===void 0&&(Ol=new Ws),Ol}var Ue=class{},Ei=class extends Ue{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,eu(e,s=>this.processProvider(s)),this.records.set(Am,_r(void 0,this)),i.has("environment")&&this.records.set(Ue,_r(void 0,this));let o=this.records.get(pa);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Mm,Qe,k.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=G(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),G(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=nn(this),r=Ke(void 0),i;try{return e()}finally{nn(n),Ke(r)}}get(e,n=wi,r=k.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(kg))return e[kg](this);r=ha(r);let i,o=nn(this),s=Ke(void 0);try{if(!(r&k.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=$b(e)&&fa(e);l&&this.injectableDefInScope(l)?c=_r(Xl(e),Ls):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&k.Self?$u():this.parent;return n=r&k.Optional&&n===wi?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Bs]=a[Bs]||[]).unshift(Me(e)),o)throw a;return ub(a,e,"R3InjectorError",this.source)}else throw a}finally{Ke(s),nn(o)}}resolveInjectorInitializers(){let e=G(null),n=nn(this),r=Ke(void 0),i;try{let o=this.get(An,Qe,k.Self);for(let s of o)s()}finally{nn(n),Ke(r),G(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Me(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new E(205,!1)}processProvider(e){e=Ye(e);let n=Jl(e)?e:Ye(e&&e.provide),r=Fb(e);if(!Jl(e)&&e.multi===!0){let i=this.records.get(n);i||(i=_r(void 0,Ls,!0),i.factory=()=>Yl(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=G(null);try{return n.value===Ls&&(n.value=kb,n.value=n.factory()),typeof n.value=="object"&&n.value&&Vb(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{G(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Ye(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Xl(t){let e=fa(t),n=e!==null?e.factory:Dr(t);if(n!==null)return n;if(t instanceof D)throw new E(204,!1);if(t instanceof Function)return Lb(t);throw new E(204,!1)}function Lb(t){if(t.length>0)throw new E(204,!1);let n=YC(t);return n!==null?()=>n.factory(t):()=>new t}function Fb(t){if(Vm(t))return _r(void 0,t.useValue);{let e=jb(t);return _r(e,Ls)}}function jb(t,e,n){let r;if(Jl(t)){let i=Ye(t);return Dr(i)||Xl(i)}else if(Vm(t))r=()=>Ye(t.useValue);else if(Ob(t))r=()=>t.useFactory(...Yl(t.deps||[]));else if(Pb(t))r=()=>S(Ye(t.useExisting));else{let i=Ye(t&&(t.useClass||t.provide));if(Ub(t))r=()=>new i(...Yl(t.deps));else return Dr(i)||Xl(i)}return r}function _r(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Ub(t){return!!t.deps}function Vb(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function $b(t){return typeof t=="function"||typeof t=="object"&&t instanceof D}function eu(t,e){for(let n of t)Array.isArray(n)?eu(n,e):n&&Cm(n)?eu(n.\u0275providers,e):e(n)}function It(t,e){t instanceof Ei&&t.assertNotDestroyed();let n,r=nn(t),i=Ke(void 0);try{return e()}finally{nn(r),Ke(i)}}function $m(){return bm()!==void 0||ab()!=null}function Bb(t){if(!$m())throw new E(-203,!1)}function Hb(t){let e=Fe.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function Wb(t){return typeof t=="function"}var Ve=0,U=1,M=2,ve=3,at=4,dt=5,ct=6,Ci=7,Ft=8,Tr=9,lt=10,ae=11,bi=12,$g=13,Li=14,Ze=15,ga=16,wr=17,Sr=18,ma=19,Bm=20,rn=21,kl=22,Mn=23,$e=25,Hm=1,Di=6,jt=7,zs=8,Gs=9,je=10,Bu=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Bu||{});function on(t){return Array.isArray(t)&&typeof t[Hm]=="object"}function Et(t){return Array.isArray(t)&&t[Hm]===!0}function Wm(t){return(t.flags&4)!==0}function Fi(t){return t.componentOffset>-1}function Hu(t){return(t.flags&1)===1}function ji(t){return!!t.template}function zm(t){return(t[M]&512)!==0}var tu=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Gm(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Ui(){return qm}function qm(t){return t.type.prototype.ngOnChanges&&(t.setInput=Gb),zb}Ui.ngInherit=!0;function zb(){let t=Ym(this),e=t?.current;if(e){let n=t.previous;if(n===Ii)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Gb(t,e,n,r,i){let o=this.declaredInputs[r],s=Ym(t)||qb(t,{previous:Ii,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new tu(l&&l.currentValue,n,c===Ii),Gm(t,e,i,n)}var Km="__ngSimpleChanges__";function Ym(t){return t[Km]||null}function qb(t,e){return t[Km]=e}var Bg=null;var vt=function(t,e,n){Bg?.(t,e,n)},Kb="svg",Yb="math",Qb=!1;function Zb(){return Qb}function ut(t){for(;Array.isArray(t);)t=t[Ve];return t}function Qm(t,e){return ut(e[t])}function Xe(t,e){return ut(e[t.index])}function Zm(t,e){return t.data[e]}function On(t,e){let n=e[t];return on(n)?n:n[Ve]}function Wu(t){return(t[M]&128)===128}function Jb(t){return Et(t[ve])}function qs(t,e){return e==null?null:t[e]}function Jm(t){t[wr]=0}function Xb(t){t[M]&1024||(t[M]|=1024,Wu(t)&&Ti(t))}function zu(t){return!!(t[M]&9216||t[Mn]?.dirty)}function nu(t){t[lt].changeDetectionScheduler?.notify(1),zu(t)?Ti(t):t[M]&64&&(Zb()?(t[M]|=1024,Ti(t)):t[lt].changeDetectionScheduler?.notify())}function Ti(t){t[lt].changeDetectionScheduler?.notify();let e=Si(t);for(;e!==null&&!(e[M]&8192||(e[M]|=8192,!Wu(e)));)e=Si(e)}function Xm(t,e){if((t[M]&256)===256)throw new E(911,!1);t[rn]===null&&(t[rn]=[]),t[rn].push(e)}function eD(t,e){if(t[rn]===null)return;let n=t[rn].indexOf(e);n!==-1&&t[rn].splice(n,1)}function Si(t){let e=t[ve];return Et(e)?e[ve]:e}var z={lFrame:av(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function tD(){return z.lFrame.elementDepthCount}function nD(){z.lFrame.elementDepthCount++}function rD(){z.lFrame.elementDepthCount--}function ev(){return z.bindingsEnabled}function Vi(){return z.skipHydrationRootTNode!==null}function iD(t){return z.skipHydrationRootTNode===t}function oD(t){z.skipHydrationRootTNode=t}function sD(){z.skipHydrationRootTNode=null}function le(){return z.lFrame.lView}function un(){return z.lFrame.tView}function Ct(){let t=tv();for(;t!==null&&t.type===64;)t=t.parent;return t}function tv(){return z.lFrame.currentTNode}function aD(){let t=z.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function $i(t,e){let n=z.lFrame;n.currentTNode=t,n.isParent=e}function nv(){return z.lFrame.isParent}function cD(){z.lFrame.isParent=!1}function lD(t){return z.lFrame.bindingIndex=t}function rv(){return z.lFrame.bindingIndex++}function uD(t){let e=z.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function dD(){return z.lFrame.inI18n}function fD(t,e){let n=z.lFrame;n.bindingIndex=n.bindingRootIndex=t,ru(e)}function hD(){return z.lFrame.currentDirectiveIndex}function ru(t){z.lFrame.currentDirectiveIndex=t}function pD(t){let e=z.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function iv(t){z.lFrame.currentQueryIndex=t}function gD(t){let e=t[U];return e.type===2?e.declTNode:e.type===1?t[dt]:null}function ov(t,e,n){if(n&k.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&k.Host);)if(i=gD(o),i===null||(o=o[Li],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=z.lFrame=sv();return r.currentTNode=e,r.lView=t,!0}function Gu(t){let e=sv(),n=t[U];z.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function sv(){let t=z.lFrame,e=t===null?null:t.child;return e===null?av(t):e}function av(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function cv(){let t=z.lFrame;return z.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var lv=cv;function qu(){let t=cv();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Nr(){return z.lFrame.selectedIndex}function Nn(t){z.lFrame.selectedIndex=t}function mD(){let t=z.lFrame;return Zm(t.tView,t.selectedIndex)}function uv(){return z.lFrame.currentNamespace}var dv=!0;function Ku(){return dv}function bt(t){dv=t}function vD(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=qm(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Yu(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function Fs(t,e,n){fv(t,e,3,n)}function js(t,e,n,r){(t[M]&3)===n&&fv(t,e,n,r)}function Ll(t,e){let n=t[M];(n&3)===e&&(n&=16383,n+=1,t[M]=n)}function fv(t,e,n,r){let i=r!==void 0?t[wr]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[wr]+=65536),(a<o||o==-1)&&(yD(t,n,e,c),t[wr]=(t[wr]&4294901760)+c+2),c++}function Hg(t,e){vt(4,t,e);let n=G(null);try{e.call(t)}finally{G(n),vt(5,t,e)}}function yD(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[M]>>14<t[wr]>>16&&(t[M]&3)===e&&(t[M]+=16384,Hg(a,o)):Hg(a,o)}var br=-1,Ai=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function _D(t){return t instanceof Ai}function wD(t){return(t.flags&8)!==0}function ID(t){return(t.flags&16)!==0}function hv(t){return t!==br}function Ks(t){return t&32767}function ED(t){return t>>16}function Ys(t,e){let n=ED(t),r=e;for(;n>0;)r=r[Li],n--;return r}var iu=!0;function Wg(t){let e=iu;return iu=t,e}var CD=256,pv=CD-1,gv=5,bD=0,yt={};function DD(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(yi)&&(r=n[yi]),r==null&&(r=n[yi]=bD++);let i=r&pv,o=1<<i;e.data[t+(i>>gv)]|=o}function mv(t,e){let n=vv(t,e);if(n!==-1)return n;let r=e[U];r.firstCreatePass&&(t.injectorIndex=e.length,Fl(r.data,t),Fl(e,null),Fl(r.blueprint,null));let i=Qu(t,e),o=t.injectorIndex;if(hv(i)){let s=Ks(i),a=Ys(i,e),c=a[U].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Fl(t,e){t.push(0,0,0,0,0,0,0,0,e)}function vv(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Qu(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Ev(i),r===null)return br;if(n++,i=i[Li],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return br}function TD(t,e,n){DD(t,e,n)}function yv(t,e,n){if(n&k.Optional||t!==void 0)return t;ku(e,"NodeInjector")}function _v(t,e,n,r){if(n&k.Optional&&r===void 0&&(r=null),!(n&(k.Self|k.Host))){let i=t[Tr],o=Ke(void 0);try{return i?i.get(e,r,n&k.Optional):Dm(e,r,n&k.Optional)}finally{Ke(o)}}return yv(r,e,n)}function wv(t,e,n,r=k.Default,i){if(t!==null){if(e[M]&2048&&!(r&k.Self)){let s=RD(t,e,n,r,yt);if(s!==yt)return s}let o=Iv(t,e,n,r,yt);if(o!==yt)return o}return _v(e,n,r,i)}function Iv(t,e,n,r,i){let o=MD(n);if(typeof o=="function"){if(!ov(e,t,r))return r&k.Host?yv(i,n,r):_v(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&k.Optional))ku(n);else return s}finally{lv()}}else if(typeof o=="number"){let s=null,a=vv(t,e),c=br,l=r&k.Host?e[Ze][dt]:null;for((a===-1||r&k.SkipSelf)&&(c=a===-1?Qu(t,e):e[a+8],c===br||!Gg(r,!1)?a=-1:(s=e[U],a=Ks(c),e=Ys(c,e)));a!==-1;){let u=e[U];if(zg(o,a,u.data)){let d=SD(a,e,n,s,r,l);if(d!==yt)return d}c=e[a+8],c!==br&&Gg(r,e[U].data[a+8]===l)&&zg(o,a,e)?(s=u,a=Ks(c),e=Ys(c,e)):a=-1}}return i}function SD(t,e,n,r,i,o){let s=e[U],a=s.data[t+8],c=r==null?Fi(a)&&iu:r!=s&&(a.type&3)!==0,l=i&k.Host&&o===a,u=AD(a,s,n,c,l);return u!==null?Mi(e,s,u,a):yt}function AD(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:l;for(let h=d;h<f;h++){let p=s[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(i){let h=s[c];if(h&&ji(h)&&h.type===n)return c}return null}function Mi(t,e,n,r){let i=t[n],o=e.data;if(_D(i)){let s=i;s.resolving&&nb(tb(o[n]));let a=Wg(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?Ke(s.injectImpl):null,u=ov(t,r,k.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&vD(n,o[n],e)}finally{l!==null&&Ke(l),Wg(a),s.resolving=!1,lv()}}return i}function MD(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(yi)?t[yi]:void 0;return typeof e=="number"?e>=0?e&pv:ND:e}function zg(t,e,n){let r=1<<t;return!!(n[e+(t>>gv)]&r)}function Gg(t,e){return!(t&k.Self)&&!(t&k.Host&&e)}var Sn=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return wv(this._tNode,this._lView,e,ha(r),n)}};function ND(){return new Sn(Ct(),le())}function Zu(t){return Pi(()=>{let e=t.prototype.constructor,n=e[$s]||ou(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[$s]||ou(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function ou(t){return _m(t)?()=>{let e=ou(Ye(t));return e&&e()}:Dr(t)}function RD(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[M]&2048&&!(s[M]&512);){let a=Iv(o,s,n,r|k.Self,yt);if(a!==yt)return a;let c=o.parent;if(!c){let l=s[Bm];if(l){let u=l.get(n,yt,r);if(u!==yt)return u}c=Ev(s),s=s[Li]}o=c}return i}function Ev(t){let e=t[U],n=e.type;return n===2?e.declTNode:n===1?t[dt]:null}function qg(t,e=null,n=null,r){let i=Cv(t,e,n,r);return i.resolveInjectorInitializers(),i}function Cv(t,e=null,n=null,r,i=new Set){let o=[n||Qe,Rb(t)];return r=r||(typeof t=="object"?void 0:Me(t)),new Ei(o,e||$u(),r||null,i)}var be=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return qg({name:""},i,r,"");{let o=r.name??"";return qg({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=wi,e.NULL=new Ws,e.\u0275prov=b({token:e,providedIn:"any",factory:()=>S(Am)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var xD="ngOriginalError";function jl(t){return t[xD]}var wt=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&jl(e);for(;n&&jl(n);)n=jl(n);return n||null}},bv=new D("",{providedIn:"root",factory:()=>g(wt).handleError.bind(void 0)}),Ju=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=PD,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),su=class extends Ju{constructor(e){super(),this._lView=e}onDestroy(e){return Xm(this._lView,e),()=>eD(this._lView,e)}};function PD(){return new su(le())}function OD(){return va(Ct(),le())}function va(t,e){return new ya(Xe(t,e))}var ya=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=OD;let t=e;return t})();var au=class extends Ee{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,$m()&&(this.destroyRef=g(Ju,{optional:!0})??void 0)}emit(e){let n=G(null);try{super.next(e)}finally{G(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=Ul(o),i&&(i=Ul(i)),s&&(s=Ul(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof oe&&e.add(a),a}};function Ul(t){return e=>{setTimeout(t,void 0,e)}}var Ce=au;var kD="ngSkipHydration",LD="ngskiphydration";function Dv(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===LD)return!0}return!1}function Tv(t){return t.hasAttribute(kD)}function Qs(t){return(t.flags&128)===128}function FD(t){if(Qs(t))return!0;let e=t.parent;for(;e;){if(Qs(t)||Dv(e))return!0;e=e.parent}return!1}var Sv=new Map,jD=0;function UD(){return jD++}function VD(t){Sv.set(t[ma],t)}function $D(t){Sv.delete(t[ma])}var Kg="__ngContext__";function Rn(t,e){on(e)?(t[Kg]=e[ma],VD(e)):t[Kg]=e}function Av(t){return Nv(t[bi])}function Mv(t){return Nv(t[at])}function Nv(t){for(;t!==null&&!Et(t);)t=t[at];return t}var cu;function Rv(t){cu=t}function _a(){if(cu!==void 0)return cu;if(typeof document<"u")return document;throw new E(210,!1)}var Bi=new D("",{providedIn:"root",factory:()=>BD}),BD="ng",Xu=new D(""),We=new D("",{providedIn:"platform",factory:()=>"unknown"});var ed=new D("",{providedIn:"root",factory:()=>_a().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function HD(){let t=new kn;return g(We)==="browser"&&(t.store=WD(_a(),g(Bi))),t}var kn=(()=>{let e=class e{constructor(){this.store={},this.onSerializeCallbacks={}}get(r,i){return this.store[r]!==void 0?this.store[r]:i}set(r,i){this.store[r]=i}remove(r){delete this.store[r]}hasKey(r){return this.store.hasOwnProperty(r)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(r,i){this.onSerializeCallbacks[r]=i}toJson(){for(let r in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(r))try{this.store[r]=this.onSerializeCallbacks[r]()}catch(i){console.warn("Exception in onSerialize callback: ",i)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}};e.\u0275prov=b({token:e,providedIn:"root",factory:HD});let t=e;return t})();function WD(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var xv="h",Pv="b",lu=function(t){return t.FirstChild="f",t.NextSibling="n",t}(lu||{}),zD="e",GD="t",td="c",Ov="x",Zs="r",qD="i",KD="n",YD="d",QD="__nghData__",kv=QD,Vl="ngh",ZD="nghm",Lv=()=>null;function JD(t,e,n=!1){let r=t.getAttribute(Vl);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let s=o?`|${o}`:"",a=n?i:s,c={};if(r!==""){let u=e.get(kn,null,{optional:!0});u!==null&&(c=u.get(kv,[])[Number(r)])}let l={data:c,firstChild:t.firstChild??null};return n&&(l.firstChild=t,wa(l,0,t.nextSibling)),a?t.setAttribute(Vl,a):t.removeAttribute(Vl),l}function XD(){Lv=JD}function nd(t,e,n=!1){return Lv(t,e,n)}function e0(t){let e=t._lView;return e[U].type===2?null:(zm(e)&&(e=e[$e]),e)}function t0(t){return t.textContent?.replace(/\s/gm,"")}function n0(t){let e=_a(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=t0(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function wa(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function uu(t,e){return t.segmentHeads?.[e]??null}function r0(t,e){let n=t.data,r=n[zD]?.[e]??null;return r===null&&n[td]?.[e]&&(r=rd(t,e)),r}function Fv(t,e){return t.data[td]?.[e]??null}function rd(t,e){let n=Fv(t,e)??[],r=0;for(let i of n)r+=i[Zs]*(i[Ov]??1);return r}function Ia(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[YD];t.disconnectedNodes=n?new Set(n):null}return!!t.disconnectedNodes?.has(e)}var xs=new D(""),jv=!1,Uv=new D("",{providedIn:"root",factory:()=>jv}),i0=new D("");var Js=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${mm})`}};function Ea(t){return t instanceof Js?t.changingThisBreaksApplicationSecurity:t}function Vv(t,e){let n=o0(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${mm})`)}return n===e}function o0(t){return t instanceof Js&&t.getTypeName()||null}var s0=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function $v(t){return t=String(t),t.match(s0)?t:"unsafe:"+t}var id=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(id||{});function od(t){let e=a0();return e?e.sanitize(id.URL,t)||"":Vv(t,"URL")?Ea(t):$v(Ou(t))}function a0(){let t=le();return t&&t[lt].sanitizer}var c0=/^>|^->|<!--|-->|--!>|<!-$/g,l0=/(<|>)/g,u0="\u200B$1\u200B";function d0(t){return t.replace(c0,e=>e.replace(l0,u0))}function f0(t){return t.ownerDocument.body}function Bv(t){return t instanceof Function?t():t}function vi(t){return(t??g(be)).get(We)==="browser"}var Ut=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Ut||{}),h0;function sd(t,e){return h0(t,e)}function Ir(t,e,n,r,i){if(r!=null){let o,s=!1;Et(r)?o=r:on(r)&&(s=!0,r=r[Ve]);let a=ut(r);t===0&&n!==null?i==null?Gv(e,n,a):Xs(e,n,a,i||null,!0):t===1&&n!==null?Xs(e,n,a,i||null,!0):t===2?dd(e,a,s):t===3&&e.destroyNode(a),o!=null&&N0(e,t,o,n,i)}}function ad(t,e){return t.createText(e)}function p0(t,e,n){t.setValue(e,n)}function cd(t,e){return t.createComment(d0(e))}function Ca(t,e,n){return t.createElement(e,n)}function g0(t,e){Hv(t,e),e[Ve]=null,e[dt]=null}function m0(t,e,n,r,i,o){r[Ve]=i,r[dt]=e,ba(t,r,n,1,i,o)}function Hv(t,e){e[lt].changeDetectionScheduler?.notify(1),ba(t,e,e[ae],2,null,null)}function v0(t){let e=t[bi];if(!e)return $l(t[U],t);for(;e;){let n=null;if(on(e))n=e[bi];else{let r=e[je];r&&(n=r)}if(!n){for(;e&&!e[at]&&e!==t;)on(e)&&$l(e[U],e),e=e[ve];e===null&&(e=t),on(e)&&$l(e[U],e),n=e&&e[at]}e=n}}function y0(t,e,n,r){let i=je+r,o=n.length;r>0&&(n[i-1][at]=e),r<o-je?(e[at]=n[i],Sm(n,je+r,e)):(n.push(e),e[at]=null),e[ve]=n;let s=e[ga];s!==null&&n!==s&&_0(s,e);let a=e[Sr];a!==null&&a.insertView(t),nu(e),e[M]|=128}function _0(t,e){let n=t[Gs],i=e[ve][ve][Ze];e[Ze]!==i&&(t[M]|=Bu.HasTransplantedViews),n===null?t[Gs]=[e]:n.push(e)}function Wv(t,e){let n=t[Gs],r=n.indexOf(e);n.splice(r,1)}function du(t,e){if(t.length<=je)return;let n=je+e,r=t[n];if(r){let i=r[ga];i!==null&&i!==t&&Wv(i,r),e>0&&(t[n-1][at]=r[at]);let o=Hs(t,je+e);g0(r[U],r);let s=o[Sr];s!==null&&s.detachView(o[U]),r[ve]=null,r[at]=null,r[M]&=-129}return r}function zv(t,e){if(!(e[M]&256)){let n=e[ae];n.destroyNode&&ba(t,e,n,3,null,null),v0(e)}}function $l(t,e){if(e[M]&256)return;let n=G(null);try{e[M]&=-129,e[M]|=256,e[Mn]&&tg(e[Mn]),I0(t,e),w0(t,e),e[U].type===1&&e[ae].destroy();let r=e[ga];if(r!==null&&Et(e[ve])){r!==e[ve]&&Wv(r,e);let i=e[Sr];i!==null&&i.detachView(t)}$D(e)}finally{G(n)}}function w0(t,e){let n=t.cleanup,r=e[Ci];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Ci]=null);let i=e[rn];if(i!==null){e[rn]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function I0(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Ai)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];vt(4,a,c);try{c.call(a)}finally{vt(5,a,c)}}else{vt(4,i,o);try{o.call(i)}finally{vt(5,i,o)}}}}}function E0(t,e,n){return C0(t,e.parent,n)}function C0(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Ve];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===_t.None||o===_t.Emulated)return null}return Xe(r,n)}}function Xs(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Gv(t,e,n){t.appendChild(e,n)}function Yg(t,e,n,r,i){r!==null?Xs(t,e,n,r,i):Gv(t,e,n)}function b0(t,e,n,r){t.removeChild(e,n,r)}function ld(t,e){return t.parentNode(e)}function D0(t,e){return t.nextSibling(e)}function T0(t,e,n){return A0(t,e,n)}function S0(t,e,n){return t.type&40?Xe(t,n):null}var A0=S0,Qg;function ud(t,e,n,r){let i=E0(t,r,e),o=e[ae],s=r.parent||e[dt],a=T0(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Yg(o,i,n[c],a,!1);else Yg(o,i,n,a,!1);Qg!==void 0&&Qg(o,r,e,n,i)}function Us(t,e){if(e!==null){let n=e.type;if(n&3)return Xe(e,t);if(n&4)return fu(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Us(t,r);{let i=t[e.index];return Et(i)?fu(-1,i):ut(i)}}else{if(n&32)return sd(e,t)()||ut(t[e.index]);{let r=qv(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Si(t[Ze]);return Us(i,r)}else return Us(t,e.next)}}}return null}function qv(t,e){if(e!==null){let r=t[Ze][dt],i=e.projection;return r.projection[i]}return null}function fu(t,e){let n=je+t+1;if(n<e.length){let r=e[n],i=r[U].firstChild;if(i!==null)return Us(r,i)}return e[jt]}function dd(t,e,n){let r=ld(t,e);r&&b0(t,r,e,n)}function Kv(t){t.textContent=""}function fd(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],c=n.type;if(s&&e===0&&(a&&Rn(ut(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)fd(t,e,n.child,r,i,o,!1),Ir(e,t,i,a,o);else if(c&32){let l=sd(n,r),u;for(;u=l();)Ir(e,t,i,u,o);Ir(e,t,i,a,o)}else c&16?M0(t,e,r,n,i,o):Ir(e,t,i,a,o);n=s?n.projectionNext:n.next}}function ba(t,e,n,r,i,o){fd(n,r,t.firstChild,e,i,o,!1)}function M0(t,e,n,r,i,o){let s=n[Ze],c=s[dt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Ir(e,t,i,u,o)}else{let l=c,u=s[ve];Qs(r)&&(l.flags|=128),fd(t,e,l,u,i,o,!0)}}function N0(t,e,n,r,i){let o=n[jt],s=ut(n);o!==s&&Ir(e,t,r,o,i);for(let a=je;a<n.length;a++){let c=n[a];ba(c[U],c,t,e,r,o)}}function R0(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Ut.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Ut.Important),t.setStyle(n,r,i,o))}}function x0(t,e,n){t.setAttribute(e,"style",n)}function Yv(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Qv(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Ql(t,e,r),i!==null&&Yv(t,e,i),o!==null&&x0(t,e,o)}var Rr={};function et(t=1){Zv(un(),le(),Nr()+t,!1)}function Zv(t,e,n,r){if(!r)if((e[M]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Fs(e,o,n)}else{let o=t.preOrderHooks;o!==null&&js(e,o,0,n)}Nn(n)}function dn(t,e=k.Default){let n=le();if(n===null)return S(t,e);let r=Ct();return wv(r,n,Ye(t),e)}function Jv(){let t="invalid";throw new Error(t)}function Xv(t,e,n,r,i,o){let s=G(null);try{let a=null;i&sn.SignalBased&&(a=e[r][Zp]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&sn.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):Gm(e,a,r,o)}finally{G(s)}}function P0(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Nn(~i);else{let o=i,s=n[++r],a=n[++r];fD(s,o);let c=e[o];a(2,c)}}}finally{Nn(-1)}}function Da(t,e,n,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[Ve]=i,d[M]=r|4|128|8|64,(l!==null||t&&t[M]&2048)&&(d[M]|=2048),Jm(d),d[ve]=d[Li]=t,d[Ft]=n,d[lt]=s||t&&t[lt],d[ae]=a||t&&t[ae],d[Tr]=c||t&&t[Tr]||null,d[dt]=o,d[ma]=UD(),d[ct]=u,d[Bm]=l,d[Ze]=e.type==2?t[Ze]:d,d}function Ta(t,e,n,r,i){let o=t.data[e];if(o===null)o=O0(t,e,n,r,i),dD()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=aD();o.injectorIndex=s===null?-1:s.injectorIndex}return $i(o,!0),o}function O0(t,e,n,r,i){let o=tv(),s=nv(),a=s?o:o&&o.parent,c=t.data[e]=V0(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function ey(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ty(t,e,n,r,i){let o=Nr(),s=r&2;try{Nn(-1),s&&e.length>$e&&Zv(t,e,$e,!1),vt(s?2:0,i),n(r,i)}finally{Nn(o),vt(s?3:1,i)}}function ny(t,e,n){if(Wm(e)){let r=G(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{G(r)}}}function ry(t,e,n){ev()&&(q0(t,e,n,Xe(n,e)),(n.flags&64)===64&&ly(t,e,n))}function iy(t,e,n=Xe){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function oy(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=hd(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function hd(t,e,n,r,i,o,s,a,c,l,u){let d=$e+r,f=d+i,h=k0(d,f),p=typeof l=="function"?l():l;return h[U]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}function k0(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Rr);return n}function L0(t,e,n,r){let o=r.get(Uv,jv)||n===_t.ShadowDom,s=t.selectRootElement(e,o);return F0(s),s}function F0(t){sy(t)}var sy=()=>null;function j0(t){Tv(t)?Kv(t):n0(t)}function U0(){sy=j0}function V0(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Vi()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Zg(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=sn.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?Jg(r,n,l,a,c):Jg(r,n,l,a)}return r}function Jg(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function $0(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],f=n?n.get(d):null,h=f?f.inputs:null,p=f?f.outputs:null;c=Zg(0,d.inputs,u,c,h),l=Zg(1,d.outputs,u,l,p);let w=c!==null&&s!==null&&!Uu(e)?nT(c,u,s):null;a.push(w)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function B0(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function H0(t,e,n,r,i,o,s,a){let c=Xe(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(pd(t,n,u,r,i),Fi(e)&&W0(n,e.index)):e.type&3?(r=B0(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function W0(t,e){let n=On(e,t);n[M]&16||(n[M]|=64)}function ay(t,e,n,r){if(ev()){let i=r===null?null:{"":-1},o=Y0(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&cy(t,e,n,s,i,a),i&&Q0(n,r,i)}n.mergedAttrs=ju(n.mergedAttrs,n.attrs)}function cy(t,e,n,r,i,o){for(let l=0;l<r.length;l++)TD(mv(n,e),t,r[l].type);J0(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=ey(t,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=ju(n.mergedAttrs,u.hostAttrs),X0(t,n,e,c,u),Z0(c,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}$0(t,n,o)}function z0(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;G0(s)!=a&&s.push(a),s.push(n,r,o)}}function G0(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function q0(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Fi(n)&&eT(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||mv(n,e),Rn(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],l=Mi(e,t,a,n);if(Rn(l,e),s!==null&&tT(e,a-i,l,c,n,s),ji(c)){let u=On(n.index,e);u[Ft]=Mi(e,t,a,n)}}}function ly(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=hD();try{Nn(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];ru(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&K0(c,l)}}finally{Nn(-1),ru(s)}}function K0(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Y0(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(Eb(e,s.selectors,!1))if(r||(r=[]),ji(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;hu(t,e,c)}else r.unshift(s),hu(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function hu(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function Q0(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new E(-301,!1);r.push(e[i],o)}}}function Z0(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ji(e)&&(n[""]=t)}}function J0(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function X0(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Dr(i.type,!0)),s=new Ai(o,ji(i),dn);t.blueprint[r]=s,n[r]=s,z0(t,e,r,ey(t,n,i.hostVars,Rr),i)}function eT(t,e,n){let r=Xe(e,t),i=oy(n),o=t[lt].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Sa(t,Da(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function tT(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];Xv(r,n,c,l,u,d)}}function nT(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function uy(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function dy(t,e){let n=t.contentQueries;if(n!==null){let r=G(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];iv(o),a.contentQueries(2,e[s],s)}}}finally{G(r)}}}function Sa(t,e){return t[bi]?t[$g][at]=e:t[bi]=e,t[$g]=e,e}function pu(t,e,n){iv(0);let r=G(null);try{e(t,n)}finally{G(r)}}function rT(t){return t[Ci]||(t[Ci]=[])}function iT(t){return t.cleanup||(t.cleanup=[])}function fy(t,e){let n=t[Tr],r=n?n.get(wt,null):null;r&&r.handleError(e)}function pd(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=e[s],u=t.data[s];Xv(u,l,r,a,c,i)}}function oT(t,e,n){let r=Qm(e,t);p0(t[ae],r,n)}function sT(t,e){let n=On(e,t),r=n[U];aT(r,n);let i=n[Ve];i!==null&&n[ct]===null&&(n[ct]=nd(i,n[Tr])),gd(r,n,n[Ft])}function aT(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function gd(t,e,n){Gu(e);try{let r=t.viewQuery;r!==null&&pu(1,r,n);let i=t.template;i!==null&&ty(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Sr]?.finishViewCreation(t),t.staticContentQueries&&dy(t,e),t.staticViewQueries&&pu(2,t.viewQuery,n);let o=t.components;o!==null&&cT(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[M]&=-5,qu()}}function cT(t,e){for(let n=0;n<e.length;n++)sT(t,e[n])}function lT(t,e,n,r){let i=G(null);try{let o=e.tView,a=t[M]&4096?4096:16,c=Da(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[ga]=l;let u=t[Sr];return u!==null&&(c[Sr]=u.createEmbeddedView(o)),gd(o,c,n),c}finally{G(i)}}function Xg(t,e){return!e||e.firstChild===null||Qs(t)}function uT(t,e,n,r=!0){let i=e[U];if(y0(i,e,t,n),r){let s=fu(n,t),a=e[ae],c=ld(a,t[jt]);c!==null&&m0(i,t[dt],a,e,c,s)}let o=e[ct];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function ea(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(ut(o)),Et(o)&&dT(o,r);let s=n.type;if(s&8)ea(t,e,n.child,r);else if(s&32){let a=sd(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=qv(e,n);if(Array.isArray(a))r.push(...a);else{let c=Si(e[Ze]);ea(c[U],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function dT(t,e){for(let n=je;n<t.length;n++){let r=t[n],i=r[U].firstChild;i!==null&&ea(r[U],r,i,e)}t[jt]!==t[Ve]&&e.push(t[jt])}var hy=[];function fT(t){return t[Mn]??hT(t)}function hT(t){let e=hy.pop()??Object.create(gT);return e.lView=t,e}function pT(t){t.lView[Mn]!==t&&(t.lView=null,hy.push(t))}var gT=te(I({},Jp),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Ti(t.lView)},consumerOnSignalRead(){this.lView[Mn]=this}}),py=100;function gy(t,e=!0,n=0){let r=t[lt],i=r.rendererFactory,o=!1;o||i.begin?.();try{mT(t,n)}catch(s){throw e&&fy(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function mT(t,e){gu(t,e);let n=0;for(;zu(t);){if(n===py)throw new E(103,!1);n++,gu(t,1)}}function vT(t,e,n,r){let i=e[M];if((i&256)===256)return;let o=!1;!o&&e[lt].inlineEffectRunner?.flush(),Gu(e);let s=null,a=null;!o&&yT(t)&&(a=fT(e),s=Xp(a));try{Jm(e),lD(t.bindingStartIndex),n!==null&&ty(t,e,n,2,r);let c=(i&3)===3;if(!o)if(c){let d=t.preOrderCheckHooks;d!==null&&Fs(e,d,null)}else{let d=t.preOrderHooks;d!==null&&js(e,d,0,null),Ll(e,0)}if(_T(e),my(e,0),t.contentQueries!==null&&dy(t,e),!o)if(c){let d=t.contentCheckHooks;d!==null&&Fs(e,d)}else{let d=t.contentHooks;d!==null&&js(e,d,1),Ll(e,1)}P0(t,e);let l=t.components;l!==null&&yy(e,l,0);let u=t.viewQuery;if(u!==null&&pu(2,u,r),!o)if(c){let d=t.viewCheckHooks;d!==null&&Fs(e,d)}else{let d=t.viewHooks;d!==null&&js(e,d,2),Ll(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[kl]){for(let d of e[kl])d();e[kl]=null}o||(e[M]&=-73)}catch(c){throw Ti(e),c}finally{a!==null&&(eg(a,s),pT(a)),qu()}}function yT(t){return t.type!==2}function my(t,e){for(let n=Av(t);n!==null;n=Mv(n))for(let r=je;r<n.length;r++){let i=n[r];vy(i,e)}}function _T(t){for(let e=Av(t);e!==null;e=Mv(e)){if(!(e[M]&Bu.HasTransplantedViews))continue;let n=e[Gs];for(let r=0;r<n.length;r++){let i=n[r],o=i[ve];Xb(i)}}}function wT(t,e,n){let r=On(e,t);vy(r,n)}function vy(t,e){Wu(t)&&gu(t,e)}function gu(t,e){let r=t[U],i=t[M],o=t[Mn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&dl(o)),o&&(o.dirty=!1),t[M]&=-9217,s)vT(r,t,r.template,t[Ft]);else if(i&8192){my(t,1);let a=r.components;a!==null&&yy(t,a,1)}}function yy(t,e,n){for(let r=0;r<e.length;r++)wT(t,e[r],n)}function md(t){for(t[lt].changeDetectionScheduler?.notify();t;){t[M]|=64;let e=Si(t);if(zm(t)&&!e)return t;t=e}return null}var xn=class{get rootNodes(){let e=this._lView,n=e[U];return ea(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ft]}set context(e){this._lView[Ft]=e}get destroyed(){return(this._lView[M]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ve];if(Et(e)){let n=e[zs],r=n?n.indexOf(this):-1;r>-1&&(du(e,r),Hs(n,r))}this._attachedToViewContainer=!1}zv(this._lView[U],this._lView)}onDestroy(e){Xm(this._lView,e)}markForCheck(){md(this._cdRefInjectingView||this._lView)}detach(){this._lView[M]&=-129}reattach(){nu(this._lView),this._lView[M]|=128}detectChanges(){this._lView[M]|=1024,gy(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new E(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Hv(this._lView[U],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new E(902,!1);this._appRef=e,nu(this._lView)}},vd=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=CT;let t=e;return t})(),IT=vd,ET=class extends IT{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=lT(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new xn(i)}};function CT(){return bT(Ct(),le())}function bT(t,e){return t.type&4?new ET(e,t,va(t,e)):null}function _y(t){let e=t[Di]??[],r=t[ve][ae];for(let i of e)DT(i,r);t[Di]=Qe}function DT(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[Zs];for(;n<i;){let o=r.nextSibling;dd(e,r,!1),r=o,n++}}}function wy(t){_y(t);for(let e=je;e<t.length;e++)ta(t[e])}function TT(t){let e=t[ct]?.i18nNodes;if(e){let n=t[ae];for(let r of e.values())dd(n,r,!1);t[ct].i18nNodes=void 0}}function ta(t){TT(t);let e=t[U];for(let n=$e;n<e.bindingStartIndex;n++)if(Et(t[n])){let r=t[n];wy(r)}else on(t[n])&&ta(t[n])}function ST(t){let e=t._views;for(let n of e){let r=e0(n);if(r!==null&&r[Ve]!==null)if(on(r))ta(r);else{let i=r[Ve];ta(i),wy(r)}}}var AT=new RegExp(`^(\\d+)*(${Pv}|${xv})*(.*)`);function MT(t){let e=t.match(AT),[n,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(let[c,l,u]of o.matchAll(/(f|n)(\d*)/g)){let d=parseInt(u,10)||1;a.push(l,d)}return[s,...a]}function NT(t){return!t.prev&&t.parent?.type===8}function Bl(t){return t.index-$e}function RT(t,e){let n=t.i18nNodes;if(n){let r=n.get(e);return r&&n.delete(e),r}return null}function Aa(t,e,n,r){let i=Bl(r),o=RT(t,i);if(!o){let s=t.data[KD];if(s?.[i])o=PT(s[i],n);else if(e.firstChild===r)o=t.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if(NT(r)){let l=Bl(r.parent);o=uu(t,l)}else{let l=Xe(c,n);if(a)o=l.firstChild;else{let u=Bl(c),d=uu(t,u);if(c.type===2&&d){let h=rd(t,u)+1;o=Ma(h,d)}else o=l.nextSibling}}}}return o}function Ma(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function xT(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case lu.FirstChild:n=n.firstChild;break;case lu.NextSibling:n=n.nextSibling;break}}return n}function PT(t,e){let[n,...r]=MT(t),i;if(n===xv)i=e[Ze][Ve];else if(n===Pv)i=f0(e[Ze][Ve]);else{let o=Number(n);i=ut(e[o+$e])}return xT(i,r)}function OT(t,e){let n=[];for(let r of e)for(let i=0;i<(r[Ov]??1);i++){let o={data:r,firstChild:null};r[Zs]>0&&(o.firstChild=t,t=Ma(r[Zs],t)),n.push(o)}return[t,n]}var Iy=()=>null;function kT(t,e){let n=t[Di];return!e||n===null||n.length===0?null:n[0].data[qD]===e?n.shift():(_y(t),null)}function LT(){Iy=kT}function em(t,e){return Iy(t,e)}var na=class{},mu=class{},ra=class{};function FT(t){let e=Error(`No component factory found for ${Me(t)}.`);return e[jT]=t,e}var jT="ngComponent";var vu=class{resolveComponentFactory(e){throw FT(e)}},Na=(()=>{let e=class e{};e.NULL=new vu;let t=e;return t})(),Ni=class{};var UT=(()=>{let e=class e{};e.\u0275prov=b({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),Hl={};var tm=new Set;function xr(t){tm.has(t)||(tm.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function nm(...t){}function VT(){let t=typeof Fe.requestAnimationFrame=="function",e=Fe[t?"requestAnimationFrame":"setTimeout"],n=Fe[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var W=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ce(!1),this.onMicrotaskEmpty=new Ce(!1),this.onStable=new Ce(!1),this.onError=new Ce(!1),typeof Zone>"u")throw new E(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=VT().nativeRequestAnimationFrame,HT(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new E(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new E(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,$T,nm,nm);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},$T={};function yd(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function BT(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Fe,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,yu(t),t.isCheckStableRunning=!0,yd(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),yu(t))}function HT(t){let e=()=>{BT(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(WT(a))return n.invokeTask(i,o,s,a);try{return rm(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),im(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return rm(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),im(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,yu(t),yd(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function yu(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function rm(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function im(t){t._nesting--,yd(t)}var _u=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ce,this.onMicrotaskEmpty=new Ce,this.onStable=new Ce,this.onError=new Ce}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function WT(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function zT(t="zone.js",e){return t==="noop"?new _u:t==="zone.js"?new W(e):t}var Er=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Er||{}),GT={destroy(){}};function _d(t,e){!e&&Bb(_d);let n=e?.injector??g(be);if(!vi(n))return GT;xr("NgAfterNextRender");let r=n.get(wd),i=r.handler??=new Iu,o=e?.phase??Er.MixedReadWrite,s=()=>{i.unregister(c),a()},a=n.get(Ju).onDestroy(s),c=It(n,()=>new wu(o,()=>{s(),t()}));return i.register(c),{destroy:s}}var wu=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=g(W),this.errorHandler=g(wt,{optional:!0}),g(na,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Iu=class{constructor(){this.executingCallbacks=!1,this.buckets={[Er.EarlyRead]:new Set,[Er.Write]:new Set,[Er.MixedReadWrite]:new Set,[Er.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},wd=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=b({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Eu(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Rg(i,a);else if(o==2){let c=a,l=e[++s];r=Rg(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var ia=class extends Na{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=an(e);return new Ar(n,this.ngModule)}};function om(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function qT(t){let e=t.toLowerCase();return e==="svg"?Kb:e==="math"?Yb:null}var Cu=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=ha(r);let i=this.injector.get(e,Hl,r);return i!==Hl||n===Hl?i:this.parentInjector.get(e,n,r)}},Ar=class extends ra{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=om(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return om(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Tb(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=G(null);try{i=i||this.ngModule;let s=i instanceof Ue?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Cu(e,s):e,c=a.get(Ni,null);if(c===null)throw new E(407,!1);let l=a.get(UT,null),u=a.get(wd,null),d=a.get(na,null),f={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},h=c.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",w=r?L0(h,r,this.componentDef.encapsulation,a):Ca(h,p,qT(p)),R=512;this.componentDef.signals?R|=4096:this.componentDef.onPush||(R|=16);let O=null;w!==null&&(O=nd(w,a,!0));let ie=hd(0,null,null,1,0,null,null,null,null,null,null),ee=Da(null,ie,null,R,null,null,f,h,a,null,O);Gu(ee);let Se,Pt;try{let Ie=this.componentDef,Ot,fi=null;Ie.findHostDirectiveDefs?(Ot=[],fi=new Map,Ie.findHostDirectiveDefs(Ie,Ot,fi),Ot.push(Ie)):Ot=[Ie];let hi=KT(ee,w),ll=YT(hi,w,Ie,Ot,ee,f,h);Pt=Zm(ie,$e),w&&JT(h,Ie,w,r),n!==void 0&&XT(Pt,this.ngContentSelectors,n),Se=ZT(ll,Ie,Ot,fi,ee,[eS]),gd(ie,ee,null)}finally{qu()}return new bu(this.componentType,Se,va(Pt,ee),ee,Pt)}finally{G(o)}}},bu=class extends mu{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new xn(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;pd(o[U],o,i,e,n),this.previousInputValues.set(e,n);let s=On(this._tNode.index,o);md(s)}}get injector(){return new Sn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function KT(t,e){let n=t[U],r=$e;return t[r]=e,Ta(n,r,2,"#host",null)}function YT(t,e,n,r,i,o,s){let a=i[U];QT(r,t,e,s);let c=null;e!==null&&(c=nd(e,i[Tr]));let l=o.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=Da(i,oy(n),null,u,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&hu(a,t,r.length-1),Sa(i,d),i[t.index]=d}function QT(t,e,n,r){for(let i of t)e.mergedAttrs=ju(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Eu(e,e.mergedAttrs,!0),n!==null&&Qv(r,n,e))}function ZT(t,e,n,r,i,o){let s=Ct(),a=i[U],c=Xe(s,i);cy(a,i,s,n,null,r);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,f=Mi(i,a,d,s);Rn(f,i)}ly(a,i,s),c&&Rn(c,i);let l=Mi(i,a,s.directiveStart+s.componentOffset,s);if(t[Ft]=i[Ft]=l,o!==null)for(let u of o)u(l,e);return ny(a,s,i),l}function JT(t,e,n,r){if(r)Ql(t,n,["ng-version","17.3.6"]);else{let{attrs:i,classes:o}=Sb(e.selectors[0]);i&&Ql(t,n,i),o&&o.length>0&&Yv(t,n,o.join(" "))}}function XT(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function eS(){let t=Ct();Yu(le()[U],t)}var Hi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=tS;let t=e;return t})();function tS(){let t=Ct();return rS(t,le())}var nS=Hi,Ey=class extends nS{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return va(this._hostTNode,this._hostLView)}get injector(){return new Sn(this._hostTNode,this._hostLView)}get parentInjector(){let e=Qu(this._hostTNode,this._hostLView);if(hv(e)){let n=Ys(e,this._hostLView),r=Ks(e),i=n[U].data[r+8];return new Sn(i,n)}else return new Sn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=sm(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-je}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=em(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,Xg(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!Wb(e),a;if(s)a=n;else{let p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let c=s?e:new Ar(an(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let w=(s?l:this.parentInjector).get(Ue,null);w&&(o=w)}let u=an(c.componentType??{}),d=em(this._lContainer,u?.id??null),f=d?.firstChild??null,h=c.create(l,i,f,o);return this.insertImpl(h.hostView,a,Xg(this._hostTNode,d)),h}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(Jb(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[ve],l=new Ey(c,c[dt],c[ve]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return uT(s,i,o,r),e.attachToViewContainerRef(),Sm(Wl(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=sm(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=du(this._lContainer,n);r&&(Hs(Wl(this._lContainer),n),zv(r[U],r))}detach(e){let n=this._adjustIndex(e,-1),r=du(this._lContainer,n);return r&&Hs(Wl(this._lContainer),n)!=null?new xn(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function sm(t){return t[zs]}function Wl(t){return t[zs]||(t[zs]=[])}function rS(t,e){let n,r=e[t.index];return Et(r)?n=r:(n=uy(r,e,null,t),e[t.index]=n,Sa(e,n)),Cy(n,e,t,r),new Ey(n,t,e)}function iS(t,e){let n=t[ae],r=n.createComment(""),i=Xe(e,t),o=ld(n,i);return Xs(n,o,r,D0(n,i),!1),r}var Cy=by,Id=()=>!1;function oS(t,e,n){return Id(t,e,n)}function by(t,e,n,r){if(t[jt])return;let i;n.type&8?i=ut(r):i=iS(e,n),t[jt]=i}function sS(t,e,n){if(t[jt]&&t[Di])return!0;let r=n[ct],i=e.index-$e;if(!r||FD(e)||Ia(r,i))return!1;let s=uu(r,i),a=r.data[td]?.[i],[c,l]=OT(s,a);return t[jt]=c,t[Di]=l,!0}function aS(t,e,n,r){Id(t,n,e)||by(t,e,n,r)}function cS(){Cy=aS,Id=sS}function lS(t){let e=[],n=new Map;function r(i){let o=n.get(i);if(!o){let s=t(i);n.set(i,o=s.then(hS))}return o}return oa.forEach((i,o)=>{let s=[];i.templateUrl&&s.push(r(i.templateUrl).then(l=>{i.template=l}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let l=i.styles.length,u=i.styleUrls;i.styleUrls.forEach((d,f)=>{a.push(""),s.push(r(d).then(h=>{a[l+f]=h,u.splice(u.indexOf(d),1),u.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&s.push(r(i.styleUrl).then(l=>{a.push(l),i.styleUrl=void 0}));let c=Promise.all(s).then(()=>pS(o));e.push(c)}),dS(),Promise.all(e).then(()=>{})}var oa=new Map,uS=new Set;function dS(){let t=oa;return oa=new Map,t}function fS(){return oa.size===0}function hS(t){return typeof t=="string"?t:t.text()}function pS(t){uS.delete(t)}var cn=class{},Ri=class{};var sa=class extends cn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ia(this);let i=km(e);this._bootstrapComponents=Bv(i.bootstrap),this._r3Injector=Cv(e,n,[{provide:cn,useValue:this},{provide:Na,useValue:this.componentFactoryResolver},...r],Me(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},aa=class extends Ri{constructor(e){super(),this.moduleType=e}create(e){return new sa(this.moduleType,e,[])}};function gS(t,e,n){return new sa(t,e,n)}var Du=class extends cn{constructor(e){super(),this.componentFactoryResolver=new ia(this),this.instance=null;let n=new Ei([...e.providers,{provide:cn,useValue:this},{provide:Na,useValue:this.componentFactoryResolver}],e.parent||$u(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ra(t,e,n=null){return new Du({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var Wi=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new me(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Dy(t){return vS(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function mS(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function vS(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Ed(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function zi(t){return(t.flags&32)===32}function yS(t,e,n,r,i,o,s,a,c){let l=e.consts,u=Ta(e,t,4,s||null,qs(l,a));ay(e,n,u,qs(l,c)),Yu(e,u);let d=u.tView=hd(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function xa(t,e,n,r,i,o,s,a){let c=le(),l=un(),u=t+$e,d=l.firstCreatePass?yS(u,l,c,e,n,r,i,o,s):l.data[u];$i(d,!1);let f=Ty(l,c,d,t);Ku()&&ud(l,c,f,d),Rn(f,c);let h=uy(f,c,f,d);return c[u]=h,Sa(c,h),oS(h,d,c),Hu(d)&&ry(l,c,d),s!=null&&iy(c,d,a),xa}var Ty=Sy;function Sy(t,e,n,r){return bt(!0),e[ae].createComment("")}function _S(t,e,n,r){let i=e[ct],o=!i||Vi()||zi(n)||Ia(i,r);if(bt(o),o)return Sy(t,e,n,r);let s=i.data[GD]?.[r]??null;s!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=s);let a=Aa(i,t,e,n);wa(i,r,a);let c=rd(i,r);return Ma(c,a)}function wS(){Ty=_S}function IS(t,e,n,r){return Ed(t,rv(),n)?e+Ou(n)+r:Rr}function Ps(t,e){return t<<17|e<<2}function Pn(t){return t>>17&32767}function ES(t){return(t&2)==2}function CS(t,e){return t&131071|e<<17}function Tu(t){return t|2}function Mr(t){return(t&131068)>>2}function zl(t,e){return t&-131069|e<<2}function bS(t){return(t&1)===1}function Su(t){return t|1}function DS(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Pn(s),c=Mr(s);t[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Oi(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let f=Pn(t[a+1]);t[r+1]=Ps(f,a),f!==0&&(t[f+1]=zl(t[f+1],r)),t[a+1]=CS(t[a+1],r)}else t[r+1]=Ps(a,0),a!==0&&(t[a+1]=zl(t[a+1],r)),a=r;else t[r+1]=Ps(c,0),a===0?a=r:t[c+1]=zl(t[c+1],r),c=r;l&&(t[r+1]=Tu(t[r+1])),am(t,u,r,!0),am(t,u,r,!1),TS(e,u,t,r,o),s=Ps(a,c),o?e.classBindings=s:e.styleBindings=s}function TS(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Oi(o,e)>=0&&(n[r+1]=Su(n[r+1]))}function am(t,e,n,r){let i=t[n+1],o=e===null,s=r?Pn(i):Mr(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];SS(c,e)&&(a=!0,t[s+1]=r?Su(l):Tu(l)),s=r?Pn(l):Mr(l)}a&&(t[n+1]=r?Tu(i):Su(i))}function SS(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Oi(t,e)>=0:!1}function $t(t,e,n){let r=le(),i=rv();if(Ed(r,i,e)){let o=un(),s=mD();H0(o,s,r,t,e,r[ae],n,!1)}return $t}function cm(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";pd(t,n,o[s],s,r)}function Cd(t,e){return AS(t,e,null,!0),Cd}function AS(t,e,n,r){let i=le(),o=un(),s=uD(2);if(o.firstUpdatePass&&NS(o,t,s,r),e!==Rr&&Ed(i,s,e)){let a=o.data[Nr()];kS(o,a,i,i[ae],t,i[s+1]=LS(e,n),r,s)}}function MS(t,e){return e>=t.expandoStartIndex}function NS(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Nr()],s=MS(t,n);FS(o,r)&&e===null&&!s&&(e=!1),e=RS(i,o,e,r),DS(i,o,e,n,s,r)}}function RS(t,e,n,r){let i=pD(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Gl(null,t,e,n,r),n=xi(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Gl(i,t,e,n,r),o===null){let c=xS(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Gl(null,t,e,c[1],r),c=xi(c,e.attrs,r),PS(t,e,r,c))}else o=OS(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function xS(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Mr(r)!==0)return t[Pn(r)]}function PS(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Pn(i)]=r}function OS(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=xi(r,s,n)}return xi(r,e.attrs,n)}function Gl(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=xi(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function xi(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),hb(t,s,n?!0:e[++o]))}return t===void 0?null:t}function kS(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=bS(l)?lm(c,e,n,i,Mr(l),s):void 0;if(!ca(u)){ca(o)||ES(l)&&(o=lm(c,null,n,i,a,s));let d=Qm(Nr(),n);R0(r,s,d,i,o)}}function lm(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,f=n[i+1];f===Rr&&(f=d?Qe:void 0);let h=d?Pl(f,r):u===r?f:void 0;if(l&&!ca(h)&&(h=Pl(c,r)),ca(h)&&(a=h,s))return a;let p=t[i+1];i=s?Pn(p):Mr(p)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Pl(c,r))}return a}function ca(t){return t!==void 0}function LS(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Me(Ea(t)))),t}function FS(t,e){return(t.flags&(e?8:16))!==0}function jS(t,e,n,r,i,o){let s=e.consts,a=qs(s,i),c=Ta(e,t,2,r,a);return ay(e,n,c,qs(s,o)),c.attrs!==null&&Eu(c,c.attrs,!1),c.mergedAttrs!==null&&Eu(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function v(t,e,n,r){let i=le(),o=un(),s=$e+t,a=i[ae],c=o.firstCreatePass?jS(s,o,i,e,n,r):o.data[s],l=Ay(o,i,c,a,e,t);i[s]=l;let u=Hu(c);return $i(c,!0),Qv(a,l,c),!zi(c)&&Ku()&&ud(o,i,l,c),tD()===0&&Rn(l,i),nD(),u&&(ry(o,i,c),ny(o,c,i)),r!==null&&iy(i,c),v}function y(){let t=Ct();nv()?cD():(t=t.parent,$i(t,!1));let e=t;iD(e)&&sD(),rD();let n=un();return n.firstCreatePass&&(Yu(n,t),Wm(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&wD(e)&&cm(n,e,le(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&ID(e)&&cm(n,e,le(),e.stylesWithoutHost,!1),y}function T(t,e,n,r){return v(t,e,n,r),y(),T}var Ay=(t,e,n,r,i,o)=>(bt(!0),Ca(r,i,uv()));function US(t,e,n,r,i,o){let s=e[ct],a=!s||Vi()||zi(n)||Ia(s,o);if(bt(a),a)return Ca(r,i,uv());let c=Aa(s,t,e,n);return Fv(s,o)&&wa(s,o,c.nextSibling),s&&(Dv(n)||Tv(c))&&Fi(n)&&(oD(n),Kv(c)),c}function VS(){Ay=US}var $S=(t,e,n,r)=>(bt(!0),cd(e[ae],""));function BS(t,e,n,r){let i,o=e[ct],s=!o||Vi()||zi(n);if(bt(s),s)return cd(e[ae],"");let a=Aa(o,t,e,n),c=r0(o,r);return wa(o,r,a),i=Ma(c,a),i}function HS(){$S=BS}var la="en-US";var WS=la;function zS(t){typeof t=="string"&&(WS=t.toLowerCase().replace(/_/g,"-"))}function My(t,e,n){let r=t[ae];switch(n){case Node.COMMENT_NODE:return cd(r,e);case Node.TEXT_NODE:return ad(r,e);case Node.ELEMENT_NODE:return Ca(r,e,null)}}var GS=(t,e,n,r)=>(bt(!0),My(t,n,r));function qS(t,e,n,r){return bt(!0),My(t,n,r)}function KS(){GS=qS}function ft(t,e,n,r){let i=le(),o=un(),s=Ct();return QS(o,i,i[ae],s,t,e,r),ft}function YS(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Ci],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function QS(t,e,n,r,i,o,s){let a=Hu(r),l=t.firstCreatePass&&iT(t),u=e[Ft],d=rT(e),f=!0;if(r.type&3||s){let w=Xe(r,e),R=s?s(w):w,O=d.length,ie=s?Se=>s(ut(Se[r.index])):r.index,ee=null;if(!s&&a&&(ee=YS(t,e,i,r.index)),ee!==null){let Se=ee.__ngLastListenerFn__||ee;Se.__ngNextListenerFn__=o,ee.__ngLastListenerFn__=o,f=!1}else{o=dm(r,e,u,o,!1);let Se=n.listen(R,i,o);d.push(o,Se),l&&l.push(i,ie,O,O+1)}}else o=dm(r,e,u,o,!1);let h=r.outputs,p;if(f&&h!==null&&(p=h[i])){let w=p.length;if(w)for(let R=0;R<w;R+=2){let O=p[R],ie=p[R+1],Pt=e[O][ie].subscribe(o),Ie=d.length;d.push(o,Pt),l&&l.push(i,r.index,Ie,-(Ie+1))}}}function um(t,e,n,r){let i=G(null);try{return vt(6,e,n),n(r)!==!1}catch(o){return fy(t,o),!1}finally{vt(7,e,n),G(i)}}function dm(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?On(t.index,e):e;md(a);let c=um(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)c=um(e,n,l,s)&&c,l=l.__ngNextListenerFn__;return i&&c===!1&&s.preventDefault(),c}}function C(t,e=""){let n=le(),r=un(),i=t+$e,o=r.firstCreatePass?Ta(r,i,1,e,null):r.data[i],s=Ny(r,n,o,e,t);n[i]=s,Ku()&&ud(r,n,s,o),$i(o,!1)}var Ny=(t,e,n,r,i)=>(bt(!0),ad(e[ae],r));function ZS(t,e,n,r,i){let o=e[ct],s=!o||Vi()||zi(n)||Ia(o,i);return bt(s),s?ad(e[ae],r):Aa(o,t,e,n)}function JS(){Ny=ZS}function Pa(t){return Ry("",t,""),Pa}function Ry(t,e,n){let r=le(),i=IS(r,t,e,n);return i!==Rr&&oT(r,Nr(),i),Ry}var XS=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=jm(!1,r.type),o=i.length>0?Ra([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=b({token:e,providedIn:"environment",factory:()=>new e(S(Ue))});let t=e;return t})();function xy(t){xr("NgStandalone"),t.getStandaloneInjector=e=>e.get(XS).getOrCreateStandaloneInjector(t)}var Os=null;function eA(t){Os!==null&&(t.defaultEncapsulation!==Os.defaultEncapsulation||t.preserveWhitespaces!==Os.preserveWhitespaces)||(Os=t)}var ln=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Py=new ln("17.3.6"),Oa=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var bd=new D(""),Gi=new D(""),ka=(()=>{let e=class e{constructor(r,i,o){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Dd||(tA(o),o.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{W.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(r)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,o){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),r()},i)),this._callbacks.push({doneCb:r,timeoutId:s,updateCb:o})}whenStable(r,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,o){return[]}};e.\u0275fac=function(i){return new(i||e)(S(W),S(La),S(Gi))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),La=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return Dd?.findTestabilityInTree(this,r,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function tA(t){Dd=t}var Dd;function qi(t){return!!t&&typeof t.then=="function"}function Oy(t){return!!t&&typeof t.subscribe=="function"}var Fa=new D(""),ky=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=g(Fa,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(qi(s))r.push(s);else if(Oy(s)){let a=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Pr=new D("");function nA(){ng(()=>{throw new E(600,!1)})}function rA(t){return t.isBoundToModule}function iA(t,e,n){try{let r=n();return qi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}function Ly(t,e){return Array.isArray(e)?e.reduce(Ly,t):I(I({},t),e)}var Bt=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=g(bv),this.afterRenderEffectManager=g(wd),this.externalTestViews=new Set,this.beforeRender=new Ee,this.afterTick=new Ee,this.componentTypes=[],this.components=[],this.isStable=g(Wi).hasPendingTasks.pipe(V(r=>!r)),this._injector=g(Ue)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof ra;if(!this._injector.get(ky).done){let h=!o&&Om(r),p=!1;throw new E(405,p)}let a;o?a=r:a=this._injector.get(Na).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=rA(a)?void 0:this._injector.get(cn),l=i||a.selector,u=a.create(be.NULL,[],l,c),d=u.location.nativeElement,f=u.injector.get(bd,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Vs(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new E(101,!1);let i=G(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,G(i)}}detectChangesInAttachedViews(r){let i=0,o=this.afterRenderEffectManager;for(;;){if(i===py)throw new E(103,!1);if(r){let s=i===0;this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:c}of this._views)oA(a,s,c)}if(i++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Au(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Au(s))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Vs(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Pr,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Vs(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new E(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Vs(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var ks;function Td(t){ks??=new WeakMap;let e=ks.get(t);if(e)return e;let n=t.isStable.pipe(ot(r=>r)).toPromise().then(()=>{});return ks.set(t,n),t.onDestroy(()=>ks?.delete(t)),n}function oA(t,e,n){!e&&!Au(t)||sA(t,n,e)}function Au(t){return zu(t)}function sA(t,e,n){let r;n?(r=0,t[M]|=1024):t[M]&64?r=0:r=1,gy(t,e,r)}var Mu=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},ja=(()=>{let e=class e{compileModuleSync(r){return new aa(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=km(r),s=Bv(o.declarations).reduce((a,c)=>{let l=an(c);return l&&a.push(new Ar(l)),a},[]);return new Mu(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),aA=new D("");function cA(t,e,n){let r=new aa(n);return Promise.resolve(r)}function fm(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var lA=(()=>{let e=class e{constructor(){this.zone=g(W),this.applicationRef=g(Bt)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function uA(t){return[{provide:W,useFactory:t},{provide:An,multi:!0,useFactory:()=>{let e=g(lA,{optional:!0});return()=>e.initialize()}},{provide:An,multi:!0,useFactory:()=>{let e=g(hA);return()=>{e.initialize()}}},{provide:bv,useFactory:dA}]}function dA(){let t=g(W),e=g(wt);return n=>t.runOutsideAngular(()=>e.handleError(n))}function fA(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var hA=(()=>{let e=class e{constructor(){this.subscription=new oe,this.initialized=!1,this.zone=g(W),this.pendingTasks=g(Wi)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{W.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{W.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function pA(){return typeof $localize<"u"&&$localize.locale||la}var Sd=new D("",{providedIn:"root",factory:()=>g(Sd,k.Optional|k.SkipSelf)||pA()});var Fy=new D(""),jy=(()=>{let e=class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){let o=zT(i?.ngZone,fA({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return o.run(()=>{let s=gS(r.moduleType,this.injector,uA(()=>o)),a=s.injector.get(wt,null);return o.runOutsideAngular(()=>{let c=o.onError.subscribe({next:l=>{a.handleError(l)}});s.onDestroy(()=>{Vs(this._modules,s),c.unsubscribe()})}),iA(a,o,()=>{let c=s.injector.get(ky);return c.runInitializers(),c.donePromise.then(()=>{let l=s.injector.get(Sd,la);return zS(l||la),this._moduleDoBootstrap(s),s})})})}bootstrapModule(r,i=[]){let o=Ly({},i);return cA(this.injector,o,r).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(r){let i=r.injector.get(Bt);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(o=>i.bootstrap(o));else if(r.instance.ngDoBootstrap)r.instance.ngDoBootstrap(i);else throw new E(-403,!1);this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new E(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let r=this._injector.get(Fy,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(i){return new(i||e)(S(be))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),_i=null,Uy=new D("");function gA(t){if(_i&&!_i.get(Uy,!1))throw new E(400,!1);nA(),_i=t;let e=t.get(jy);return yA(t),e}function Ad(t,e,n=[]){let r=`Platform: ${e}`,i=new D(r);return(o=[])=>{let s=Vy();if(!s||s.injector.get(Uy,!1)){let a=[...n,...o,{provide:i,useValue:!0}];t?t(a):gA(mA(a,r))}return vA(i)}}function mA(t=[],e){return be.create({name:e,providers:[{provide:pa,useValue:"platform"},{provide:Fy,useValue:new Set([()=>_i=null])},...t]})}function vA(t){let e=Vy();if(!e)throw new E(401,!1);return e}function Vy(){return _i?.get(jy)??null}function yA(t){t.get(Xu,null)?.forEach(n=>n())}var Ki=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=_A;let t=e;return t})();function _A(t){return wA(Ct(),le(),(t&16)===16)}function wA(t,e,n){if(Fi(t)&&!n){let r=On(t.index,e);return new xn(r,r)}else if(t.type&47){let r=e[Ze];return new xn(r,e)}return null}var Nu=class{constructor(){}supports(e){return Dy(e)}create(e){return new Ru(e)}},IA=(t,e)=>e,Ru=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||IA}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<hm(r,i,o)?n:r,a=hm(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let f=0;f<l;f++){let h=f<o.length?o[f]:o[f]=0,p=h+f;u<=p&&p<l&&(o[f]=h+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Dy(e))throw new E(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,mS(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new xu(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new ua),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ua),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},xu=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Pu=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},ua=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Pu,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function hm(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function pm(){return new Md([new Nu])}var Md=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||pm()),deps:[[e,new Lu,new Je]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new E(901,!1)}};e.\u0275prov=b({token:e,providedIn:"root",factory:pm});let t=e;return t})();var $y=Ad(null,"core",[]),By=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(i){return new(i||e)(S(Bt))},e.\u0275mod=He({type:e}),e.\u0275inj=Be({});let t=e;return t})();var gm=!1,EA=!1;function CA(){gm||(gm=!0,XD(),VS(),JS(),HS(),wS(),cS(),LT(),U0(),KS())}function bA(t,e){return Td(t)}function Hy(){return Vt([{provide:xs,useFactory:()=>{let t=!0;return vi()&&(t=!!g(kn,{optional:!0})?.get(kv,null)),t&&xr("NgHydration"),t}},{provide:An,useValue:()=>{EA=!!g(i0,{optional:!0}),vi()&&g(xs)&&(DA(),CA())},multi:!0},{provide:Uv,useFactory:()=>vi()&&g(xs)},{provide:Pr,useFactory:()=>{if(vi()&&g(xs)){let t=g(Bt),e=g(be);return()=>{bA(t,e).then(()=>{ST(t)})}}return()=>{}},multi:!0}])}function DA(){let t=_a(),e;for(let n of t.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===ZD){e=n;break}if(!e)throw new E(-507,!1)}function Wy(t){let e=an(t);if(!e)return null;let n=new Ar(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Yy=null;function Ln(){return Yy}function Qy(t){Yy??=t}var Ua=class{};var Te=new D(""),Pd=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>g(MA),providedIn:"platform"});let t=e;return t})(),Zy=new D(""),MA=(()=>{let e=class e extends Pd{constructor(){super(),this._doc=g(Te),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ln().getBaseHref(this._doc)}onPopState(r){let i=Ln().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Ln().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Od(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function zy(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Ht(t){return t&&t[0]!=="?"?"?"+t:t}var Fn=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>g(kd),providedIn:"root"});let t=e;return t})(),Jy=new D(""),kd=(()=>{let e=class e extends Fn{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??g(Te).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Od(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Ht(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Ht(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Ht(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(S(Pd),S(Jy,8))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Xy=(()=>{let e=class e extends Fn{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=Od(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Ht(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Ht(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(S(Pd),S(Jy,8))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),Or=(()=>{let e=class e{constructor(r){this._subject=new Ce,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=xA(zy(Gy(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Ht(i))}normalize(r){return e.stripTrailingSlash(RA(this._basePath,Gy(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ht(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ht(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=Ht,e.joinWithSlash=Od,e.stripTrailingSlash=zy,e.\u0275fac=function(i){return new(i||e)(S(Fn))},e.\u0275prov=b({token:e,factory:()=>NA(),providedIn:"root"});let t=e;return t})();function NA(){return new Or(S(Fn))}function RA(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Gy(t){return t.replace(/\/index.html$/,"")}function xA(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Ld(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Nd=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},e_=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new Nd(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let c=i.get(s);i.move(c,a),qy(c,o)}});for(let o=0,s=i.length;o<s;o++){let c=i.get(o).context;c.index=o,c.count=s,c.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);qy(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(dn(Hi),dn(vd),dn(Md))},e.\u0275dir=ki({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function qy(t,e){t.context.$implicit=e.item}var $a=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=He({type:e}),e.\u0275inj=Be({});let t=e;return t})(),Fd="browser",PA="server";function OA(t){return t===Fd}function kr(t){return t===PA}var t_=(()=>{let e=class e{};e.\u0275prov=b({token:e,providedIn:"root",factory:()=>OA(g(We))?new Rd(g(Te),window):new xd});let t=e;return t})(),Rd=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=kA(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function kA(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var xd=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Va=class{};var Ha=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var l_=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(l_||{}),jd=class{constructor(e,n=u_.Ok,r="OK"){this.headers=e.headers||new Ha,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var Wa=class t extends jd{constructor(e={}){super(e),this.type=l_.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};var u_=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(u_||{});var jA=new D("");var n_="b",r_="h",i_="s",o_="st",s_="u",a_="rt",Ba=new D(""),UA=["GET","HEAD"];function VA(t,e){let d=g(Ba),{isCacheActive:n}=d,r=Yp(d,["isCacheActive"]),{transferCache:i,method:o}=t;if(!n||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!UA.includes(o)||i===!1||r.filter?.(t)===!1)return e(t);let s=g(kn),a=BA(t),c=s.get(a,null),l=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(l=i.includeHeaders),c){let{[n_]:f,[a_]:h,[r_]:p,[i_]:w,[o_]:R,[s_]:O}=c,ie=f;switch(h){case"arraybuffer":ie=new TextEncoder().encode(f).buffer;break;case"blob":ie=new Blob([f]);break}let ee=new Ha(p);return A(new Wa({body:ie,headers:ee,status:w,statusText:R,url:O}))}let u=kr(g(We));return e(t).pipe(se(f=>{f instanceof Wa&&u&&s.set(a,{[n_]:f.body,[r_]:$A(f.headers,l),[i_]:f.status,[o_]:f.statusText,[s_]:f.url||"",[a_]:t.responseType})}))}function $A(t,e){if(!e)return{};let n={};for(let r of e){let i=t.getAll(r);i!==null&&(n[r]=i)}return n}function c_(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function BA(t){let{params:e,method:n,responseType:r,url:i}=t,o=c_(e),s=t.serializeBody();s instanceof URLSearchParams?s=c_(s):typeof s!="string"&&(s="");let a=[n,r,i,s,o].join("|"),c=HA(a);return c}function HA(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function d_(t){return[{provide:Ba,useFactory:()=>(xr("NgHttpTransferCache"),I({isCacheActive:!0},t))},{provide:jA,useValue:VA,multi:!0,deps:[kn,Ba]},{provide:Pr,multi:!0,useFactory:()=>{let e=g(Bt),n=g(Ba);return()=>{Td(e).then(()=>{n.isCacheActive=!1})}}}]}var $d=class extends Ua{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Bd=class t extends $d{static makeCurrent(){Qy(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=WA();return n==null?null:zA(n)}resetBaseElement(){Yi=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ld(document.cookie,e)}},Yi=null;function WA(){return Yi=Yi||document.querySelector("base"),Yi?Yi.getAttribute("href"):null}function zA(t){return new URL(t,document.baseURI).pathname}var Hd=class{addToWindow(e){Fe.getAngularTestability=(r,i=!0)=>{let o=e.findTestabilityInTree(r,i);if(o==null)throw new E(5103,!1);return o},Fe.getAllAngularTestabilities=()=>e.getAllTestabilities(),Fe.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=Fe.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};Fe.frameworkStabilizers||(Fe.frameworkStabilizers=[]),Fe.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?Ln().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},GA=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),Wd=new D(""),g_=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new E(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(S(Wd),S(W))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),za=class{constructor(e){this._doc=e}},Ud="ng-app-id",m_=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=kr(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Ud}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(Ud),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Ud,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(S(Te),S(Bi),S(ed,8),S(We))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),Vd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},qd=/%COMP%/g,v_="%COMP%",qA=`_nghost-${v_}`,KA=`_ngcontent-${v_}`,YA=!0,QA=new D("",{providedIn:"root",factory:()=>YA});function ZA(t){return KA.replace(qd,t)}function JA(t){return qA.replace(qd,t)}function y_(t,e){return e.map(n=>n.replace(qd,t))}var f_=(()=>{let e=class e{constructor(r,i,o,s,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=kr(c),this.defaultRenderer=new Qi(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===_t.ShadowDom&&(i=te(I({},i),{encapsulation:_t.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof Ga?o.applyToHost(r):o instanceof Zi&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case _t.Emulated:s=new Ga(l,u,i,this.appId,d,a,c,f);break;case _t.ShadowDom:return new zd(l,u,r,i,a,c,this.nonce,f);default:s=new Zi(l,u,i,d,a,c,f);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(S(g_),S(m_),S(Bi),S(QA),S(Te),S(We),S(W),S(ed))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),Qi=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Vd[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(h_(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(h_(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new E(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Vd[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Vd[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Ut.DashCase|Ut.Important)?e.style.setProperty(n,r,i&Ut.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Ut.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Ln().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function h_(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var zd=class extends Qi{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=y_(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Zi=class extends Qi{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?y_(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Ga=class extends Zi{constructor(e,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=ZA(l),this.hostAttr=JA(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},XA=(()=>{let e=class e extends za{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(S(Te))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),p_=["alt","control","meta","shift"],eM={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},tM={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},nM=(()=>{let e=class e extends za{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ln().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),p_.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=eM[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),p_.forEach(a=>{if(a!==o){let c=tM[a];c(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(S(Te))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})();function rM(){Bd.makeCurrent()}function iM(){return new wt}function oM(){return Rv(document),document}var sM=[{provide:We,useValue:Fd},{provide:Xu,useValue:rM,multi:!0},{provide:Te,useFactory:oM,deps:[]}],__=Ad($y,"browser",sM),aM=new D(""),cM=[{provide:Gi,useClass:Hd,deps:[]},{provide:bd,useClass:ka,deps:[W,La,Gi]},{provide:ka,useClass:ka,deps:[W,La,Gi]}],lM=[{provide:pa,useValue:"root"},{provide:wt,useFactory:iM,deps:[]},{provide:Wd,useClass:XA,multi:!0,deps:[Te,W,We]},{provide:Wd,useClass:nM,multi:!0,deps:[Te]},f_,m_,g_,{provide:Ni,useExisting:f_},{provide:Va,useClass:GA,deps:[]},[]],w_=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:Bi,useValue:r.appId}]}}};e.\u0275fac=function(i){return new(i||e)(S(aM,12))},e.\u0275mod=He({type:e}),e.\u0275inj=Be({providers:[...lM,...cM],imports:[$a,By]});let t=e;return t})();var I_=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(S(Te))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Gd=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t}(Gd||{});function E_(...t){let e=[],n=new Set,r=n.has(Gd.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:o}of t)n.add(o),i.length&&e.push(i);return Vt([[],Hy(),n.has(Gd.NoHttpTransferCache)||r?[]:d_({}),e])}var x="primary",ho=Symbol("RouteTitle"),Jd=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Vr(t){return new Jd(t)}function uM(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function dM(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Dt(t[n],e[n]))return!1;return!0}function Dt(t,e){let n=t?Xd(t):void 0,r=e?Xd(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!x_(t[i],e[i]))return!1;return!0}function Xd(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function x_(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function P_(t){return t.length>0?t[t.length-1]:null}function gn(t){return Sl(t)?t:qi(t)?ne(Promise.resolve(t)):A(t)}var fM={exact:k_,subset:L_},O_={exact:hM,subset:pM,ignored:()=>!0};function b_(t,e,n){return fM[n.paths](t.root,e.root,n.matrixParams)&&O_[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function hM(t,e){return Dt(t,e)}function k_(t,e,n){if(!Un(t.segments,e.segments)||!Ya(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!k_(t.children[r],e.children[r],n))return!1;return!0}function pM(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>x_(t[n],e[n]))}function L_(t,e,n){return F_(t,e,e.segments,n)}function F_(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Un(i,n)||e.hasChildren()||!Ya(i,n,r))}else if(t.segments.length===n.length){if(!Un(t.segments,n)||!Ya(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!L_(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Un(t.segments,i)||!Ya(t.segments,i,r)||!t.children[x]?!1:F_(t.children[x],e,o,r)}}function Ya(t,e,n){return e.every((r,i)=>O_[n](t[i].parameters,r.parameters))}var fn=class{constructor(e=new Y([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Vr(this.queryParams),this._queryParamMap}toString(){return vM.serialize(this)}},Y=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qa(this)}},jn=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Vr(this.parameters),this._parameterMap}toString(){return U_(this)}};function gM(t,e){return Un(t,e)&&t.every((n,r)=>Dt(n.parameters,e[r].parameters))}function Un(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function mM(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===x&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==x&&(n=n.concat(e(i,r)))}),n}var po=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>new io,providedIn:"root"});let t=e;return t})(),io=class{parse(e){let n=new tf(e);return new fn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${Ji(e.root,!0)}`,r=wM(e.queryParams),i=typeof e.fragment=="string"?`#${yM(e.fragment)}`:"";return`${n}${r}${i}`}},vM=new io;function Qa(t){return t.segments.map(e=>U_(e)).join("/")}function Ji(t,e){if(!t.hasChildren())return Qa(t);if(e){let n=t.children[x]?Ji(t.children[x],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==x&&r.push(`${i}:${Ji(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=mM(t,(r,i)=>i===x?[Ji(t.children[x],!1)]:[`${i}:${Ji(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[x]!=null?`${Qa(t)}/${n[0]}`:`${Qa(t)}/(${n.join("//")})`}}function j_(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qa(t){return j_(t).replace(/%3B/gi,";")}function yM(t){return encodeURI(t)}function ef(t){return j_(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Za(t){return decodeURIComponent(t)}function D_(t){return Za(t.replace(/\+/g,"%20"))}function U_(t){return`${ef(t.path)}${_M(t.parameters)}`}function _M(t){return Object.entries(t).map(([e,n])=>`;${ef(e)}=${ef(n)}`).join("")}function wM(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${qa(n)}=${qa(i)}`).join("&"):`${qa(n)}=${qa(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var IM=/^[^\/()?;#]+/;function Kd(t){let e=t.match(IM);return e?e[0]:""}var EM=/^[^\/()?;=#]+/;function CM(t){let e=t.match(EM);return e?e[0]:""}var bM=/^[^=?&#]+/;function DM(t){let e=t.match(bM);return e?e[0]:""}var TM=/^[^&#]+/;function SM(t){let e=t.match(TM);return e?e[0]:""}var tf=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Y([],{}):new Y([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[x]=new Y(e,n)),r}parseSegment(){let e=Kd(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new E(4009,!1);return this.capture(e),new jn(Za(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=CM(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Kd(this.remaining);i&&(r=i,this.capture(r))}e[Za(n)]=Za(r)}parseQueryParam(e){let n=DM(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=SM(this.remaining);s&&(r=s,this.capture(r))}let i=D_(n),o=D_(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Kd(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new E(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=x);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[x]:new Y([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new E(4011,!1)}};function V_(t){return t.segments.length>0?new Y([],{[x]:t}):t}function $_(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=$_(i);if(r===x&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Y(t.segments,e);return AM(n)}function AM(t){if(t.numberOfChildren===1&&t.children[x]){let e=t.children[x];return new Y(t.segments.concat(e.segments),e.children)}return t}function $r(t){return t instanceof fn}function MM(t,e,n=null,r=null){let i=B_(t);return H_(i,e,n,r)}function B_(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new Y(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=V_(r);return e??i}function H_(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Yd(i,i,i,n,r);let o=NM(e);if(o.toRoot())return Yd(i,i,new Y([],{}),n,r);let s=RM(o,i,t),a=s.processChildren?to(s.segmentGroup,s.index,o.commands):z_(s.segmentGroup,s.index,o.commands);return Yd(i,s.segmentGroup,a,n,r)}function Ja(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function oo(t){return typeof t=="object"&&t!=null&&t.outlets}function Yd(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===e?s=n:s=W_(t,e,n);let a=V_($_(s));return new fn(a,o,i)}function W_(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=W_(o,e,n)}),new Y(t.segments,r)}var Xa=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Ja(r[0]))throw new E(4003,!1);let i=r.find(oo);if(i&&i!==P_(r))throw new E(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function NM(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Xa(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Xa(n,e,r)}var jr=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function RM(t,e,n){if(t.isAbsolute)return new jr(e,!0,0);if(!n)return new jr(e,!1,NaN);if(n.parent===null)return new jr(n,!0,0);let r=Ja(t.commands[0])?0:1,i=n.segments.length-1+r;return xM(n,i,t.numberOfDoubleDots)}function xM(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new E(4005,!1);i=r.segments.length}return new jr(r,!1,i-o)}function PM(t){return oo(t[0])?t[0].outlets:{[x]:t}}function z_(t,e,n){if(t??=new Y([],{}),t.segments.length===0&&t.hasChildren())return to(t,e,n);let r=OM(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Y(t.segments.slice(0,r.pathIndex),{});return o.children[x]=new Y(t.segments.slice(r.pathIndex),t.children),to(o,0,i)}else return r.match&&i.length===0?new Y(t.segments,{}):r.match&&!t.hasChildren()?nf(t,e,n):r.match?to(t,0,i):nf(t,e,n)}function to(t,e,n){if(n.length===0)return new Y(t.segments,{});{let r=PM(n),i={};if(Object.keys(r).some(o=>o!==x)&&t.children[x]&&t.numberOfChildren===1&&t.children[x].segments.length===0){let o=to(t.children[x],e,n);return new Y(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=z_(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Y(t.segments,i)}}function OM(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(oo(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!S_(c,l,s))return o;r+=2}else{if(!S_(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function nf(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(oo(o)){let c=kM(o.outlets);return new Y(r,c)}if(i===0&&Ja(n[0])){let c=t.segments[e];r.push(new jn(c.path,T_(n[0]))),i++;continue}let s=oo(o)?o.outlets[x]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Ja(a)?(r.push(new jn(s,T_(a))),i+=2):(r.push(new jn(s,{})),i++)}return new Y(r,{})}function kM(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=nf(new Y([],{}),0,r))}),e}function T_(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function S_(t,e,n){return t==n.path&&Dt(e,n.parameters)}var no="imperative",pe=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(pe||{}),tt=class{constructor(e,n){this.id=e,this.url=n}},Br=class extends tt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=pe.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Wt=class extends tt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=pe.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ge=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Ge||{}),ec=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(ec||{}),hn=class extends tt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=pe.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},pn=class extends tt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=pe.NavigationSkipped}},so=class extends tt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=pe.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},tc=class extends tt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=pe.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rf=class extends tt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=pe.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},of=class extends tt{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=pe.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},sf=class extends tt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=pe.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},af=class extends tt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=pe.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cf=class{constructor(e){this.route=e,this.type=pe.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},lf=class{constructor(e){this.route=e,this.type=pe.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},uf=class{constructor(e){this.snapshot=e,this.type=pe.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},df=class{constructor(e){this.snapshot=e,this.type=pe.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ff=class{constructor(e){this.snapshot=e,this.type=pe.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hf=class{constructor(e){this.snapshot=e,this.type=pe.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},nc=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=pe.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},ao=class{},co=class{constructor(e){this.url=e}};var pf=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new go,this.attachRef=null}},go=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new pf,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),rc=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=gf(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=gf(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=mf(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return mf(e,this._root).map(n=>n.value)}};function gf(t,e){if(t===e.value)return e;for(let n of e.children){let r=gf(t,n);if(r)return r}return null}function mf(t,e){if(t===e.value)return[e];for(let n of e.children){let r=mf(t,n);if(r.length)return r.unshift(e),r}return[]}var ze=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Fr(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var ic=class extends rc{constructor(e,n){super(e),this.snapshot=n,Tf(this,e)}toString(){return this.snapshot.toString()}};function G_(t){let e=LM(t),n=new me([new jn("",{})]),r=new me({}),i=new me({}),o=new me({}),s=new me(""),a=new Hr(n,r,o,s,i,x,t,e.root);return a.snapshot=e.root,new ic(new ze(a,[]),e)}function LM(t){let e={},n={},r={},i="",o=new lo([],e,r,i,n,x,t,null,{});return new oc("",new ze(o,[]))}var Hr=class{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(V(l=>l[ho]))??A(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(V(e=>Vr(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(V(e=>Vr(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Df(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:I(I({},e.params),t.params),data:I(I({},e.data),t.data),resolve:I(I(I(I({},t.data),e.data),i?.data),t._resolvedData)}:r={params:I({},t.params),data:I({},t.data),resolve:I(I({},t.data),t._resolvedData??{})},i&&K_(i)&&(r.resolve[ho]=i.title),r}var lo=class{get title(){return this.data?.[ho]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Vr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Vr(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},oc=class extends rc{constructor(e,n){super(n),this.url=e,Tf(this,n)}toString(){return q_(this._root)}};function Tf(t,e){e.value._routerState=t,e.children.forEach(n=>Tf(t,n))}function q_(t){let e=t.children.length>0?` { ${t.children.map(q_).join(", ")} } `:"";return`${t.value}${e}`}function Qd(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Dt(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Dt(e.params,n.params)||t.paramsSubject.next(n.params),dM(e.url,n.url)||t.urlSubject.next(n.url),Dt(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function vf(t,e){let n=Dt(t.params,e.params)&&gM(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||vf(t.parent,e.parent))}function K_(t){return typeof t.title=="string"||t.title===null}var FM=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=x,this.activateEvents=new Ce,this.deactivateEvents=new Ce,this.attachEvents=new Ce,this.detachEvents=new Ce,this.parentContexts=g(go),this.location=g(Hi),this.changeDetector=g(Ki),this.environmentInjector=g(Ue),this.inputBinder=g(uc,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new E(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new E(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new E(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new E(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new yf(r,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ki({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ui]});let t=e;return t})(),yf=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Hr?this.route:e===go?this.childContexts:this.parent.get(e,n)}},uc=new D(""),A_=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,o=mi([i.queryParams,i.params,i.data]).pipe(Le(([s,a,c],l)=>(c=I(I(I({},s),a),c),l===0?A(c):Promise.resolve(c)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=Wy(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(r,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})();function jM(t,e,n){let r=uo(t,e._root,n?n._root:void 0);return new ic(r,e)}function uo(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=UM(t,e,n);return new ze(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>uo(t,a)),s}}let r=VM(e.value),i=e.children.map(o=>uo(t,o));return new ze(r,i)}}function UM(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return uo(t,r,i);return uo(t,r)})}function VM(t){return new Hr(new me(t.url),new me(t.params),new me(t.queryParams),new me(t.fragment),new me(t.data),t.outlet,t.component,t)}var Y_="ngNavigationCancelingError";function Q_(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=$r(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Z_(!1,Ge.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Z_(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Y_]=!0,n.cancellationCode=e,n}function $M(t){return J_(t)&&$r(t.url)}function J_(t){return!!t&&t[Y_]}var BM=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ue({type:e,selectors:[["ng-component"]],standalone:!0,features:[xy],decls:1,vars:0,template:function(i,o){i&1&&T(0,"router-outlet")},dependencies:[FM],encapsulation:2});let t=e;return t})();function HM(t,e){return t.providers&&!t._injector&&(t._injector=Ra(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Sf(t){let e=t.children&&t.children.map(Sf),n=e?te(I({},t),{children:e}):I({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==x&&(n.component=BM),n}function Tt(t){return t.outlet||x}function WM(t,e){let n=t.filter(r=>Tt(r)===e);return n.push(...t.filter(r=>Tt(r)!==e)),n}function mo(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var zM=(t,e,n,r)=>V(i=>(new _f(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),_f=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Qd(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Fr(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Fr(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Fr(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Fr(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new hf(o.value.snapshot))}),e.children.length&&this.forwardEvent(new df(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Qd(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Qd(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=mo(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},sc=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Ur=class{constructor(e,n){this.component=e,this.route=n}};function GM(t,e,n){let r=t._root,i=e?e._root:null;return Xi(r,i,n,[r.value])}function qM(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function zr(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!wm(t)?t:e.get(t):r}function Xi(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Fr(e);return t.children.forEach(s=>{KM(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ro(a,n.getContext(s),i)),i}function KM(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=YM(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new sc(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Xi(t,e,a?a.children:null,r,i):Xi(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ur(a.outlet.component,s))}else s&&ro(e,a,i),i.canActivateChecks.push(new sc(r)),o.component?Xi(t,null,a?a.children:null,r,i):Xi(t,null,n,r,i);return i}function YM(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Un(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Un(t.url,e.url)||!Dt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!vf(t,e)||!Dt(t.queryParams,e.queryParams);case"paramsChange":default:return!vf(t,e)}}function ro(t,e,n){let r=Fr(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?ro(s,e.children.getContext(o),n):ro(s,null,n):ro(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Ur(e.outlet.component,i)):n.canDeactivateChecks.push(new Ur(null,i)):n.canDeactivateChecks.push(new Ur(null,i))}function vo(t){return typeof t=="function"}function QM(t){return typeof t=="boolean"}function ZM(t){return t&&vo(t.canLoad)}function JM(t){return t&&vo(t.canActivate)}function XM(t){return t&&vo(t.canActivateChild)}function eN(t){return t&&vo(t.canDeactivate)}function tN(t){return t&&vo(t.canMatch)}function X_(t){return t instanceof kt||t?.name==="EmptyError"}var Ka=Symbol("INITIAL_VALUE");function Wr(){return Le(t=>mi(t.map(e=>e.pipe(Lt(1),Rl(Ka)))).pipe(V(e=>{for(let n of e)if(n!==!0){if(n===Ka)return Ka;if(n===!1||n instanceof fn)return n}return!0}),ke(e=>e!==Ka),Lt(1)))}function nN(t,e){return ce(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?A(te(I({},n),{guardsResult:!0})):rN(s,r,i,t).pipe(ce(a=>a&&QM(a)?iN(r,o,t,e):A(a)),V(a=>te(I({},n),{guardsResult:a})))})}function rN(t,e,n,r){return ne(t).pipe(ce(i=>lN(i.component,i.route,n,e,r)),ot(i=>i!==!0,!0))}function iN(t,e,n,r){return ne(e).pipe(en(i=>mr(sN(i.route.parent,r),oN(i.route,r),cN(t,i.path,n),aN(t,i.route,n))),ot(i=>i!==!0,!0))}function oN(t,e){return t!==null&&e&&e(new ff(t)),A(!0)}function sN(t,e){return t!==null&&e&&e(new uf(t)),A(!0)}function aN(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return A(!0);let i=r.map(o=>Ms(()=>{let s=mo(e)??n,a=zr(o,s),c=JM(a)?a.canActivate(e,t):It(s,()=>a(e,t));return gn(c).pipe(ot())}));return A(i).pipe(Wr())}function cN(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>qM(s)).filter(s=>s!==null).map(s=>Ms(()=>{let a=s.guards.map(c=>{let l=mo(s.node)??n,u=zr(c,l),d=XM(u)?u.canActivateChild(r,t):It(l,()=>u(r,t));return gn(d).pipe(ot())});return A(a).pipe(Wr())}));return A(o).pipe(Wr())}function lN(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return A(!0);let s=o.map(a=>{let c=mo(e)??i,l=zr(a,c),u=eN(l)?l.canDeactivate(t,e,n,r):It(c,()=>l(t,e,n,r));return gn(u).pipe(ot())});return A(s).pipe(Wr())}function uN(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return A(!0);let o=i.map(s=>{let a=zr(s,t),c=ZM(a)?a.canLoad(e,n):It(t,()=>a(e,n));return gn(c)});return A(o).pipe(Wr(),ew(r))}function ew(t){return _l(se(e=>{if($r(e))throw Q_(t,e)}),V(e=>e===!0))}function dN(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return A(!0);let o=i.map(s=>{let a=zr(s,t),c=tN(a)?a.canMatch(e,n):It(t,()=>a(e,n));return gn(c)});return A(o).pipe(Wr(),ew(r))}var fo=class{constructor(e){this.segmentGroup=e||null}},ac=class extends Error{constructor(e){super(),this.urlTree=e}};function Lr(t){return pr(new fo(t))}function fN(t){return pr(new E(4e3,!1))}function hN(t){return pr(Z_(!1,Ge.GuardRejected))}var wf=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return A(r);if(i.numberOfChildren>1||!i.children[x])return fN(e.redirectTo);i=i.children[x]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new ac(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new fn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Y(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new E(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},If={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function pN(t,e,n,r,i){let o=Af(t,e,n);return o.matched?(r=HM(e,r),dN(r,e,n,i).pipe(V(s=>s===!0?o:I({},If)))):A(o)}function Af(t,e,n){if(e.path==="**")return gN(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?I({},If):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||uM)(n,t,e);if(!i)return I({},If);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?I(I({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function gN(t){return{matched:!0,parameters:t.length>0?P_(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function M_(t,e,n,r){return n.length>0&&yN(t,n,r)?{segmentGroup:new Y(e,vN(r,new Y(n,t.children))),slicedSegments:[]}:n.length===0&&_N(t,n,r)?{segmentGroup:new Y(t.segments,mN(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Y(t.segments,t.children),slicedSegments:n}}function mN(t,e,n,r){let i={};for(let o of n)if(dc(t,e,o)&&!r[Tt(o)]){let s=new Y([],{});i[Tt(o)]=s}return I(I({},r),i)}function vN(t,e){let n={};n[x]=e;for(let r of t)if(r.path===""&&Tt(r)!==x){let i=new Y([],{});n[Tt(r)]=i}return n}function yN(t,e,n){return n.some(r=>dc(t,e,r)&&Tt(r)!==x)}function _N(t,e,n){return n.some(r=>dc(t,e,r))}function dc(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function wN(t,e,n,r){return Tt(t)!==r&&(r===x||!dc(e,n,t))?!1:Af(e,t,n).matched}function IN(t,e,n){return e.length===0&&!t.children[n]}var Ef=class{};function EN(t,e,n,r,i,o,s="emptyOnly"){return new Cf(t,e,n,r,i,s,o).recognize()}var CN=31,Cf=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new wf(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new E(4002,`'${e.segmentGroup}'`)}recognize(){let e=M_(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(V(n=>{let r=new lo([],Object.freeze({}),Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,{},x,this.rootComponentType,null,{}),i=new ze(r,n),o=new oc("",i),s=MM(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,x).pipe(Xt(r=>{if(r instanceof ac)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof fo?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Df(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(V(o=>o instanceof ze?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return ne(i).pipe(en(o=>{let s=r.children[o],a=WM(n,o);return this.processSegmentGroup(e,a,s,o)}),Nl((o,s)=>(o.push(...s),o)),tn(null),Ml(),ce(o=>{if(o===null)return Lr(r);let s=tw(o);return bN(s),A(s)}))}processSegment(e,n,r,i,o,s){return ne(n).pipe(en(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(Xt(c=>{if(c instanceof fo)return A(null);throw c}))),ot(a=>!!a),Xt(a=>{if(X_(a))return IN(r,i,o)?A(new Ef):Lr(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return wN(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):Lr(i):Lr(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=Af(n,i,o);if(!a)return Lr(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>CN&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,d).pipe(ce(f=>this.processSegment(e,r,n,f.concat(u),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=pN(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(Le(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Le(({routes:c})=>{let l=r._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:f}=a,h=new lo(u,f,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,TN(r),Tt(r),r.component??r._loadedComponent??null,r,SN(r)),{segmentGroup:p,slicedSegments:w}=M_(n,u,d,c);if(w.length===0&&p.hasChildren())return this.processChildren(l,c,p).pipe(V(O=>O===null?null:new ze(h,O)));if(c.length===0&&w.length===0)return A(new ze(h,[]));let R=Tt(r)===o;return this.processSegment(l,c,p,w,R?x:o,!0).pipe(V(O=>new ze(h,O instanceof ze?[O]:[])))}))):Lr(n)))}getChildConfig(e,n,r){return n.children?A({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?A({routes:n._loadedRoutes,injector:n._loadedInjector}):uN(e,n,r,this.urlSerializer).pipe(ce(i=>i?this.configLoader.loadChildren(e,n).pipe(se(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):hN(n))):A({routes:[],injector:e})}};function bN(t){t.sort((e,n)=>e.value.outlet===x?-1:n.value.outlet===x?1:e.value.outlet.localeCompare(n.value.outlet))}function DN(t){let e=t.value.routeConfig;return e&&e.path===""}function tw(t){let e=[],n=new Set;for(let r of t){if(!DN(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=tw(r.children);e.push(new ze(r.value,i))}return e.filter(r=>!n.has(r))}function TN(t){return t.data||{}}function SN(t){return t.resolve||{}}function AN(t,e,n,r,i,o){return ce(s=>EN(t,e,n,r,s.extractedUrl,i,o).pipe(V(({state:a,tree:c})=>te(I({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function MN(t,e){return ce(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return A(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of nw(c))s.add(l);let a=0;return ne(s).pipe(en(c=>o.has(c)?NN(c,r,t,e):(c.data=Df(c,c.parent,t).resolve,A(void 0))),se(()=>a++),yr(1),ce(c=>a===s.size?A(n):Oe))})}function nw(t){let e=t.children.map(n=>nw(n)).flat();return[t,...e]}function NN(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!K_(i)&&(o[ho]=i.title),RN(o,t,e,r).pipe(V(s=>(t._resolvedData=s,t.data=Df(t,t.parent,n).resolve,null)))}function RN(t,e,n,r){let i=Xd(t);if(i.length===0)return A({});let o={};return ne(i).pipe(ce(s=>xN(t[s],e,n,r).pipe(ot(),se(a=>{o[s]=a}))),yr(1),Al(o),Xt(s=>X_(s)?Oe:pr(s)))}function xN(t,e,n,r){let i=mo(e)??r,o=zr(t,i),s=o.resolve?o.resolve(e,n):It(i,()=>o(e,n));return gn(s)}function Zd(t){return Le(e=>{let n=t(e);return n?ne(n).pipe(V(()=>e)):A(e)})}var rw=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===x);return i}getResolvedTitleForRoute(r){return r.data[ho]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>g(PN),providedIn:"root"});let t=e;return t})(),PN=(()=>{let e=class e extends rw{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(S(I_))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),yo=new D("",{providedIn:"root",factory:()=>({})}),cc=new D(""),Mf=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=g(ja)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return A(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=gn(r.loadComponent()).pipe(V(iw),se(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),vr(()=>{this.componentLoaders.delete(r)})),o=new ur(i,()=>new Ee).pipe(lr());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return A({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=ON(i,this.compiler,r,this.onLoadEndListener).pipe(vr(()=>{this.childrenLoaders.delete(i)})),a=new ur(s,()=>new Ee).pipe(lr());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ON(t,e,n,r){return gn(t.loadChildren()).pipe(V(iw),ce(i=>i instanceof Ri||Array.isArray(i)?A(i):ne(e.compileModuleAsync(i))),V(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(cc,[],{optional:!0,self:!0}).flat()),{routes:s.map(Sf),injector:o}}))}function kN(t){return t&&typeof t=="object"&&"default"in t}function iw(t){return kN(t)?t.default:t}var Nf=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>g(LN),providedIn:"root"});let t=e;return t})(),LN=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ow=new D(""),sw=new D("");function FN(t,e,n){let r=t.get(sw),i=t.get(Te);return t.get(W).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),jN(t))),{onViewTransitionCreated:c}=r;return c&&It(t,()=>c({transition:a,from:e,to:n})),s})}function jN(t){return new Promise(e=>{_d(e,{injector:t})})}var Rf=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ee,this.transitionAbortSubject=new Ee,this.configLoader=g(Mf),this.environmentInjector=g(Ue),this.urlSerializer=g(po),this.rootContexts=g(go),this.location=g(Or),this.inputBindingEnabled=g(uc,{optional:!0})!==null,this.titleStrategy=g(rw),this.options=g(yo,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=g(Nf),this.createViewTransition=g(ow,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>A(void 0),this.rootComponentType=null;let r=o=>this.events.next(new cf(o)),i=o=>this.events.next(new lf(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(te(I(I({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new me({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:no,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ke(s=>s.id!==0),V(s=>te(I({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Le(s=>{let a=!1,c=!1;return A(s).pipe(Le(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Ge.SupersededByNewNavigation),Oe;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?te(I({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!u&&d!=="reload"){let f="";return this.events.next(new pn(l.id,this.urlSerializer.serialize(l.rawUrl),f,ec.IgnoredSameUrlNavigation)),l.resolve(null),Oe}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return A(l).pipe(Le(f=>{let h=this.transitions?.getValue();return this.events.next(new Br(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?Oe:Promise.resolve(f)}),AN(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),se(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=te(I({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let h=new tc(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:f,extractedUrl:h,source:p,restoredState:w,extras:R}=l,O=new Br(f,this.urlSerializer.serialize(h),p,w);this.events.next(O);let ie=G_(this.rootComponentType).snapshot;return this.currentTransition=s=te(I({},l),{targetSnapshot:ie,urlAfterRedirects:h,extras:te(I({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,A(s)}else{let f="";return this.events.next(new pn(l.id,this.urlSerializer.serialize(l.extractedUrl),f,ec.IgnoredByUrlHandlingStrategy)),l.resolve(null),Oe}}),se(l=>{let u=new rf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),V(l=>(this.currentTransition=s=te(I({},l),{guards:GM(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),nN(this.environmentInjector,l=>this.events.next(l)),se(l=>{if(s.guardsResult=l.guardsResult,$r(l.guardsResult))throw Q_(this.urlSerializer,l.guardsResult);let u=new of(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),ke(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Ge.GuardRejected),!1)),Zd(l=>{if(l.guards.canActivateChecks.length)return A(l).pipe(se(u=>{let d=new sf(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Le(u=>{let d=!1;return A(u).pipe(MN(this.paramsInheritanceStrategy,this.environmentInjector),se({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",Ge.NoDataFromResolver)}}))}),se(u=>{let d=new af(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),Zd(l=>{let u=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(se(h=>{d.component=h}),V(()=>{})));for(let h of d.children)f.push(...u(h));return f};return mi(u(l.targetSnapshot.root)).pipe(tn(null),Lt(1))}),Zd(()=>this.afterPreactivation()),Le(()=>{let{currentSnapshot:l,targetSnapshot:u}=s,d=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return d?ne(d).pipe(V(()=>s)):A(s)}),V(l=>{let u=jM(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=te(I({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),se(()=>{this.events.next(new ao)}),zM(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Lt(1),se({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Wt(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),xl(this.transitionAbortSubject.pipe(se(l=>{throw l}))),vr(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",Ge.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Xt(l=>{if(c=!0,J_(l))this.events.next(new hn(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),$M(l)?this.events.next(new co(l.url)):s.resolve(!1);else{this.events.next(new so(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(l))}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return Oe}))}))}cancelNavigationTransition(r,i,o){let s=new hn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function UN(t){return t!==no}var VN=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>g($N),providedIn:"root"});let t=e;return t})(),bf=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},$N=(()=>{let e=class e extends bf{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Zu(e)))(o||e)}})(),e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),aw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>g(BN),providedIn:"root"});let t=e;return t})(),BN=(()=>{let e=class e extends aw{constructor(){super(...arguments),this.location=g(Or),this.urlSerializer=g(po),this.options=g(yo,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=g(Nf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new fn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=G_(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Br)this.stateMemento=this.createStateMemento();else if(r instanceof pn)this.rawUrlTree=i.initialUrl;else if(r instanceof tc){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof ao?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof hn&&(r.code===Ge.GuardRejected||r.code===Ge.NoDataFromResolver)?this.restoreHistory(i):r instanceof so?this.restoreHistory(i,!0):r instanceof Wt&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=I(I({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=I(I({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Zu(e)))(o||e)}})(),e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),eo=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(eo||{});function cw(t,e){t.events.pipe(ke(n=>n instanceof Wt||n instanceof hn||n instanceof so||n instanceof pn),V(n=>n instanceof Wt||n instanceof pn?eo.COMPLETE:(n instanceof hn?n.code===Ge.Redirect||n.code===Ge.SupersededByNewNavigation:!1)?eo.REDIRECTING:eo.FAILED),ke(n=>n!==eo.REDIRECTING),Lt(1)).subscribe(()=>{e()})}function HN(t){throw t}var WN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},zN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Vn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=g(Oa),this.stateManager=g(aw),this.options=g(yo,{optional:!0})||{},this.pendingTasks=g(Wi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=g(Rf),this.urlSerializer=g(po),this.location=g(Or),this.urlHandlingStrategy=g(Nf),this._events=new Ee,this.errorHandler=this.options.errorHandler||HN,this.navigated=!1,this.routeReuseStrategy=g(VN),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=g(cc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!g(uc,{optional:!0}),this.eventsSubscription=new oe,this.isNgZoneEnabled=g(W)instanceof W&&W.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof hn&&i.code!==Ge.Redirect&&i.code!==Ge.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Wt)this.navigated=!0;else if(i instanceof co){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),c={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||UN(o.source)};this.scheduleNavigation(a,no,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}qN(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),no,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=I({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Sf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=I(I({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let h=o?o.snapshot:this.routerState.snapshot.root;f=B_(h)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return H_(f,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=$r(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,no,null,i)}navigate(r,i={skipLocationChange:!1}){return GN(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=I({},WN):i===!1?o=I({},zN):o=i,$r(r))return b_(this.currentUrlTree,r,o);let s=this.parseUrl(r);return b_(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((f,h)=>{c=f,l=h});let d=this.pendingTasks.add();return cw(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function GN(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new E(4008,!1)}function qN(t){return!(t instanceof ao)&&!(t instanceof co)}var lc=class{};var KN=(()=>{let e=class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(ke(r=>r instanceof Wt),en(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let o=[];for(let s of i){s.providers&&!s._injector&&(s._injector=Ra(s.providers,r,`Route: ${s.path}`));let a=s._injector??r,c=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(c,s.children??s._loadedRoutes))}return ne(o).pipe(gr())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(r,i):o=A(null);let s=o.pipe(ce(a=>a===null?A(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return ne([s,a]).pipe(gr())}else return s})}};e.\u0275fac=function(i){return new(i||e)(S(Vn),S(ja),S(Ue),S(lc),S(Mf))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),lw=new D(""),YN=(()=>{let e=class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Br?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Wt?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof pn&&r.code===ec.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof nc&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new nc(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){Jv()},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})();function QN(t){return t.routerState.root}function _o(t,e){return{\u0275kind:t,\u0275providers:e}}function ZN(){let t=g(be);return e=>{let n=t.get(Bt);if(e!==n.components[0])return;let r=t.get(Vn),i=t.get(uw);t.get(xf)===1&&r.initialNavigation(),t.get(dw,null,k.Optional)?.setUpPreloading(),t.get(lw,null,k.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var uw=new D("",{factory:()=>new Ee}),xf=new D("",{providedIn:"root",factory:()=>1});function JN(){return _o(2,[{provide:xf,useValue:0},{provide:Fa,multi:!0,deps:[be],useFactory:e=>{let n=e.get(Zy,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Vn),o=e.get(uw);cw(i,()=>{r(!0)}),e.get(Rf).afterPreactivation=()=>(r(!0),o.closed?A(void 0):o),i.initialNavigation()}))}}])}function XN(){return _o(3,[{provide:Fa,multi:!0,useFactory:()=>{let e=g(Vn);return()=>{e.setUpLocationChangeListener()}}},{provide:xf,useValue:2}])}var dw=new D("");function eR(t){return _o(0,[{provide:dw,useExisting:KN},{provide:lc,useExisting:t}])}function tR(){return _o(8,[A_,{provide:uc,useExisting:A_}])}function nR(t){let e=[{provide:ow,useValue:FN},{provide:sw,useValue:I({skipNextTransition:!!t?.skipInitialTransition},t)}];return _o(9,e)}var N_=new D("ROUTER_FORROOT_GUARD"),rR=[Or,{provide:po,useClass:io},Vn,go,{provide:Hr,useFactory:QN,deps:[Vn]},Mf,[]],Pf=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[rR,[],{provide:cc,multi:!0,useValue:r},{provide:N_,useFactory:aR,deps:[[Vn,new Je,new Lu]]},{provide:yo,useValue:i||{}},i?.useHash?oR():sR(),iR(),i?.preloadingStrategy?eR(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?cR(i):[],i?.bindToComponentInputs?tR().\u0275providers:[],i?.enableViewTransitions?nR().\u0275providers:[],lR()]}}static forChild(r){return{ngModule:e,providers:[{provide:cc,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(S(N_,8))},e.\u0275mod=He({type:e}),e.\u0275inj=Be({});let t=e;return t})();function iR(){return{provide:lw,useFactory:()=>{let t=g(t_),e=g(W),n=g(yo),r=g(Rf),i=g(po);return n.scrollOffset&&t.setOffset(n.scrollOffset),new YN(i,r,t,e,n)}}}function oR(){return{provide:Fn,useClass:Xy}}function sR(){return{provide:Fn,useClass:kd}}function aR(t){return"guarded"}function cR(t){return[t.initialNavigation==="disabled"?XN().\u0275providers:[],t.initialNavigation==="enabledBlocking"?JN().\u0275providers:[]]}var R_=new D("");function lR(){return[{provide:R_,useFactory:ZN},{provide:Pr,multi:!0,useExisting:R_}]}var uR=[],fw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=He({type:e}),e.\u0275inj=Be({imports:[Pf.forRoot(uR),Pf]});let t=e;return t})();var hw=(()=>{let e=class e{constructor(){this.isMenuOpen=!1}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}scrollToElement(r){let i=document.getElementById(r);i&&i.scrollIntoView({behavior:"smooth",block:"start"}),this.toggleMenu()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ue({type:e,selectors:[["app-navbar"]],decls:21,vars:2,consts:[[1,"navbar"],[1,"container"],[1,"burger",3,"click"],[1,"nav-links"],[3,"click"]],template:function(i,o){i&1&&(v(0,"nav",0)(1,"div",1)(2,"div",2),ft("click",function(){return o.toggleMenu()}),C(3,"\u2630 "),T(4,"br"),y(),v(5,"ul",3)(6,"li")(7,"a",4),ft("click",function(){return o.scrollToElement("home")}),C(8,"HOME"),y()(),v(9,"li")(10,"a",4),ft("click",function(){return o.scrollToElement("games")}),C(11,"GAMES"),y()(),v(12,"li")(13,"a",4),ft("click",function(){return o.scrollToElement("projects")}),C(14,"PROJECTS"),y()(),v(15,"li")(16,"a",4),ft("click",function(){return o.scrollToElement("services")}),C(17,"SERVICES"),y()(),v(18,"li")(19,"a",4),ft("click",function(){return o.scrollToElement("contact")}),C(20,"CONTACTS"),y()()()()()),i&2&&(et(5),Cd("nav-active",o.isMenuOpen))},styles:[".navbar[_ngcontent-%COMP%]{background-color:#18181c;color:#fff;padding:0 20px;position:fixed;top:0%;width:100%;z-index:100}.navbar[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;justify-content:end;align-items:center;width:95%}.nav-links[_ngcontent-%COMP%]{list-style:none;display:flex}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;display:flex;justify-content:end;margin:10px 20px;transition-duration:.3s;cursor:pointer}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{scale:1.2}.burger[_ngcontent-%COMP%]{display:none;cursor:pointer}.nav-active[_ngcontent-%COMP%]{display:flex!important}@media screen and (max-width: 700px){.navbar[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{justify-content:space-between;align-items:flex-start;padding-bottom:10px;padding-top:10px}.nav-links[_ngcontent-%COMP%]{display:none;flex-direction:column}.burger[_ngcontent-%COMP%]{display:flex}}"]});let t=e;return t})();var ye="img[_ngcontent-%COMP%]:hover{scale: 1.1;box-shadow: 0 0px 10px #7f3089;}",wo="img[_ngcontent-%COMP%]:hover{scale: 1.1;box-shadow: 0 0px 10px white;}",pw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ue({type:e,selectors:[["app-me"]],decls:57,vars:0,consts:[[2,"display","flex","justify-content","center","align-items","center","flex-direction","column"],[2,"margin-top","100px"],[2,"width","30%","height","3px","background-color","rgba(255, 255, 255, 0.2)","margin-bottom","50px","border-radius","20px"],[2,"display","flex","justify-content","space-around","flex-wrap","wrap","width","100%","max-width","800px"],[2,"display","flex","justify-content","center","align-items","center","flex-direction","column","margin","10px"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2FC.png?alt=media&token=993f0aea-b405-464c-9a61-bc5301b9dfa3","alt","",2,"padding","10px","background-color","#00589d","height","100px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fc%2B%2B.png?alt=media&token=71f7e1c8-83e8-4a43-aff8-959ae4bc8be9","alt","",2,"padding","10px","background-color","#00589d","height","100px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fc%20sharp.png?alt=media&token=83d82f57-f615-4466-ba20-9e6477c2b938","alt","",2,"background-color","#360092","height","120px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fpython-programming-language.png?alt=media&token=65481f4c-fbb8-429f-8ffd-d01c139b83b4","alt","",2,"background-color","white","height","120px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fjava-logo-1.png?alt=media&token=619f306d-fed2-4bea-a072-b6bc037c6b87","alt","",2,"background-color","white","height","120px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fhtml5.png?alt=media&token=9d4072cb-2879-4a92-8087-72fec042a438","alt","",2,"padding","10px","background-color","white","height","100px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],[2,"display","flex","justify-content","center","align-items","center","flex-direction","column","margin","10px","width","120px"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2FCSS3_logo_and_wordmark.svg.png?alt=media&token=592343d8-c0ac-4ba1-9226-b6b5fcad6a1a","alt","",2,"padding","10px","background-color","white","height","100px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2FJavaScript-logo.png?alt=media&token=b6d47c0a-459c-47b5-9333-48b72d26a4a8","alt","",2,"background-color","white","height","120px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fphp.png?alt=media&token=6437753d-60e2-460d-aea8-07802c633e95","alt","",2,"background-color","#787cb4","height","120px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fmongodb.png?alt=media&token=5ba5ee09-8060-4c2f-92c6-f7db177deb62","alt","",2,"background-color","white","height","120px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fexpress.png?alt=media&token=c3d01d33-d6f5-4999-97b0-19078d79670c","alt","",2,"height","120px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fangular.png?alt=media&token=9b0d0167-06ac-416f-88d1-d762763ea2ea","alt","",2,"background-color","white","height","120px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fnode.jpg?alt=media&token=1059ff04-52d3-409a-8ff4-e669ff670039","alt","",2,"background-color","white","height","120px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],[2,"text-align","center","margin-top","100px"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Ftu3gt6ysfxq71.png?alt=media&token=0b34d9b7-b5c4-43c2-9a8d-ad946b27831a","alt","",2,"padding","10px","background-color","white","height","100px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2F1200px-Godot_icon.svg.png?alt=media&token=66447ee1-c980-49ea-b1cb-d0a74c9dfbd6","alt","",2,"padding","10px","background-color","white","height","100px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2FDakirby309-Simply-Styled-Blender.256.png?alt=media&token=363bc606-2584-4ff8-aa78-3e5e4a2ae50e","alt","",2,"padding","10px","background-color","white","height","100px","width","100px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fst%2Csmall%2C845x845-pad%2C1000x1000%2Cf8f8f8.jpg?alt=media&token=ada8b0f5-444d-430b-94fd-4a69b235de8e","alt","",2,"padding","10px","background-color","white","height","100px","width","100px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2F66c33251292331d29585d32632c3870651b66e01.png?alt=media&token=70c88db0-61a1-4f26-9d2a-49f54d2e2558","alt","",2,"padding","10px","background-color","white","height","100px","width","100px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fadobe-photoshop-logo-0.png?alt=media&token=3736c6ed-b507-4138-adbb-d732f116454d","alt","",2,"padding","10px","background-color","white","height","100px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fadobe-Illustrator-logo-0-1.png?alt=media&token=252ce809-ca49-43fd-8508-dbe4698ce099","alt","",2,"padding","10px","background-color","white","height","100px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fadobe-after-effects-logo-0.png?alt=media&token=187510d4-2d39-41e7-9316-165cf742e83e","alt","",2,"padding","10px","background-color","white","height","100px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2FPremiere-Pro-Logo-PNG-Vector.png?alt=media&token=00d35670-ffe2-4cec-a92a-a2f36456bb98","alt","",2,"padding","10px","background-color","white","height","100px","border-radius","10px","transition-duration","0.3s","cursor","pointer"]],template:function(i,o){i&1&&(v(0,"div",0)(1,"h1",1),C(2,"MY SKILLS"),y(),T(3,"div",2),v(4,"div",3)(5,"div",4),T(6,"img",5),y(),v(7,"div",4),T(8,"img",6),y(),v(9,"div",4),T(10,"img",7),y(),v(11,"div",4),T(12,"img",8),y(),v(13,"div",4),T(14,"img",9),y(),v(15,"div",4),T(16,"img",10),y(),v(17,"div",11),T(18,"img",12),y(),v(19,"div",4),T(20,"img",13),y(),v(21,"div",4),T(22,"img",14),y()(),v(23,"h1",1),C(24,"FULL STACK- MEAN"),y(),T(25,"div",2),v(26,"div",3)(27,"div",4),T(28,"img",15),y(),v(29,"div",4),T(30,"img",16),y(),v(31,"div",4),T(32,"img",17),y(),v(33,"div",4),T(34,"img",18),y()(),v(35,"h1",19),C(36,"GAME ENGINES AND DIVERSE TOOLS"),y(),T(37,"div",2),v(38,"div",3)(39,"div",4),T(40,"img",20),y(),v(41,"div",4),T(42,"img",21),y(),v(43,"div",4),T(44,"img",22),y(),v(45,"div",4),T(46,"img",23),y(),v(47,"div",4),T(48,"img",24),y(),v(49,"div",4),T(50,"img",25),y(),v(51,"div",4),T(52,"img",26),y(),v(53,"div",4),T(54,"img",27),y(),v(55,"div",4),T(56,"img",28),y()()())},styles:[ye,ye,ye,wo,wo,wo,wo,"img[_ngcontent-%COMP%]:hover{scale: 1.1;box-shadow: 0 0p10pxpx white;}",wo,ye,ye,ye,ye,ye,ye,ye,ye,ye,ye,ye,ye,ye]});let t=e;return t})();var gw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ue({type:e,selectors:[["app-services"]],decls:21,vars:0,consts:[[2,"display","flex","justify-content","center","flex-direction","column","align-items","center","width","100%","flex-wrap","wrap"],[2,"height","200px"],[2,"height","3px","background-color","rgba(255, 255, 255, 0.269)","width","300px","box-shadow","0px 1px 10px rgba(255, 255, 255, 0.2)","border-radius","20px"],[2,"margin-top","50px"],[1,"container",2,"display","flex","justify-content","space-around"],[1,"ox",2,"display","flex","justify-content","space-around","align-items","center","flex-direction","column","text-align","center","border-radius","20px","padding","5px"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fweb-icon-line-on-white-background-image-for-web-presentation-logo-icon-symbol-free-vector.jpg?alt=media&token=16f461ca-d61b-436c-80d8-fa81bfb39c3b","alt","",2,"border-radius","100%","height","100px"],[2,"width","90%","margin-top","-10px"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fistockphoto-1136667521-612x612.jpg?alt=media&token=20cce404-80ee-47a7-8946-db2f087a511e","alt","",2,"border-radius","100%","height","100px"]],template:function(i,o){i&1&&(v(0,"div",0),T(1,"div",1),v(2,"h1"),C(3,"MY SERVICES"),y(),T(4,"div",2)(5,"div",3),v(6,"div",4)(7,"div",5)(8,"div"),T(9,"img",6),y(),v(10,"h3"),C(11,"WEB DEVELOPMENT"),y(),v(12,"p",7),C(13," I can help you create the perfect responsive websites that are fast, easy to use, and built with best practices. With my expertise in full stack development, I can make something according to your needs. "),y()(),v(14,"div",5)(15,"div"),T(16,"img",8),y(),v(17,"h3"),C(18,"GAME DEVELOPMENT"),y(),v(19,"p",7),C(20," I specialize in crafting immersive and responsive games, user-friendly, and built with industry best practices. With my expertise in game development, I can bring your vision to life and create something truly tailored to your needs. "),y()()()())},styles:["h1[_ngcontent-%COMP%]{transition-duration:1s;cursor:pointer}h1[_ngcontent-%COMP%]:hover{scale:1.2}.ox[_ngcontent-%COMP%]{width:30%;transition-duration:.5s;cursor:pointer}.ox[_ngcontent-%COMP%]:hover{scale:1.1;background-color:#ffffff1a;box-shadow:0 0 50px #ffffff1c}.ox[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition-duration:.8s;margin-top:20px}.ox[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:rotate(10deg)}@media (max-width: 1000px){.container[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;align-items:center}.ox[_ngcontent-%COMP%]{margin-top:10px;width:70%;margin-bottom:20px}}"]});let t=e;return t})();var mw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ue({type:e,selectors:[["app-contact"]],decls:50,vars:0,consts:[[1,"container"],[2,"height","3px","background-color","rgba(255, 255, 255, 0.269)","width","300px","box-shadow","0px 1px 10px rgba(255, 255, 255, 0.2)","border-radius","20px"],["href","https://github.com/MiroJlassi","target","_blank"],["href","https://www.linkedin.com/in/marwen-jlassi-297467221/","target","_blank"],["href","https://mirojlassi.itch.io/","target","_blank"],["href","https://www.youtube.com/channel/UCKtqfo_KBwgT3ywYlzyhfTg","target","_blank"],["href","https://www.facebook.com/profile.php?id=100080433052577","target","_blank"],["href","https://www.instagram.com/miro_jlassi/","target","_blank"],["target","_blank"],["href","mailto:marwen.jlassi@ensi-uma.tn"]],template:function(i,o){i&1&&(v(0,"div",0)(1,"h1"),C(2,"Contact Me"),y(),T(3,"div",1),v(4,"ul")(5,"li")(6,"strong"),C(7,"GitHub:"),y(),v(8,"a",2),C(9,"-> My GitHub Profile"),y()(),v(10,"li")(11,"strong"),C(12,"LinkedIn:"),y(),v(13,"a",3),C(14,"-> My LinkedIn Profile"),y()(),v(15,"li")(16,"strong"),C(17,"Itch.io:"),y(),v(18,"a",4),C(19,"-> My Itch.io Profile"),y()(),v(20,"li")(21,"strong"),C(22,"YouTube:"),y(),v(23,"a",5),C(24,"-> My YouTube Channel"),y()(),v(25,"li")(26,"strong"),C(27,"Facebook:"),y(),v(28,"a",6),C(29,"-> MyFacebook Profile "),y()(),v(30,"li")(31,"strong"),C(32,"Instagram:"),y(),v(33,"a",7),C(34,"-> My Instagram Profile"),y()(),v(35,"li")(36,"strong"),C(37,"DISCORD:"),y(),v(38,"a",8),C(39,"-> miro#3878"),y()(),v(40,"li")(41,"strong"),C(42,"WhatsApp:"),y(),v(43,"a",8),C(44,"-> +216 96 053 578"),y()(),v(45,"li")(46,"strong"),C(47,"Email:"),y(),v(48,"a",9),C(49,"-> marwen.jlassi@ensi-uma.tn"),y()()()())},styles:[".container[_ngcontent-%COMP%]{width:80%;display:flex;justify-content:center;align-items:center;flex-direction:column;margin:0 auto;padding:20px;border-radius:10px;box-shadow:0 0 20px #0000001a;transition:transform .3s ease}h1[_ngcontent-%COMP%]{text-align:center;color:#fff}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:20px 0;width:90%;max-width:800px}li[_ngcontent-%COMP%]{margin-bottom:15px}a[_ngcontent-%COMP%]{display:block;text-decoration:none;color:#ffffff84;border:2px solid transparent;border-radius:10px;padding:15px;transition:transform .3s ease,border-color .3s ease;transition-duration:.3s;margin:10px}a[_ngcontent-%COMP%]:hover{transform:scale(1.1);border-color:#fff}a[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px;margin-right:10px;border-radius:50%;transition:transform .3s ease}a[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:rotate(360deg)}"]});let t=e;return t})();var vw=(()=>{let e=class e{scrollToElement(r){let i=document.getElementById(r);i&&i.scrollIntoView({behavior:"smooth",block:"start"})}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ue({type:e,selectors:[["app-home"]],decls:19,vars:0,consts:[[2,"height","100vh","display","flex","justify-content","center","align-items","center","flex-direction","column"],[2,"width","80%","text-align","center"],[2,"color","#41abfd"],[1,"arrow-container"],[1,"arrow",3,"click"]],template:function(i,o){i&1&&(v(0,"div",0)(1,"h1"),C(2,"Hola! I'm MIRO."),y(),v(3,"h2",1),C(4,"Computer Science Engineering Student & Software Engineer..."),y(),v(5,"p",1),C(6," I\u2019m a Computer Science Engineering student at the "),v(7,"strong",2),C(8,"National School of Computer Science"),y(),C(9," and a part-time Software Engineer at "),v(10,"strong",2),C(11,"Expensya"),y(),C(12," by Medius."),T(13,"br"),C(14," I love using technology to create solutions that make a difference. Game development is my favorite hobby, and I enjoy building fun and immersive experiences."),T(15,"br"),C(16," Join me on my journey as I combine my skills in software engineering and game development! "),y(),v(17,"div",3)(18,"div",4),ft("click",function(){return o.scrollToElement("games")}),y()()())},styles:[".arrow-container[_ngcontent-%COMP%]{position:relative;width:50px;height:50px}.arrow[_ngcontent-%COMP%]{position:absolute;margin-top:20px;top:0;left:50%;transform:translate(-50%);width:0;height:0;border-left:30px solid transparent;border-right:30px solid transparent;border-top:30px solid #ffffff91;animation:_ngcontent-%COMP%_arrowAnimation .8s infinite alternate;transition-duration:.5s}.arrow[_ngcontent-%COMP%]:hover{border-left:35px solid transparent;border-right:35px solid transparent;border-top:35px solid white;cursor:pointer}@keyframes _ngcontent-%COMP%_arrowAnimation{0%{transform:translate(-50%) translateY(0)}to{transform:translate(-50%) translateY(10px)}}"]});let t=e;return t})();var kf={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var m=function(t,e){if(!t)throw Bn(e)},Bn=function(t){return new Error("Firebase Database ("+kf.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var _w=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},mR=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},hc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,f=(a&15)<<2|l>>6,h=l&63;c||(h=64,s||(f=64)),r.push(n[u],n[d],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(_w(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):mR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new Lf;let f=o<<2|a>>4;if(r.push(f),l!==64){let h=a<<4&240|l>>2;if(r.push(h),d!==64){let p=l<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Lf=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},jf=function(t){let e=_w(t);return hc.encodeByteArray(e,!0)},Io=function(t){return jf(t).replace(/\./g,"")},Eo=function(t){try{return hc.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ww(t){return Iw(void 0,t)}function Iw(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!vR(n)||(t[n]=Iw(t[n],e[n]));return t}function vR(t){return t!=="__proto__"}function yR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var _R=()=>yR().__FIREBASE_DEFAULTS__,wR=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},IR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Eo(t[1]);return e&&JSON.parse(e)},Uf=()=>{try{return _R()||wR()||IR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Ew=t=>{var e,n;return(n=(e=Uf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Cw=t=>{let e=Ew(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Vf=()=>{var t;return(t=Uf())===null||t===void 0?void 0:t.config},bw=t=>{var e;return(e=Uf())===null||e===void 0?void 0:e[`_${t}`]};var $n=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Dw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Io(JSON.stringify(n)),Io(JSON.stringify(s)),""].join(".")}function ht(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Co(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ht())}function Tw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Sw(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function pc(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function At(){return kf.NODE_CLIENT===!0||kf.NODE_ADMIN===!0}function Aw(){try{return typeof indexedDB=="object"}catch{return!1}}function Mw(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var ER="FirebaseError",St=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=ER,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zt.prototype.create)}},zt=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?CR(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new St(i,a,r)}};function CR(t,e){return t.replace(bR,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var bR=/\{\$([^}]+)}/g;function Gr(t){return JSON.parse(t)}function de(t){return JSON.stringify(t)}var Nw=function(t){let e={},n={},r={},i="";try{let o=t.split(".");e=Gr(Eo(o[0])||""),n=Gr(Eo(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var Rw=function(t){let e=Nw(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},xw=function(t){let e=Nw(t).claims;return typeof e=="object"&&e.admin===!0};function Mt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Hn(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function gc(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function bo(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Do(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(yw(o)&&yw(s)){if(!Do(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function yw(t){return t!==null&&typeof t=="object"}function To(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}var fc=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){let f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4],l,u;for(let d=0;d<80;d++){d<40?d<20?(l=a^o&(s^a),u=1518500249):(l=o^s^a,u=1859775393):d<60?(l=o&s|a&(o|s),u=2400959708):(l=o^s^a,u=3395469782);let f=(i<<5|i>>>27)+l+c+u+r[d]&4294967295;c=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,o=this.buf_,s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}};function Pw(t,e){let n=new Ff(t,e);return n.subscribe.bind(n)}var Ff=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");DR(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Of),i.error===void 0&&(i.error=Of),i.complete===void 0&&(i.complete=Of);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function DR(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Of(){}function $f(t,e){return`${t} failed: ${e} argument `}var Ow=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let o=i-55296;r++,m(r<t.length,"Surrogate pair missing trail surrogate.");let s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},So=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var WB=4*60*60*1e3;function Nt(t){return t&&t._delegate?t._delegate:t}var nt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Wn="[DEFAULT]";var mc=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new $n;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(SR(e))try{this.getOrInitializeService({instanceIdentifier:Wn})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Wn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Wn){return this.instances.has(e)}getOptions(e=Wn){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:TR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Wn){return this.component?this.component.multipleInstances?e:Wn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function TR(t){return t===Wn?void 0:t}function SR(t){return t.instantiationMode==="EAGER"}var Ao=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new mc(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var AR=[],Q=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Q||{}),MR={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},NR=Q.INFO,RR={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},xR=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=RR[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},mn=class{constructor(e){this.name=e,this._logLevel=NR,this._logHandler=xR,this._userLogHandler=null,AR.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Q))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?MR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...e),this._logHandler(this,Q.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...e),this._logHandler(this,Q.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...e),this._logHandler(this,Q.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...e),this._logHandler(this,Q.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...e),this._logHandler(this,Q.ERROR,...e)}};var PR=(t,e)=>e.some(n=>t instanceof n),kw,Lw;function OR(){return kw||(kw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function kR(){return Lw||(Lw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Fw=new WeakMap,Hf=new WeakMap,jw=new WeakMap,Bf=new WeakMap,zf=new WeakMap;function LR(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Rt(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Fw.set(n,t)}).catch(()=>{}),zf.set(e,t),e}function FR(t){if(Hf.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Hf.set(t,e)}var Wf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Hf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||jw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Rt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Uw(t){Wf=t(Wf)}function jR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(vc(this),e,...n);return jw.set(r,e.sort?e.sort():[e]),Rt(r)}:kR().includes(t)?function(...e){return t.apply(vc(this),e),Rt(Fw.get(this))}:function(...e){return Rt(t.apply(vc(this),e))}}function UR(t){return typeof t=="function"?jR(t):(t instanceof IDBTransaction&&FR(t),PR(t,OR())?new Proxy(t,Wf):t)}function Rt(t){if(t instanceof IDBRequest)return LR(t);if(Bf.has(t))return Bf.get(t);let e=UR(t);return e!==t&&(Bf.set(t,e),zf.set(e,t)),e}var vc=t=>zf.get(t);function $w(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Rt(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Rt(s.result),c.oldVersion,c.newVersion,Rt(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var VR=["get","getKey","getAll","getAllKeys","count"],$R=["put","add","delete","clear"],Gf=new Map;function Vw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Gf.get(e))return Gf.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=$R.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||VR.includes(n)))return;let o=function(s,...a){return _(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return Gf.set(e,o),o}Uw(t=>te(I({},t),{get:(e,n,r)=>Vw(e,n)||t.get(e,n,r),has:(e,n)=>!!Vw(e,n)||t.has(e,n)}));var Kf=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(BR(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function BR(t){let e=t.getComponent();return e?.type==="VERSION"}var Yf="@firebase/app",Bw="0.10.13";var Gt=new mn("@firebase/app"),HR="@firebase/app-compat",WR="@firebase/analytics-compat",zR="@firebase/analytics",GR="@firebase/app-check-compat",qR="@firebase/app-check",KR="@firebase/auth",YR="@firebase/auth-compat",QR="@firebase/database",ZR="@firebase/data-connect",JR="@firebase/database-compat",XR="@firebase/functions",ex="@firebase/functions-compat",tx="@firebase/installations",nx="@firebase/installations-compat",rx="@firebase/messaging",ix="@firebase/messaging-compat",ox="@firebase/performance",sx="@firebase/performance-compat",ax="@firebase/remote-config",cx="@firebase/remote-config-compat",lx="@firebase/storage",ux="@firebase/storage-compat",dx="@firebase/firestore",fx="@firebase/vertexai-preview",hx="@firebase/firestore-compat",px="firebase",gx="10.14.1";var Qf="[DEFAULT]",mx={[Yf]:"fire-core",[HR]:"fire-core-compat",[zR]:"fire-analytics",[WR]:"fire-analytics-compat",[qR]:"fire-app-check",[GR]:"fire-app-check-compat",[KR]:"fire-auth",[YR]:"fire-auth-compat",[QR]:"fire-rtdb",[ZR]:"fire-data-connect",[JR]:"fire-rtdb-compat",[XR]:"fire-fn",[ex]:"fire-fn-compat",[tx]:"fire-iid",[nx]:"fire-iid-compat",[rx]:"fire-fcm",[ix]:"fire-fcm-compat",[ox]:"fire-perf",[sx]:"fire-perf-compat",[ax]:"fire-rc",[cx]:"fire-rc-compat",[lx]:"fire-gcs",[ux]:"fire-gcs-compat",[dx]:"fire-fst",[hx]:"fire-fst-compat",[fx]:"fire-vertex","fire-js":"fire-js",[px]:"fire-js-all"};var Mo=new Map,vx=new Map,Zf=new Map;function Hw(t,e){try{t.container.addComponent(e)}catch(n){Gt.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function yn(t){let e=t.name;if(Zf.has(e))return Gt.debug(`There were multiple attempts to register component ${e}.`),!1;Zf.set(e,t);for(let n of Mo.values())Hw(n,t);for(let n of vx.values())Hw(n,t);return!0}function th(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function qr(t){return t.settings!==void 0}var yx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},vn=new zt("app","Firebase",yx);var Jf=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new nt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vn.create("app-deleted",{appName:this._name})}};var Kr=gx;function nh(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Qf,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw vn.create("bad-app-name",{appName:String(i)});if(n||(n=Vf()),!n)throw vn.create("no-options");let o=Mo.get(i);if(o){if(Do(n,o.options)&&Do(r,o.config))return o;throw vn.create("duplicate-app",{appName:i})}let s=new Ao(i);for(let c of Zf.values())s.addComponent(c);let a=new Jf(n,r,s);return Mo.set(i,a),a}function Ro(t=Qf){let e=Mo.get(t);if(!e&&t===Qf&&Vf())return nh();if(!e)throw vn.create("no-app",{appName:t});return e}function yc(){return Array.from(Mo.values())}function ge(t,e,n){var r;let i=(r=mx[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gt.warn(a.join(" "));return}yn(new nt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var _x="firebase-heartbeat-database",wx=1,No="firebase-heartbeat-store",qf=null;function qw(){return qf||(qf=$w(_x,wx,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(No)}catch(n){console.warn(n)}}}}).catch(t=>{throw vn.create("idb-open",{originalErrorMessage:t.message})})),qf}function Ix(t){return _(this,null,function*(){try{let n=(yield qw()).transaction(No),r=yield n.objectStore(No).get(Kw(t));return yield n.done,r}catch(e){if(e instanceof St)Gt.warn(e.message);else{let n=vn.create("idb-get",{originalErrorMessage:e?.message});Gt.warn(n.message)}}})}function Ww(t,e){return _(this,null,function*(){try{let r=(yield qw()).transaction(No,"readwrite");yield r.objectStore(No).put(e,Kw(t)),yield r.done}catch(n){if(n instanceof St)Gt.warn(n.message);else{let r=vn.create("idb-set",{originalErrorMessage:n?.message});Gt.warn(r.message)}}})}function Kw(t){return`${t.name}!${t.options.appId}`}var Ex=1024,Cx=30*24*60*60*1e3,Xf=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new eh(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=zw();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=Cx}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Gt.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=zw(),{heartbeatsToSend:r,unsentEntries:i}=bx(this._heartbeatsCache.heartbeats),o=Io(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Gt.warn(n),""}})}};function zw(){return new Date().toISOString().substring(0,10)}function bx(t,e=Ex){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Gw(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Gw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var eh=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return Aw()?Mw().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Ix(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Ww(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Ww(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function Gw(t){return Io(JSON.stringify({version:2,heartbeats:t})).length}function Dx(t){yn(new nt("platform-logger",e=>new Kf(e),"PRIVATE")),yn(new nt("heartbeat",e=>new Xf(e),"PRIVATE")),ge(Yf,Bw,t),ge(Yf,Bw,"esm2017"),ge("fire-js","")}Dx("");var Tx="firebase",Sx="10.14.1";ge(Tx,Sx,"app");var Qr=new ln("ANGULARFIRE2_VERSION");function ih(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Po=(t,e)=>{let n=e?[e]:yc(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},xo=class{constructor(){return Po(Ax)}},Ax="app-check";function Yr(){}var _c=class{zone;delegate;constructor(e,n=Dl){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},rh=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Yr,{},Yr,Yr)),n.pipe(se({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Oo=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new _c(Zone.current)),this.insideAngular=n.run(()=>new _c(Zone.current,bl)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(S(W))};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function wc(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Mx(t){return wc().ngZone.runOutsideAngular(()=>t())}function zn(t){return wc().ngZone.run(()=>t())}function Nx(t){return Rx(wc())(t)}function Rx(t){return function(n){return n=n.lift(new rh(t.ngZone)),n.pipe(Jt(t.outsideAngular),Zt(t.insideAngular))}}var xx=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),zn(()=>t.apply(void 0,r))},Gn=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=zn(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Yr,{},Yr,Yr))),r[o]=xx(r[o],n));let i=Mx(()=>t.apply(this,r));if(!e)if(i instanceof H){let o=wc();return i.pipe(Jt(o.outsideAngular),Zt(o.insideAngular))}else return zn(()=>i);return i instanceof H?i.pipe(Nx):i instanceof Promise?zn(()=>new Promise((o,s)=>i.then(a=>zn(()=>o(a)),a=>zn(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:zn(()=>i)};var qn=class{constructor(e){return e}},ko=class{constructor(){return yc()}};function Px(t){return t&&t.length===1?t[0]:new qn(Ro())}var oh=new D("angularfire2._apps"),Ox={provide:qn,useFactory:Px,deps:[[new Je,oh]]},kx={provide:ko,deps:[[new Je,oh]]};function Lx(t){return(e,n)=>{let r=n.get(We);ge("angularfire",Qr.full,"core"),ge("angularfire",Qr.full,"app"),ge("angular",Py.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new qn(i)}}function Yw(t,...e){return Vt([Ox,kx,{provide:oh,useFactory:Lx(t),multi:!0,deps:[W,be,Oo,...e]}])}var Qw=Gn(nh,!0);function iI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var oI=iI,sI=new zt("auth","Firebase",iI());var bc=new mn("@firebase/auth");function Fx(t,...e){bc.logLevel<=Q.WARN&&bc.warn(`Auth (${Kr}): ${t}`,...e)}function Ec(t,...e){bc.logLevel<=Q.ERROR&&bc.error(`Auth (${Kr}): ${t}`,...e)}function Zw(t,...e){throw vh(t,...e)}function mh(t,...e){return vh(t,...e)}function aI(t,e,n){let r=Object.assign(Object.assign({},oI()),{[e]:n});return new zt("auth","Firebase",r).create(e,{appName:t.name})}function Cc(t){return aI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vh(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return sI.create(t,...e)}function q(t,e,...n){if(!t)throw vh(e,...n)}function Lo(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Ec(e),new Error(e)}function Dc(t,e){t||Lo(e)}function jx(){return Jw()==="http:"||Jw()==="https:"}function Jw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function Ux(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jx()||Sw()||"connection"in navigator)?navigator.onLine:!0}function Vx(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Yn=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Dc(n>e,"Short delay should be less than long delay!"),this.isMobile=Co()||pc()}get(){return Ux()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function $x(t,e){Dc(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Tc=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Lo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Lo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Lo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Bx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Hx=new Yn(3e4,6e4);function cI(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Nc(o,s,a,c){return _(this,arguments,function*(t,e,n,r,i={}){return lI(t,i,()=>_(this,null,function*(){let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});let d=To(Object.assign({key:t.config.apiKey},u)).slice(1),f=yield t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);let h=Object.assign({method:e,headers:f},l);return Tw()||(h.referrerPolicy="no-referrer"),Tc.fetch()(uI(t,t.config.apiHost,n,d),h)}))})}function lI(t,e,n){return _(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},Bx),e);try{let i=new ch(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Ic(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ic(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Ic(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw Ic(t,"user-disabled",s);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw aI(t,u,l);Zw(t,u)}}catch(i){if(i instanceof St)throw i;Zw(t,"network-request-failed",{message:String(i)})}})}function uI(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?$x(t.config,i):`${t.config.apiScheme}://${i}`}var ch=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(mh(this.auth,"network-request-failed")),Hx.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Ic(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=mh(t,e,r);return i.customData._tokenResponse=n,i}function Wx(t,e){return _(this,null,function*(){return Nc(t,"POST","/v1/accounts:delete",e)})}function dI(t,e){return _(this,null,function*(){return Nc(t,"POST","/v1/accounts:lookup",e)})}function Fo(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function yh(t,e=!1){return _(this,null,function*(){let n=Nt(t),r=yield n.getIdToken(e),i=fI(r);q(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Fo(sh(i.auth_time)),issuedAtTime:Fo(sh(i.iat)),expirationTime:Fo(sh(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function sh(t){return Number(t)*1e3}function fI(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ec("JWT malformed, contained fewer than 3 sections"),null;try{let i=Eo(n);return i?JSON.parse(i):(Ec("Failed to decode base64 JWT payload"),null)}catch(i){return Ec("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Xw(t){let e=fI(t);return q(e,"internal-error"),q(typeof e.exp<"u","internal-error"),q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function lh(t,e,n=!1){return _(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof St&&zx(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function zx({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var uh=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),n)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Uo=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fo(this.lastLoginAt),this.creationTime=Fo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Sc(t){return _(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield lh(t,dI(n,{idToken:r}));q(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?hI(o.providerUserInfo):[],a=Gx(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,u=c?l:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Uo(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,d)})}function _h(t){return _(this,null,function*(){let e=Nt(t);yield Sc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Gx(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function hI(t){return t.map(e=>{var{providerId:n}=e,r=Tl(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function qx(t,e){return _(this,null,function*(){let n=yield lI(t,{},()=>_(this,null,function*(){let r=To({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=uI(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Tc.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function Kx(t,e){return _(this,null,function*(){return Nc(t,"POST","/v2/accounts:revokeToken",cI(t,e))})}var jo=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){q(e.idToken,"internal-error"),q(typeof e.idToken<"u","internal-error"),q(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Xw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){q(e.length!==0,"internal-error");let n=Xw(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return _(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield qx(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(q(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(q(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(q(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Lo("not implemented")}};function _n(t,e){q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Vo=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Tl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Uo(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let n=yield lh(this,this.stsTokenManager.getToken(this.auth,e));return q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return yh(this,e)}reload(){return _h(this)}_assign(e){this!==e&&(q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Sc(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(qr(this.auth.app))return Promise.reject(Cc(this.auth));let e=yield this.getIdToken();return yield lh(this,Wx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,l,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,p=(s=n.photoURL)!==null&&s!==void 0?s:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,O=(l=n.createdAt)!==null&&l!==void 0?l:void 0,ie=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:ee,emailVerified:Se,isAnonymous:Pt,providerData:Ie,stsTokenManager:Ot}=n;q(ee&&Ot,e,"internal-error");let fi=jo.fromJSON(this.name,Ot);q(typeof ee=="string",e,"internal-error"),_n(d,e.name),_n(f,e.name),q(typeof Se=="boolean",e,"internal-error"),q(typeof Pt=="boolean",e,"internal-error"),_n(h,e.name),_n(p,e.name),_n(w,e.name),_n(R,e.name),_n(O,e.name),_n(ie,e.name);let hi=new t({uid:ee,auth:e,email:f,emailVerified:Se,displayName:d,isAnonymous:Pt,photoURL:p,phoneNumber:h,tenantId:w,stsTokenManager:fi,createdAt:O,lastLoginAt:ie});return Ie&&Array.isArray(Ie)&&(hi.providerData=Ie.map(ll=>Object.assign({},ll))),R&&(hi._redirectEventId=R),hi}static _fromIdTokenResponse(e,n,r=!1){return _(this,null,function*(){let i=new jo;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Sc(o),o})}static _fromGetAccountInfoResponse(e,n,r){return _(this,null,function*(){let i=n.users[0];q(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?hI(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new jo;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Uo(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var eI=new Map;function Kn(t){Dc(t instanceof Function,"Expected a class definition");let e=eI.get(t);return e?(Dc(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,eI.set(t,e),e)}var Yx=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(n,r){return _(this,null,function*(){this.storage[n]=r})}_get(n){return _(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return _(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),dh=Yx;function ah(t,e,n){return`firebase:${t}:${e}:${n}`}var Ac=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=ah(this.userKey,i.apiKey,o),this.fullPersistenceKey=ah("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Vo._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(this,null,function*(){if(!n.length)return new t(Kn(dh),e,r);let i=(yield Promise.all(n.map(l=>_(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Kn(dh),s=ah(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let u=yield l._get(s);if(u){let d=Vo._fromJSON(e,u);l!==o&&(a=d),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>_(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function tI(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Xx(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Qx(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(tP(e))return"Blackberry";if(nP(e))return"Webos";if(Zx(e))return"Safari";if((e.includes("chrome/")||Jx(e))&&!e.includes("edge/"))return"Chrome";if(eP(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function Qx(t=ht()){return/firefox\//i.test(t)}function Zx(t=ht()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Jx(t=ht()){return/crios\//i.test(t)}function Xx(t=ht()){return/iemobile/i.test(t)}function eP(t=ht()){return/android/i.test(t)}function tP(t=ht()){return/blackberry/i.test(t)}function nP(t=ht()){return/webos/i.test(t)}function pI(t,e=[]){let n;switch(t){case"Browser":n=tI(ht());break;case"Worker":n=`${tI(ht())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Kr}/${r}`}var fh=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function rP(n){return _(this,arguments,function*(t,e={}){return Nc(t,"GET","/v2/passwordPolicy",cI(t,e))})}var iP=6,hh=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:iP,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var ph=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Mc(this),this.idTokenSubscription=new Mc(this),this.beforeStateQueue=new fh(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Kn(n)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Ac.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let n=yield dI(this,{idToken:e}),r=yield Vo._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var n;if(qr(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return q(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield Sc(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Vx()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(qr(this.app))return Promise.reject(Cc(this));let n=e?Nt(e):null;return n&&q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return _(this,null,function*(){if(!this._deleted)return e&&q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return qr(this.app)?Promise.reject(Cc(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return qr(this.app)?Promise.reject(Cc(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(Kn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield rP(this),n=new hh(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new zt("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Kx(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Kn(e)||this._popupRedirectResolver;q(n,this,"argument-error"),this.redirectPersistenceManager=yield Ac.create(this,[Kn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(q(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=pI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return _(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&Fx(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function oP(t){return Nt(t)}var Mc=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Pw(n=>this.observer=n)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var sP={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aP(t){sP=t}function cP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function lP(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Kn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var $H=cP("rcb"),BH=new Yn(3e4,6e4);var HH=new Yn(2e3,1e4);var WH=10*60*1e3;var zH=new Yn(3e4,6e4);var GH=new Yn(5e3,15e3);var qH=encodeURIComponent("fac");var nI="@firebase/auth",rI="1.7.9";var gh=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function uP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function dP(t){yn(new nt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;q(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pI(t)},l=new ph(r,i,o,c);return lP(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),yn(new nt("auth-internal",e=>{let n=oP(e.getProvider("auth").getImmediate());return(r=>new gh(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ge(nI,rI,uP(t)),ge(nI,rI,"esm2017")}var fP=5*60,KH=bw("authIdTokenMaxAge")||fP;function hP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}aP({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=mh("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",hP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});dP("Browser");var fO="auth";var Rc=class{constructor(){return Po(fO)}};var gI="@firebase/database",mI="1.0.8";var bp="";function hO(t){bp=t}var Sh=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),de(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Gr(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var Ah=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Mt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var YI=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Sh(e)}}catch{}return new Ah},Zn=YI("localStorage"),Mh=YI("sessionStorage");var ei=new mn("@firebase/database"),pO=function(){let t=1;return function(){return t++}}(),QI=function(t){let e=Ow(t),n=new fc;n.update(e);let r=n.digest();return hc.encodeByteArray(r)},rs=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=rs.apply(null,r):typeof r=="object"?e+=de(r):e+=r,e+=" "}return e},Jn=null,vI=!0,gO=function(t,e){m(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(ei.logLevel=Q.VERBOSE,Jn=ei.log.bind(ei),e&&Mh.set("logging_enabled",!0)):typeof t=="function"?Jn=t:(Jn=null,Mh.remove("logging_enabled"))},_e=function(...t){if(vI===!0&&(vI=!1,Jn===null&&Mh.get("logging_enabled")===!0&&gO(!0)),Jn){let e=rs.apply(null,t);Jn(e)}},is=function(t){return function(...e){_e(t,...e)}},Nh=function(...t){let e="FIREBASE INTERNAL ERROR: "+rs(...t);ei.error(e)},qt=function(...t){let e=`FIREBASE FATAL ERROR: ${rs(...t)}`;throw ei.error(e),new Error(e)},qe=function(...t){let e="FIREBASE WARNING: "+rs(...t);ei.warn(e)},mO=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&qe("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},ZI=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},vO=function(t){if(At()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ri="[MIN_NAME]",Xn="[MAX_NAME]",ui=function(t,e){if(t===e)return 0;if(t===ri||e===Xn)return-1;if(e===ri||t===Xn)return 1;{let n=yI(t),r=yI(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},yO=function(t,e){return t===e?0:t<e?-1:1},$o=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+de(e))},Dp=function(t){if(typeof t!="object"||t===null)return de(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=de(e[r]),n+=":",n+=Dp(t[e[r]]);return n+="}",n},JI=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Re(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var XI=function(t){m(!ZI(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,o,s,a,c;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));let l=[];for(c=n;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=e;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();let u=l.join(""),d="";for(c=0;c<64;c+=8){let f=parseInt(u.substr(c,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},_O=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},wO=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function IO(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var EO=new RegExp("^-?(0*)\\d{1,10}$"),CO=-2147483648,bO=2147483647,yI=function(t){if(EO.test(t)){let e=Number(t);if(e>=CO&&e<=bO)return e}return null},os=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw qe("Exception was thrown by user callback.",n),e},Math.floor(0))}},DO=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Go=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var Rh=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){qe(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var xh=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(_e("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',qe(e)}},qo=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),Pc="5",eE="v",tE="s",nE="r",rE="f",iE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,oE="ls",sE="p",Ph="ac",aE="websocket",cE="long_polling";var Oc=class{constructor(e,n,r,i,o=!1,s="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Zn.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Zn.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function TO(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function lE(t,e,n){m(typeof e=="string","typeof type must == string"),m(typeof n=="object","typeof params must == object");let r;if(e===aE)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===cE)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);TO(t)&&(n.ns=t.namespace);let i=[];return Re(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var Oh=class{constructor(){this.counters_={}}incrementCounter(e,n=1){Mt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return ww(this.counters_)}};var wh={},Ih={};function Tp(t){let e=t.toString();return wh[e]||(wh[e]=new Oh),wh[e]}function SO(t,e){let n=t.toString();return Ih[n]||(Ih[n]=e()),Ih[n]}var kh=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&os(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var _I="start",AO="close",MO="pLPCommand",NO="pRTLPCB",uE="id",dE="pw",fE="ser",RO="cb",xO="seg",PO="ts",OO="d",kO="dframe",hE=1870,pE=30,LO=hE-pE,FO=25e3,jO=3e4,Lh=class t{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=is(e),this.stats_=Tp(n),this.urlFn=c=>(this.appCheckToken&&(c[Ph]=this.appCheckToken),lE(n,cE,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new kh(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(jO)),vO(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Fh((...o)=>{let[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===_I)this.id=a,this.password=c;else if(s===AO)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[_I]="t",r[fE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[RO]=this.scriptTagHolder.uniqueCallbackIdentifier),r[eE]=Pc,this.transportSessionId&&(r[tE]=this.transportSessionId),this.lastSessionId&&(r[oE]=this.lastSessionId),this.applicationId&&(r[sE]=this.applicationId),this.appCheckToken&&(r[Ph]=this.appCheckToken),typeof location<"u"&&location.hostname&&iE.test(location.hostname)&&(r[nE]=rE);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return At()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!_O()&&!wO()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=de(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=jf(n),i=JI(r,LO);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(At())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[kO]="t",r[uE]=e,r[dE]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=de(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},Fh=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,At())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=pO(),window[MO+this.uniqueCallbackIdentifier]=e,window[NO+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){_e("frame writing exception"),a.stack&&_e(a.stack),_e(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||_e("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[uE]=this.myID,e[dE]=this.myPW,e[fE]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+pE+r.length<=hE;){let s=this.pendingSegs.shift();r=r+"&"+xO+i+"="+s.seg+"&"+PO+i+"="+s.ts+"&"+OO+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(FO)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){At()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{_e("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var UO=16384,VO=45e3,kc=null;typeof MozWebSocket<"u"?kc=MozWebSocket:typeof WebSocket<"u"&&(kc=WebSocket);var Bo=(()=>{class t{constructor(n,r,i,o,s,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=is(this.connId),this.stats_=Tp(r),this.connURL=t.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[eE]=Pc,!At()&&typeof location<"u"&&location.hostname&&iE.test(location.hostname)&&(a[nE]=rE),r&&(a[tE]=r),i&&(a[oE]=i),o&&(a[Ph]=o),s&&(a[sE]=s),lE(n,aE,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Zn.set("previous_websocket_failure",!0);try{let i;if(At()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Pc}/${bp}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new kc(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&kc!==null&&!t.forceDisallow_}static previouslyFailed(){return Zn.isInMemoryStorage||Zn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Zn.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=Gr(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(m(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=de(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=JI(r,UO);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(VO))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),$O=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Lh,Bo]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=Bo&&Bo.isAvailable(),i=r&&!Bo.previouslyFailed();if(n.webSocketOnly&&(r||qe("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Bo];else{let o=this.transports_=[];for(let s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),BO=6e4,HO=5e3,WO=10*1024,zO=100*1024,Eh="t",wI="d",GO="s",II="r",qO="e",EI="o",CI="a",bI="n",DI="p",KO="h",jh=class{constructor(e,n,r,i,o,s,a,c,l,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=is("c:"+this.id+":"),this.transportManager_=new $O(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Go(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>zO?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>WO?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Eh in e){let n=e[Eh];n===CI?this.upgradeIfSecondaryHealthy_():n===II?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===EI&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=$o("t",e),r=$o("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:DI,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:CI,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:bI,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=$o("t",e),r=$o("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=$o(Eh,e);if(wI in e){let r=e[wI];if(n===KO){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===bI){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===GO?this.onConnectionShutdown_(r):n===II?this.onReset_(r):n===qO?Nh("Server Error: "+r):n===EI?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Nh("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Pc!==r&&qe("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Go(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(BO))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Go(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(HO))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:DI,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Zn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Lc=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var Fc=class{constructor(e){this.allowedEvents_=e,this.listeners_={},m(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){m(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var jc=class t extends Fc{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Co()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return m(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var TI=32,SI=768,Z=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function K(){return new Z("")}function F(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function In(t){return t.pieces_.length-t.pieceNum_}function X(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Z(t.pieces_,e)}function gE(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function YO(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function mE(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function vE(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Z(e,0)}function fe(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Z)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Z(n,0)}function j(t){return t.pieceNum_>=t.pieces_.length}function Ne(t,e){let n=F(t),r=F(e);if(n===null)return e;if(n===r)return Ne(X(t),X(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Sp(t,e){if(In(t)!==In(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function gt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(In(t)>In(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var Uh=class{constructor(e,n){this.errorPrefix_=n,this.parts_=mE(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=So(this.parts_[r]);yE(this)}};function QO(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=So(e),yE(t)}function ZO(t){let e=t.parts_.pop();t.byteLength_-=So(e),t.parts_.length>0&&(t.byteLength_-=1)}function yE(t){if(t.byteLength_>SI)throw new Error(t.errorPrefix_+"has a key path longer than "+SI+" bytes ("+t.byteLength_+").");if(t.parts_.length>TI)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+TI+") or object contains a cycle "+Qn(t))}function Qn(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var Vh=class t extends Fc{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return m(e==="visible","Unknown event type: "+e),[this.visible_]}};var Ho=1e3,JO=60*5*1e3,AI=30*1e3,XO=1.3,ek=3e4,tk="server_kill",MI=3,Ap=(()=>{class t extends Lc{constructor(n,r,i,o,s,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=t.nextPersistentConnectionId_++,this.log_=is("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ho,this.maxReconnectDelay_=JO,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!At())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Vh.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&jc.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(de(s)),m(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new $n,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),m(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),m(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,c=>{let l=c.d,u=c.s;t.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&Mt(n,"w")){let i=Hn(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();qe(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||xw(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=AI)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=Rw(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),m(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+de(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):Nh("Unrecognized action received from server: "+de(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){m(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ho,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Ho,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>ek&&(this.reconnectDelay_=Ho),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*XO)}this.onConnectStatus_(!1)}establishConnection_(){return _(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,i())},u=function(f){m(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)};this.realtime_={close:l,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?_e("getToken() completed but was canceled"):(_e("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,c=new jh(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,p=>{qe(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(tk)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&qe(f),l())}}})}interrupt(n){_e("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){_e("Resuming connection for reason: "+n),delete this.interruptReasons_[n],gc(this.interruptReasons_)&&(this.reconnectDelay_=Ho,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>Dp(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new Z(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){_e("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=MI&&(this.reconnectDelay_=AI,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){_e("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=MI&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";At()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+bp.replace(/\./g,"-")]=1,Co()?n["framework.cordova"]=1:pc()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=jc.getInstance().currentlyOnline();return gc(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),L=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var ii=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new L(ri,e),i=new L(ri,n);return this.compare(r,i)!==0}minPost(){return L.MIN}};var xc,Uc=class extends ii{static get __EMPTY_NODE(){return xc}static set __EMPTY_NODE(e){xc=e}compare(e,n){return ui(e.name,n.name)}isDefinedOn(e){throw Bn("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return L.MIN}maxPost(){return new L(Xn,xc)}makePost(e,n){return m(typeof e=="string","KeyIndex indexValue must always be a string."),new L(e,xc)}toString(){return".key"}},ti=new Uc;var Jr=class{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},pt=(()=>{class t{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??t.RED,this.left=o??rt.EMPTY_NODE,this.right=s??rt.EMPTY_NODE}copy(n,r,i,o,s){return new t(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return rt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return rt.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),$h=class{copy(e,n,r,i,o){return this}insert(e,n,r){return new pt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},rt=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,pt.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,pt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Jr(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Jr(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Jr(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Jr(this.root_,null,this.comparator_,!0,e)}};rt.EMPTY_NODE=new $h;function nk(t,e){return ui(t.name,e.name)}function Mp(t,e){return ui(t,e)}var Bh;function rk(t){Bh=t}var _E=function(t){return typeof t=="number"?"number:"+XI(t):"string:"+t},wE=function(t){if(t.isLeafNode()){let e=t.val();m(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Mt(e,".sv"),"Priority must be a string or number.")}else m(t===Bh||t.isEmpty(),"priority of unexpected type.");m(t===Bh||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var NI,oi=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,m(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),wE(this.priorityNode_)}static set __childrenNodeConstructor(n){NI=n}static get __childrenNodeConstructor(){return NI}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return j(n)?this:F(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=F(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(m(i!==".priority"||In(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(X(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+_E(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=XI(this.value_):n+=this.value_,this.lazyHash_=QI(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(m(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(r),s=t.VALUE_TYPE_ORDER.indexOf(i);return m(o>=0,"Unknown leaf type: "+r),m(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),IE,EE;function ik(t){IE=t}function ok(t){EE=t}var Hh=class extends ii{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?ui(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return L.MIN}maxPost(){return new L(Xn,new oi("[PRIORITY-POST]",EE))}makePost(e,n){let r=IE(e);return new L(n,new oi("[PRIORITY-POST]",r))}toString(){return".priority"}},re=new Hh;var sk=Math.log(2),Wh=class{constructor(e){let n=o=>parseInt(Math.log(o)/sk,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},Vc=function(t,e,n,r){t.sort(e);let i=function(c,l){let u=l-c,d,f;if(u===0)return null;if(u===1)return d=t[c],f=n?n(d):d,new pt(f,d.node,pt.BLACK,null,null);{let h=parseInt(u/2,10)+c,p=i(c,h),w=i(h+1,l);return d=t[h],f=n?n(d):d,new pt(f,d.node,pt.BLACK,p,w)}},o=function(c){let l=null,u=null,d=t.length,f=function(p,w){let R=d-p,O=d;d-=p;let ie=i(R+1,O),ee=t[R],Se=n?n(ee):ee;h(new pt(Se,ee.node,w,null,ie))},h=function(p){l?(l.left=p,l=p):(u=p,l=p)};for(let p=0;p<c.count;++p){let w=c.nextBitIsOne(),R=Math.pow(2,c.count-(p+1));w?f(R,pt.BLACK):(f(R,pt.BLACK),f(R,pt.RED))}return u},s=new Wh(t.length),a=o(s);return new rt(r||e,a)};var Ch,Zr={},si=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return m(Zr&&re,"ChildrenNode.ts has not been loaded"),Ch=Ch||new t({".priority":Zr},{".priority":re}),Ch}get(e){let n=Hn(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof rt?n:null}hasIndex(e){return Mt(this.indexSet_,e.toString())}addIndex(e,n){m(e!==ti,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator(L.Wrap),s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=Vc(r,e.getCompare()):a=Zr;let c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;let u=Object.assign({},this.indexes_);return u[c]=a,new t(u,l)}addToIndexes(e,n){let r=bo(this.indexes_,(i,o)=>{let s=Hn(this.indexSet_,o);if(m(s,"Missing index implementation for "+o),i===Zr)if(s.isDefinedOn(e.node)){let a=[],c=n.getIterator(L.Wrap),l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),Vc(a,s.getCompare())}else return Zr;else{let a=n.get(e.name),c=i;return a&&(c=c.remove(new L(e.name,a))),c.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=bo(this.indexes_,i=>{if(i===Zr)return i;{let o=n.get(e.name);return o?i.remove(new L(e.name,o)):i}});return new t(r,this.indexSet_)}};var Wo,P=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&wE(this.priorityNode_),this.children_.isEmpty()&&m(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Wo||(Wo=new t(new rt(Mp),null,si.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Wo}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?Wo:r}}getChild(n){let r=F(n);return r===null?this:this.getImmediateChild(r).getChild(X(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(m(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new L(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?Wo:this.priorityNode_;return new t(o,a,s)}}updateChild(n,r){let i=F(n);if(i===null)return r;{m(F(n)!==".priority"||In(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(X(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(re,(a,c)=>{r[a]=c.val(n),i++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+_E(this.getPriority().val())+":"),this.forEachChild(re,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":QI(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new L(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new L(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new L(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,L.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,L.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===ss?-1:0}withIndex(n){if(n===ti||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===ti||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(re),o=r.getIterator(re),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===ti?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),zh=class extends P{constructor(){super(new rt(Mp),P.EMPTY_NODE,si.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return P.EMPTY_NODE}isEmpty(){return!1}},ss=new zh;Object.defineProperties(L,{MIN:{value:new L(ri,P.EMPTY_NODE)},MAX:{value:new L(Xn,ss)}});Uc.__EMPTY_NODE=P.EMPTY_NODE;oi.__childrenNodeConstructor=P;rk(ss);ok(ss);var ak=!0;function we(t,e=null){if(t===null)return P.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),m(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new oi(n,we(e))}if(!(t instanceof Array)&&ak){let n=[],r=!1;if(Re(t,(s,a)=>{if(s.substring(0,1)!=="."){let c=we(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new L(s,c)))}}),n.length===0)return P.EMPTY_NODE;let o=Vc(n,nk,s=>s.name,Mp);if(r){let s=Vc(n,re.getCompare());return new P(o,we(e),new si({".priority":s},{".priority":re}))}else return new P(o,we(e),si.Default)}else{let n=P.EMPTY_NODE;return Re(t,(r,i)=>{if(Mt(t,r)&&r.substring(0,1)!=="."){let o=we(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(we(e))}}ik(we);var Gh=class extends ii{constructor(e){super(),this.indexPath_=e,m(!j(e)&&F(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?ui(e.name,n.name):o}makePost(e,n){let r=we(e),i=P.EMPTY_NODE.updateChild(this.indexPath_,r);return new L(n,i)}maxPost(){let e=P.EMPTY_NODE.updateChild(this.indexPath_,ss);return new L(Xn,e)}toString(){return mE(this.indexPath_,0).join("/")}};var qh=class extends ii{compare(e,n){let r=e.node.compareTo(n.node);return r===0?ui(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return L.MIN}maxPost(){return L.MAX}makePost(e,n){let r=we(e);return new L(n,r)}toString(){return".value"}},ck=new qh;function CE(t){return{type:"value",snapshotNode:t}}function ai(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Zo(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function Jo(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function lk(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var Xo=class{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){m(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(Zo(n,a)):m(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(ai(n,r)):s.trackChildChange(Jo(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(re,(i,o)=>{n.hasChild(i)||r.trackChildChange(Zo(i,o))}),n.isLeafNode()||n.forEachChild(re,(i,o)=>{if(e.hasChild(i)){let s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(Jo(i,o,s))}else r.trackChildChange(ai(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?P.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var $c=class t{constructor(e){this.indexedFilter_=new Xo(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new L(n,r))||(r=P.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=P.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(P.EMPTY_NODE);let o=this;return n.forEachChild(re,(s,a)=>{o.matches(new L(s,a))||(i=i.updateImmediateChild(s,P.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var Kh=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new $c(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new L(n,r))||(r=P.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=P.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=P.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(P.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,P.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(f,h)=>d(h,f)}else s=this.index_.getCompare();let a=e;m(a.numChildren()===this.limit_,"");let c=new L(n,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(c);if(a.hasChild(n)){let d=a.getImmediateChild(n),f=i.getChildAfterChild(this.index_,l,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);let h=f==null?1:s(f,c);if(u&&!r.isEmpty()&&h>=0)return o?.trackChildChange(Jo(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(Zo(n,d));let w=a.updateImmediateChild(n,P.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o?.trackChildChange(ai(f.name,f.node)),w.updateImmediateChild(f.name,f.node)):w}}else return r.isEmpty()?e:u&&s(l,c)>=0?(o!=null&&(o.trackChildChange(Zo(l.name,l.node)),o.trackChildChange(ai(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(l.name,P.EMPTY_NODE)):e}};var Yh=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=re}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return m(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return m(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ri}hasEnd(){return this.endSet_}getIndexEndValue(){return m(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return m(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Xn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return m(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===re}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function uk(t){return t.loadsAllData()?new Xo(t.getIndex()):t.hasLimit()?new Kh(t):new $c(t)}function RI(t){let e={};if(t.isDefault())return e;let n;if(t.index_===re?n="$priority":t.index_===ck?n="$value":t.index_===ti?n="$key":(m(t.index_ instanceof Gh,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=de(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=de(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+de(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=de(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+de(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function xI(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==re&&(e.i=t.index_.toString()),e}var Qh=class t extends Lc{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=is("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(m(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);let s=t.getListenId_(e,r),a={};this.listens_[s]=a;let c=RI(e._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let d=u;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(o,d,!1,r),Hn(this.listens_,s)===a){let f;l?l===401?f="permission_denied":f="rest_error:"+l:f="ok",i(f,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=RI(e._queryParams),r=e._path.toString(),i=new $n;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+To(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=Gr(a.responseText)}catch{qe("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&qe("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var Zh=class{constructor(){this.rootNode_=P.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function Bc(){return{value:null,children:new Map}}function bE(t,e,n){if(j(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=F(e);t.children.has(r)||t.children.set(r,Bc());let i=t.children.get(r);e=X(e),bE(i,e,n)}}function Jh(t,e,n){t.value!==null?n(e,t.value):dk(t,(r,i)=>{let o=new Z(e.toString()+"/"+r);Jh(i,o,n)})}function dk(t,e){t.children.forEach((n,r)=>{e(r,n)})}var Xh=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Re(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var PI=10*1e3,fk=30*1e3,hk=5*60*1e3,ep=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Xh(e);let r=PI+(fk-PI)*Math.random();Go(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;Re(e,(i,o)=>{o>0&&Mt(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Go(this.reportStats_.bind(this),Math.floor(Math.random()*2*hk))}};var xt=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(xt||{});function DE(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Np(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Rp(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var tp=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=xt.ACK_USER_WRITE,this.source=DE()}operationForChild(e){if(j(this.path)){if(this.affectedTree.value!=null)return m(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new Z(e));return new t(K(),n,this.revert)}}else return m(F(this.path)===e,"operationForChild called for unrelated child."),new t(X(this.path),this.affectedTree,this.revert)}};var Hc=class t{constructor(e,n){this.source=e,this.path=n,this.type=xt.LISTEN_COMPLETE}operationForChild(e){return j(this.path)?new t(this.source,K()):new t(this.source,X(this.path))}};var ci=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=xt.OVERWRITE}operationForChild(e){return j(this.path)?new t(this.source,K(),this.snap.getImmediateChild(e)):new t(this.source,X(this.path),this.snap)}};var Wc=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=xt.MERGE}operationForChild(e){if(j(this.path)){let n=this.children.subtree(new Z(e));return n.isEmpty()?null:n.value?new ci(this.source,K(),n.value):new t(this.source,K(),n)}else return m(F(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,X(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Kt=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(j(e))return this.isFullyInitialized()&&!this.filtered_;let n=F(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var np=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function pk(t,e,n,r){let i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(lk(s.childName,s.snapshotNode))}),zo(t,i,"child_removed",e,r,n),zo(t,i,"child_added",e,r,n),zo(t,i,"child_moved",o,r,n),zo(t,i,"child_changed",e,r,n),zo(t,i,"value",e,r,n),i}function zo(t,e,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,c)=>mk(t,a,c)),s.forEach(a=>{let c=gk(t,a,o);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,t.query_))})})}function gk(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function mk(t,e,n){if(e.childName==null||n.childName==null)throw Bn("Should only compare child_ events.");let r=new L(e.childName,e.snapshotNode),i=new L(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function tl(t,e){return{eventCache:t,serverCache:e}}function Ko(t,e,n,r){return tl(new Kt(e,n,r),t.serverCache)}function TE(t,e,n,r){return tl(t.eventCache,new Kt(e,n,r))}function rp(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function er(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var bh,vk=()=>(bh||(bh=new rt(yO)),bh),xe=class t{constructor(e,n=vk()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return Re(e,(r,i)=>{n=n.set(new Z(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:K(),value:this.value};if(j(e))return null;{let r=F(e),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(X(e),n);return o!=null?{path:fe(new Z(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(j(e))return this;{let n=F(e),r=this.children.get(n);return r!==null?r.subtree(X(e)):new t(null)}}set(e,n){if(j(e))return new t(n,this.children);{let r=F(e),o=(this.children.get(r)||new t(null)).set(X(e),n),s=this.children.insert(r,o);return new t(this.value,s)}}remove(e){if(j(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=F(e),r=this.children.get(n);if(r){let i=r.remove(X(e)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this}}get(e){if(j(e))return this.value;{let n=F(e),r=this.children.get(n);return r?r.get(X(e)):null}}setTree(e,n){if(j(e))return n;{let r=F(e),o=(this.children.get(r)||new t(null)).setTree(X(e),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new t(this.value,s)}}fold(e){return this.fold_(K(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(fe(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,K(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(j(e))return null;{let o=F(e),s=this.children.get(o);return s?s.findOnPath_(X(e),fe(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,K(),n)}foreachOnPath_(e,n,r){if(j(e))return this;{this.value&&r(n,this.value);let i=F(e),o=this.children.get(i);return o?o.foreachOnPath_(X(e),fe(n,i),r):new t(null)}}foreach(e){this.foreach_(K(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(fe(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var mt=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new xe(null))}};function Yo(t,e,n){if(j(e))return new mt(new xe(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,o=r.value,s=Ne(i,e);return o=o.updateChild(s,n),new mt(t.writeTree_.set(i,o))}else{let i=new xe(n),o=t.writeTree_.setTree(e,i);return new mt(o)}}}function OI(t,e,n){let r=t;return Re(n,(i,o)=>{r=Yo(r,fe(e,i),o)}),r}function kI(t,e){if(j(e))return mt.empty();{let n=t.writeTree_.setTree(e,new xe(null));return new mt(n)}}function ip(t,e){return tr(t,e)!=null}function tr(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Ne(n.path,e)):null}function LI(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(re,(r,i)=>{e.push(new L(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new L(r,i.value))}),e}function wn(t,e){if(j(e))return t;{let n=tr(t,e);return n!=null?new mt(new xe(n)):new mt(t.writeTree_.subtree(e))}}function op(t){return t.writeTree_.isEmpty()}function li(t,e){return SE(K(),t.writeTree_,e)}function SE(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(m(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=SE(fe(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(fe(t,".priority"),r)),n}}function xp(t,e){return RE(e,t)}function yk(t,e,n,r,i){m(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Yo(t.visibleWrites,e,n)),t.lastWriteId=r}function _k(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function wk(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);m(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){let a=t.allWrites[s];a.visible&&(s>=n&&Ik(a,r.path)?i=!1:gt(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return Ek(t),!0;if(r.snap)t.visibleWrites=kI(t.visibleWrites,r.path);else{let a=r.children;Re(a,c=>{t.visibleWrites=kI(t.visibleWrites,fe(r.path,c))})}return!0}else return!1}function Ik(t,e){if(t.snap)return gt(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&gt(fe(t.path,n),e))return!0;return!1}function Ek(t){t.visibleWrites=AE(t.allWrites,Ck,K()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Ck(t){return t.visible}function AE(t,e,n){let r=mt.empty();for(let i=0;i<t.length;++i){let o=t[i];if(e(o)){let s=o.path,a;if(o.snap)gt(n,s)?(a=Ne(n,s),r=Yo(r,a,o.snap)):gt(s,n)&&(a=Ne(s,n),r=Yo(r,K(),o.snap.getChild(a)));else if(o.children){if(gt(n,s))a=Ne(n,s),r=OI(r,a,o.children);else if(gt(s,n))if(a=Ne(s,n),j(a))r=OI(r,K(),o.children);else{let c=Hn(o.children,F(a));if(c){let l=c.getChild(X(a));r=Yo(r,K(),l)}}}else throw Bn("WriteRecord should have .snap or .children")}}return r}function ME(t,e,n,r,i){if(!r&&!i){let o=tr(t.visibleWrites,e);if(o!=null)return o;{let s=wn(t.visibleWrites,e);if(op(s))return n;if(n==null&&!ip(s,K()))return null;{let a=n||P.EMPTY_NODE;return li(s,a)}}}else{let o=wn(t.visibleWrites,e);if(!i&&op(o))return n;if(!i&&n==null&&!ip(o,K()))return null;{let s=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(gt(l.path,e)||gt(e,l.path))},a=AE(t.allWrites,s,e),c=n||P.EMPTY_NODE;return li(a,c)}}}function bk(t,e,n){let r=P.EMPTY_NODE,i=tr(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(re,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=wn(t.visibleWrites,e);return n.forEachChild(re,(s,a)=>{let c=li(wn(o,new Z(s)),a);r=r.updateImmediateChild(s,c)}),LI(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=wn(t.visibleWrites,e);return LI(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function Dk(t,e,n,r,i){m(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=fe(e,n);if(ip(t.visibleWrites,o))return null;{let s=wn(t.visibleWrites,o);return op(s)?i.getChild(n):li(s,i.getChild(n))}}function Tk(t,e,n,r){let i=fe(e,n),o=tr(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=wn(t.visibleWrites,i);return li(s,r.getNode().getImmediateChild(n))}else return null}function Sk(t,e){return tr(t.visibleWrites,e)}function Ak(t,e,n,r,i,o,s){let a,c=wn(t.visibleWrites,e),l=tr(c,K());if(l!=null)a=l;else if(n!=null)a=li(c,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function Mk(){return{visibleWrites:mt.empty(),allWrites:[],lastWriteId:-1}}function zc(t,e,n,r){return ME(t.writeTree,t.treePath,e,n,r)}function Pp(t,e){return bk(t.writeTree,t.treePath,e)}function FI(t,e,n,r){return Dk(t.writeTree,t.treePath,e,n,r)}function Gc(t,e){return Sk(t.writeTree,fe(t.treePath,e))}function Nk(t,e,n,r,i,o){return Ak(t.writeTree,t.treePath,e,n,r,i,o)}function Op(t,e,n){return Tk(t.writeTree,t.treePath,e,n)}function NE(t,e){return RE(fe(t.treePath,e),t.writeTree)}function RE(t,e){return{treePath:t,writeTree:e}}var sp=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;m(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),m(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,Jo(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,Zo(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,ai(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,Jo(r,e.snapshotNode,i.oldSnap));else throw Bn("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var ap=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},xE=new ap,es=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new Kt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Op(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:er(this.viewCache_),o=Nk(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}};function Rk(t){return{filter:t}}function xk(t,e){m(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),m(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Pk(t,e,n,r,i){let o=new sp,s,a;if(n.type===xt.OVERWRITE){let l=n;l.source.fromUser?s=cp(t,e,l.path,l.snap,r,i,o):(m(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!j(l.path),s=qc(t,e,l.path,l.snap,r,i,a,o))}else if(n.type===xt.MERGE){let l=n;l.source.fromUser?s=kk(t,e,l.path,l.children,r,i,o):(m(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=lp(t,e,l.path,l.children,r,i,a,o))}else if(n.type===xt.ACK_USER_WRITE){let l=n;l.revert?s=jk(t,e,l.path,r,i,o):s=Lk(t,e,l.path,l.affectedTree,r,i,o)}else if(n.type===xt.LISTEN_COMPLETE)s=Fk(t,e,n.path,r,o);else throw Bn("Unknown operation type: "+n.type);let c=o.getChanges();return Ok(e,s,c),{viewCache:s,changes:c}}function Ok(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=rp(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(CE(rp(e)))}}function PE(t,e,n,r,i,o){let s=e.eventCache;if(Gc(r,n)!=null)return e;{let a,c;if(j(n))if(m(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let l=er(e),u=l instanceof P?l:P.EMPTY_NODE,d=Pp(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{let l=zc(r,er(e));a=t.filter.updateFullNode(e.eventCache.getNode(),l,o)}else{let l=F(n);if(l===".priority"){m(In(n)===1,"Can't have a priority with additional path components");let u=s.getNode();c=e.serverCache.getNode();let d=FI(r,n,u,c);d!=null?a=t.filter.updatePriority(u,d):a=s.getNode()}else{let u=X(n),d;if(s.isCompleteForChild(l)){c=e.serverCache.getNode();let f=FI(r,n,s.getNode(),c);f!=null?d=s.getNode().getImmediateChild(l).updateChild(u,f):d=s.getNode().getImmediateChild(l)}else d=Op(r,l,e.serverCache);d!=null?a=t.filter.updateChild(s.getNode(),l,d,u,i,o):a=s.getNode()}}return Ko(e,a,s.isFullyInitialized()||j(n),t.filter.filtersNodes())}}function qc(t,e,n,r,i,o,s,a){let c=e.serverCache,l,u=s?t.filter:t.filter.getIndexedFilter();if(j(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){let h=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),h,null)}else{let h=F(n);if(!c.isCompleteForPath(n)&&In(n)>1)return e;let p=X(n),R=c.getNode().getImmediateChild(h).updateChild(p,r);h===".priority"?l=u.updatePriority(c.getNode(),R):l=u.updateChild(c.getNode(),h,R,p,xE,null)}let d=TE(e,l,c.isFullyInitialized()||j(n),u.filtersNodes()),f=new es(i,d,o);return PE(t,d,n,i,f,a)}function cp(t,e,n,r,i,o,s){let a=e.eventCache,c,l,u=new es(i,e,o);if(j(n))l=t.filter.updateFullNode(e.eventCache.getNode(),r,s),c=Ko(e,l,!0,t.filter.filtersNodes());else{let d=F(n);if(d===".priority")l=t.filter.updatePriority(e.eventCache.getNode(),r),c=Ko(e,l,a.isFullyInitialized(),a.isFiltered());else{let f=X(n),h=a.getNode().getImmediateChild(d),p;if(j(f))p=r;else{let w=u.getCompleteChild(d);w!=null?gE(f)===".priority"&&w.getChild(vE(f)).isEmpty()?p=w:p=w.updateChild(f,r):p=P.EMPTY_NODE}if(h.equals(p))c=e;else{let w=t.filter.updateChild(a.getNode(),d,p,f,u,s);c=Ko(e,w,a.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function jI(t,e){return t.eventCache.isCompleteForChild(e)}function kk(t,e,n,r,i,o,s){let a=e;return r.foreach((c,l)=>{let u=fe(n,c);jI(e,F(u))&&(a=cp(t,a,u,l,i,o,s))}),r.foreach((c,l)=>{let u=fe(n,c);jI(e,F(u))||(a=cp(t,a,u,l,i,o,s))}),a}function UI(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function lp(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,l;j(n)?l=r:l=new xe(null).setTree(n,r);let u=e.serverCache.getNode();return l.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=e.serverCache.getNode().getImmediateChild(d),p=UI(t,h,f);c=qc(t,c,new Z(d),p,i,o,s,a)}}),l.children.inorderTraversal((d,f)=>{let h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let p=e.serverCache.getNode().getImmediateChild(d),w=UI(t,p,f);c=qc(t,c,new Z(d),w,i,o,s,a)}}),c}function Lk(t,e,n,r,i,o,s){if(Gc(i,n)!=null)return e;let a=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(j(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return qc(t,e,n,c.getNode().getChild(n),i,o,a,s);if(j(n)){let l=new xe(null);return c.getNode().forEachChild(ti,(u,d)=>{l=l.set(new Z(u),d)}),lp(t,e,n,l,i,o,a,s)}else return e}else{let l=new xe(null);return r.foreach((u,d)=>{let f=fe(n,u);c.isCompleteForPath(f)&&(l=l.set(u,c.getNode().getChild(f)))}),lp(t,e,n,l,i,o,a,s)}}function Fk(t,e,n,r,i){let o=e.serverCache,s=TE(e,o.getNode(),o.isFullyInitialized()||j(n),o.isFiltered());return PE(t,s,n,r,xE,i)}function jk(t,e,n,r,i,o){let s;if(Gc(r,n)!=null)return e;{let a=new es(r,e,i),c=e.eventCache.getNode(),l;if(j(n)||F(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=zc(r,er(e));else{let d=e.serverCache.getNode();m(d instanceof P,"serverChildren would be complete if leaf node"),u=Pp(r,d)}u=u,l=t.filter.updateFullNode(c,u,o)}else{let u=F(n),d=Op(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),d!=null?l=t.filter.updateChild(c,u,d,X(n),a,o):e.eventCache.getNode().hasChild(u)?l=t.filter.updateChild(c,u,P.EMPTY_NODE,X(n),a,o):l=c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=zc(r,er(e)),s.isLeafNode()&&(l=t.filter.updateFullNode(l,s,o)))}return s=e.serverCache.isFullyInitialized()||Gc(r,K())!=null,Ko(e,l,s,t.filter.filtersNodes())}}var up=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new Xo(r.getIndex()),o=uk(r);this.processor_=Rk(o);let s=n.serverCache,a=n.eventCache,c=i.updateFullNode(P.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(P.EMPTY_NODE,a.getNode(),null),u=new Kt(c,s.isFullyInitialized(),i.filtersNodes()),d=new Kt(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=tl(d,u),this.eventGenerator_=new np(this.query_)}get query(){return this.query_}};function Uk(t){return t.viewCache_.serverCache.getNode()}function Vk(t,e){let n=er(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!j(e)&&!n.getImmediateChild(F(e)).isEmpty())?n.getChild(e):null}function VI(t){return t.eventRegistrations_.length===0}function $k(t,e){t.eventRegistrations_.push(e)}function $I(t,e,n){let r=[];if(n){m(e==null,"A cancel should cancel all event registrations.");let i=t.query._path;t.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){let s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function BI(t,e,n,r){e.type===xt.MERGE&&e.source.queryId!==null&&(m(er(t.viewCache_),"We should always have a full cache before handling merges"),m(rp(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,o=Pk(t.processor_,i,e,n,r);return xk(t.processor_,o.viewCache),m(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,OE(t,o.changes,o.viewCache.eventCache.getNode(),null)}function Bk(t,e){let n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(re,(o,s)=>{r.push(ai(o,s))}),n.isFullyInitialized()&&r.push(CE(n.getNode())),OE(t,r,n.getNode(),e)}function OE(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return pk(t.eventGenerator_,e,n,i)}var Kc,dp=class{constructor(){this.views=new Map}};function Hk(t){m(!Kc,"__referenceConstructor has already been defined"),Kc=t}function Wk(){return m(Kc,"Reference.ts has not been loaded"),Kc}function zk(t){return t.views.size===0}function kp(t,e,n,r){let i=e.source.queryId;if(i!==null){let o=t.views.get(i);return m(o!=null,"SyncTree gave us an op for an invalid query."),BI(o,e,n,r)}else{let o=[];for(let s of t.views.values())o=o.concat(BI(s,e,n,r));return o}}function Gk(t,e,n,r,i){let o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=zc(n,i?r:null),c=!1;a?c=!0:r instanceof P?(a=Pp(n,r),c=!1):(a=P.EMPTY_NODE,c=!1);let l=tl(new Kt(a,c,!1),new Kt(r,i,!1));return new up(e,l)}return s}function qk(t,e,n,r,i,o){let s=Gk(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),$k(s,n),Bk(s,n)}function Kk(t,e,n,r){let i=e._queryIdentifier,o=[],s=[],a=En(t);if(i==="default")for(let[c,l]of t.views.entries())s=s.concat($I(l,n,r)),VI(l)&&(t.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{let c=t.views.get(i);c&&(s=s.concat($I(c,n,r)),VI(c)&&(t.views.delete(i),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!En(t)&&o.push(new(Wk())(e._repo,e._path)),{removed:o,events:s}}function kE(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ni(t,e){let n=null;for(let r of t.views.values())n=n||Vk(r,e);return n}function LE(t,e){if(e._queryParams.loadsAllData())return nl(t);{let r=e._queryIdentifier;return t.views.get(r)}}function FE(t,e){return LE(t,e)!=null}function En(t){return nl(t)!=null}function nl(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var Yc;function Yk(t){m(!Yc,"__referenceConstructor has already been defined"),Yc=t}function Qk(){return m(Yc,"Reference.ts has not been loaded"),Yc}var Zk=1,Qc=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new xe(null),this.pendingWriteTree_=Mk(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function Jk(t,e,n,r,i){return yk(t.pendingWriteTree_,e,n,r,i),i?as(t,new ci(DE(),e,n)):[]}function Xr(t,e,n=!1){let r=_k(t.pendingWriteTree_,e);if(wk(t.pendingWriteTree_,e)){let o=new xe(null);return r.snap!=null?o=o.set(K(),!0):Re(r.children,s=>{o=o.set(new Z(s),!0)}),as(t,new tp(r.path,o,n))}else return[]}function rl(t,e,n){return as(t,new ci(Np(),e,n))}function Xk(t,e,n){let r=xe.fromObject(n);return as(t,new Wc(Np(),e,r))}function eL(t,e){return as(t,new Hc(Np(),e))}function tL(t,e,n){let r=Lp(t,n);if(r){let i=Fp(r),o=i.path,s=i.queryId,a=Ne(o,e),c=new Hc(Rp(s),a);return jp(t,o,c)}else return[]}function fp(t,e,n,r,i=!1){let o=e._path,s=t.syncPointTree_.get(o),a=[];if(s&&(e._queryIdentifier==="default"||FE(s,e))){let c=Kk(s,e,n,r);zk(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));let l=c.removed;if(a=c.events,!i){let u=l.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(o,(f,h)=>En(h));if(u&&!d){let f=t.syncPointTree_.subtree(o);if(!f.isEmpty()){let h=iL(f);for(let p=0;p<h.length;++p){let w=h[p],R=w.query,O=$E(t,w);t.listenProvider_.startListening(Qo(R),Zc(t,R),O.hashFn,O.onComplete)}}}!d&&l.length>0&&!r&&(u?t.listenProvider_.stopListening(Qo(e),null):l.forEach(f=>{let h=t.queryToTagMap.get(il(f));t.listenProvider_.stopListening(Qo(f),h)}))}oL(t,l)}return a}function nL(t,e,n,r){let i=Lp(t,r);if(i!=null){let o=Fp(i),s=o.path,a=o.queryId,c=Ne(s,e),l=new ci(Rp(a),c,n);return jp(t,s,l)}else return[]}function rL(t,e,n,r){let i=Lp(t,r);if(i){let o=Fp(i),s=o.path,a=o.queryId,c=Ne(s,e),l=xe.fromObject(n),u=new Wc(Rp(a),c,l);return jp(t,s,u)}else return[]}function HI(t,e,n,r=!1){let i=e._path,o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(f,h)=>{let p=Ne(f,i);o=o||ni(h,p),s=s||En(h)});let a=t.syncPointTree_.get(i);a?(s=s||En(a),o=o||ni(a,K())):(a=new dp,t.syncPointTree_=t.syncPointTree_.set(i,a));let c;o!=null?c=!0:(c=!1,o=P.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((h,p)=>{let w=ni(p,K());w&&(o=o.updateImmediateChild(h,w))}));let l=FE(a,e);if(!l&&!e._queryParams.loadsAllData()){let f=il(e);m(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");let h=sL();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}let u=xp(t.pendingWriteTree_,i),d=qk(a,e,n,u,o,c);if(!l&&!s&&!r){let f=LE(a,e);d=d.concat(aL(t,e,f))}return d}function jE(t,e,n){let i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{let c=Ne(s,e),l=ni(a,c);if(l)return l});return ME(i,e,o,n,!0)}function as(t,e){return UE(e,t.syncPointTree_,null,xp(t.pendingWriteTree_,K()))}function UE(t,e,n,r){if(j(t.path))return VE(t,e,n,r);{let i=e.get(K());n==null&&i!=null&&(n=ni(i,K()));let o=[],s=F(t.path),a=t.operationForChild(s),c=e.children.get(s);if(c&&a){let l=n?n.getImmediateChild(s):null,u=NE(r,s);o=o.concat(UE(a,c,l,u))}return i&&(o=o.concat(kp(i,t,r,n))),o}}function VE(t,e,n,r){let i=e.get(K());n==null&&i!=null&&(n=ni(i,K()));let o=[];return e.children.inorderTraversal((s,a)=>{let c=n?n.getImmediateChild(s):null,l=NE(r,s),u=t.operationForChild(s);u&&(o=o.concat(VE(u,a,c,l)))}),i&&(o=o.concat(kp(i,t,r,n))),o}function $E(t,e){let n=e.query,r=Zc(t,n);return{hashFn:()=>(Uk(e)||P.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?tL(t,n._path,r):eL(t,n._path);{let o=IO(i,n);return fp(t,n,null,o)}}}}function Zc(t,e){let n=il(e);return t.queryToTagMap.get(n)}function il(t){return t._path.toString()+"$"+t._queryIdentifier}function Lp(t,e){return t.tagToQueryMap.get(e)}function Fp(t){let e=t.indexOf("$");return m(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Z(t.substr(0,e))}}function jp(t,e,n){let r=t.syncPointTree_.get(e);m(r,"Missing sync point for query tag that we're tracking");let i=xp(t.pendingWriteTree_,e);return kp(r,n,i,null)}function iL(t){return t.fold((e,n,r)=>{if(n&&En(n))return[nl(n)];{let i=[];return n&&(i=kE(n)),Re(r,(o,s)=>{i=i.concat(s)}),i}})}function Qo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(Qk())(t._repo,t._path):t}function oL(t,e){for(let n=0;n<e.length;++n){let r=e[n];if(!r._queryParams.loadsAllData()){let i=il(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function sL(){return Zk++}function aL(t,e,n){let r=e._path,i=Zc(t,e),o=$E(t,n),s=t.listenProvider_.startListening(Qo(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)m(!En(a.value),"If we're adding a query, it shouldn't be shadowed");else{let c=a.fold((l,u,d)=>{if(!j(l)&&u&&En(u))return[nl(u).query];{let f=[];return u&&(f=f.concat(kE(u).map(h=>h.query))),Re(d,(h,p)=>{f=f.concat(p)}),f}});for(let l=0;l<c.length;++l){let u=c[l];t.listenProvider_.stopListening(Qo(u),Zc(t,u))}}return s}var hp=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},pp=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=fe(this.path_,e);return new t(this.syncTree_,n)}node(){return jE(this.syncTree_,this.path_)}},cL=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},WI=function(t,e,n){if(!t||typeof t!="object")return t;if(m(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return lL(t[".sv"],e,n);if(typeof t[".sv"]=="object")return uL(t[".sv"],e);m(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},lL=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:m(!1,"Unexpected server value: "+t)}},uL=function(t,e,n){t.hasOwnProperty("increment")||m(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&m(!1,"Unexpected increment value: "+r);let i=e.node();if(m(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},dL=function(t,e,n,r){return Up(e,new pp(n,t),r)},fL=function(t,e,n){return Up(t,new hp(e),n)};function Up(t,e,n){let r=t.getPriority().val(),i=WI(r,e.getImmediateChild(".priority"),n),o;if(t.isLeafNode()){let s=t,a=WI(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new oi(a,we(i)):t}else{let s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new oi(i))),s.forEachChild(re,(a,c)=>{let l=Up(c,e.getImmediateChild(a),n);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}var ts=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function Vp(t,e){let n=e instanceof Z?e:new Z(e),r=t,i=F(n);for(;i!==null;){let o=Hn(r.node.children,i)||{children:{},childCount:0};r=new ts(i,r,o),n=X(n),i=F(n)}return r}function di(t){return t.node.value}function BE(t,e){t.node.value=e,gp(t)}function HE(t){return t.node.childCount>0}function hL(t){return di(t)===void 0&&!HE(t)}function ol(t,e){Re(t.node.children,(n,r)=>{e(new ts(n,t,r))})}function WE(t,e,n,r){n&&!r&&e(t),ol(t,i=>{WE(i,e,!0,r)}),n&&r&&e(t)}function pL(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function cs(t){return new Z(t.parent===null?t.name:cs(t.parent)+"/"+t.name)}function gp(t){t.parent!==null&&gL(t.parent,t.name,t)}function gL(t,e,n){let r=hL(n),i=Mt(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,gp(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,gp(t))}var mL=/[\[\].#$\/\u0000-\u001F\u007F]/,vL=/[\[\].#$\u0000-\u001F\u007F]/,Dh=10*1024*1024,zE=function(t){return typeof t=="string"&&t.length!==0&&!mL.test(t)},GE=function(t){return typeof t=="string"&&t.length!==0&&!vL.test(t)},yL=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),GE(t)};var qE=function(t,e,n){let r=n instanceof Z?new Uh(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Qn(r));if(typeof e=="function")throw new Error(t+"contains a function "+Qn(r)+" with contents = "+e.toString());if(ZI(e))throw new Error(t+"contains "+e.toString()+" "+Qn(r));if(typeof e=="string"&&e.length>Dh/3&&So(e)>Dh)throw new Error(t+"contains a string greater than "+Dh+" utf8 bytes "+Qn(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(Re(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!zE(s)))throw new Error(t+" contains an invalid key ("+s+") "+Qn(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);QO(r,s),qE(t,a,r),ZO(r)}),i&&o)throw new Error(t+' contains ".value" child '+Qn(r)+" in addition to actual children.")}};var KE=function(t,e,n,r){if(!(r&&n===void 0)&&!GE(n))throw new Error($f(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},_L=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),KE(t,e,n,r)};var wL=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!zE(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!yL(n))throw new Error($f(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var mp=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function YE(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],o=i.getPath();n!==null&&!Sp(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function QE(t,e,n){YE(t,n),ZE(t,r=>Sp(r,e))}function nr(t,e,n){YE(t,n),ZE(t,r=>gt(r,e)||gt(e,r))}function ZE(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let o=i.path;e(o)?(IL(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function IL(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();Jn&&_e("event: "+n.toString()),os(r)}}}var EL="repo_interrupt",CL=25,vp=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new mp,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Bc(),this.transactionQueueTree_=new ts,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function bL(t,e,n){if(t.stats_=Tp(t.repoInfo_),t.forceRestClient_||DO())t.server_=new Qh(t.repoInfo_,(r,i,o,s)=>{zI(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>GI(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{de(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Ap(t.repoInfo_,e,(r,i,o,s)=>{zI(t,r,i,o,s)},r=>{GI(t,r)},r=>{TL(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=SO(t.repoInfo_,()=>new ep(t.stats_,t.server_)),t.infoData_=new Zh,t.infoSyncTree_=new Qc({startListening:(r,i,o,s)=>{let a=[],c=t.infoData_.getNode(r._path);return c.isEmpty()||(a=rl(t.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),$p(t,"connected",!1),t.serverSyncTree_=new Qc({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,c)=>{let l=s(a,c);nr(t.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function DL(t){let n=t.infoData_.getNode(new Z(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function JE(t){return cL({timestamp:DL(t)})}function zI(t,e,n,r,i){t.dataUpdateCount++;let o=new Z(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){let c=bo(n,l=>we(l));s=rL(t.serverSyncTree_,o,c,i)}else{let c=we(n);s=nL(t.serverSyncTree_,o,c,i)}else if(r){let c=bo(n,l=>we(l));s=Xk(t.serverSyncTree_,o,c)}else{let c=we(n);s=rl(t.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=Hp(t,o)),nr(t.eventQueue_,a,s)}function GI(t,e){$p(t,"connected",e),e===!1&&AL(t)}function TL(t,e){Re(e,(n,r)=>{$p(t,n,r)})}function $p(t,e,n){let r=new Z("/.info/"+e),i=we(n);t.infoData_.updateSnapshot(r,i);let o=rl(t.infoSyncTree_,r,i);nr(t.eventQueue_,r,o)}function SL(t){return t.nextWriteId_++}function AL(t){XE(t,"onDisconnectEvents");let e=JE(t),n=Bc();Jh(t.onDisconnect_,K(),(i,o)=>{let s=dL(i,o,t.serverSyncTree_,e);bE(n,i,s)});let r=[];Jh(n,K(),(i,o)=>{r=r.concat(rl(t.serverSyncTree_,i,o));let s=PL(t,i);Hp(t,s)}),t.onDisconnect_=Bc(),nr(t.eventQueue_,K(),r)}function ML(t,e,n){let r;F(e._path)===".info"?r=HI(t.infoSyncTree_,e,n):r=HI(t.serverSyncTree_,e,n),QE(t.eventQueue_,e._path,r)}function qI(t,e,n){let r;F(e._path)===".info"?r=fp(t.infoSyncTree_,e,n):r=fp(t.serverSyncTree_,e,n),QE(t.eventQueue_,e._path,r)}function NL(t){t.persistentConnection_&&t.persistentConnection_.interrupt(EL)}function XE(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),_e(n,...e)}function eC(t,e,n){return jE(t.serverSyncTree_,e,n)||P.EMPTY_NODE}function Bp(t,e=t.transactionQueueTree_){if(e||sl(t,e),di(e)){let n=nC(t,e);m(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&RL(t,cs(e),n)}else HE(e)&&ol(e,n=>{Bp(t,n)})}function RL(t,e,n){let r=n.map(l=>l.currentWriteId),i=eC(t,e,r),o=i,s=i.hash();for(let l=0;l<n.length;l++){let u=n[l];m(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=Ne(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),c=e;t.server_.put(c.toString(),a,l=>{XE(t,"transaction put response",{path:c.toString(),status:l});let u=[];if(l==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(Xr(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();sl(t,Vp(t.transactionQueueTree_,e)),Bp(t,t.transactionQueueTree_),nr(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)os(d[f])}else{if(l==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{qe("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}Hp(t,e)}},s)}function Hp(t,e){let n=tC(t,e),r=cs(n),i=nC(t,n);return xL(t,i,r),r}function xL(t,e,n){if(e.length===0)return;let r=[],i=[],s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let c=e[a],l=Ne(n,c.path),u=!1,d;if(m(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,d=c.abortReason,i=i.concat(Xr(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=CL)u=!0,d="maxretry",i=i.concat(Xr(t.serverSyncTree_,c.currentWriteId,!0));else{let f=eC(t,c.path,s);c.currentInputSnapshot=f;let h=e[a].update(f.val());if(h!==void 0){qE("transaction failed: Data returned ",h,c.path);let p=we(h);typeof h=="object"&&h!=null&&Mt(h,".priority")||(p=p.updatePriority(f.getPriority()));let R=c.currentWriteId,O=JE(t),ie=fL(p,f,O);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=ie,c.currentWriteId=SL(t),s.splice(s.indexOf(R),1),i=i.concat(Jk(t.serverSyncTree_,c.path,ie,c.currentWriteId,c.applyLocally)),i=i.concat(Xr(t.serverSyncTree_,R,!0))}else u=!0,d="nodata",i=i.concat(Xr(t.serverSyncTree_,c.currentWriteId,!0))}nr(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}sl(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)os(r[a]);Bp(t,t.transactionQueueTree_)}function tC(t,e){let n,r=t.transactionQueueTree_;for(n=F(e);n!==null&&di(r)===void 0;)r=Vp(r,n),e=X(e),n=F(e);return r}function nC(t,e){let n=[];return rC(t,e,n),n.sort((r,i)=>r.order-i.order),n}function rC(t,e,n){let r=di(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);ol(e,i=>{rC(t,i,n)})}function sl(t,e){let n=di(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,BE(e,n.length>0?n:void 0)}ol(e,r=>{sl(t,r)})}function PL(t,e){let n=cs(tC(t,e)),r=Vp(t.transactionQueueTree_,e);return pL(r,i=>{Th(t,i)}),Th(t,r),WE(r,i=>{Th(t,i)}),n}function Th(t,e){let n=di(e);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(m(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(m(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(Xr(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?BE(e,void 0):n.length=o+1,nr(t.eventQueue_,cs(e),i);for(let s=0;s<r.length;s++)os(r[s])}}function OL(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function kL(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):qe(`Invalid query segment '${n}' in query '${t}'`)}return e}var KI=function(t,e){let n=LL(t),r=n.namespace;n.domain==="firebase.com"&&qt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&qt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||mO();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Oc(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Z(n.pathString)}},LL=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",c=443;if(typeof t=="string"){let l=t.indexOf("//");l>=0&&(a=t.substring(0,l-1),t=t.substring(l+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=OL(t.substring(u,d)));let f=kL(t.substring(Math.min(t.length,d)));l=e.indexOf(":"),l>=0?(s=a==="https"||a==="wss",c=parseInt(e.substring(l+1),10)):l=e.length;let h=e.slice(0,l);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),o=r}"ns"in f&&(o=f.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var Jc=class{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+de(this.snapshot.exportVal())}},Xc=class{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var yp=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return m(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var _p=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return j(this._path)?null:gE(this._path)}get ref(){return new Yt(this._repo,this._path)}get _queryIdentifier(){let e=xI(this._queryParams),n=Dp(e);return n==="{}"?"default":n}get _queryObject(){return xI(this._queryParams)}isEqual(e){if(e=Nt(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=Sp(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+YO(this._path)}};var Yt=class t extends _p{constructor(e,n){super(e,n,new Yh,!1)}get parent(){let e=vE(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},el=class t{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new Z(e),r=ns(this.ref,e);return new t(this._node.getChild(n),r,re)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new t(i,ns(this.ref,r),re)))}hasChild(e){let n=new Z(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function iC(t,e){return t=Nt(t),t._checkNotDeleted("ref"),e!==void 0?ns(t._root,e):t._root}function ns(t,e){return t=Nt(t),F(t._path)===null?_L("child","path",e,!1):KE("child","path",e,!1),new Yt(t._repo,fe(t._path,e))}var wp=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let r=n._queryParams.getIndex();return new Jc("value",this,new el(e.snapshotNode,new Yt(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Xc(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},Ip=class t{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new Xc(this,e,n):null}createEvent(e,n){m(e.childName!=null,"Child events should have a childName.");let r=ns(new Yt(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new Jc(e.type,this,new el(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function FL(t,e,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){let c=n,l=(u,d)=>{qI(t._repo,t,a),c(u,d)};l.userCallback=n.userCallback,l.context=n.context,n=l}let s=new yp(n,o||void 0),a=e==="value"?new wp(s):new Ip(e,s);return ML(t._repo,t,a),()=>qI(t._repo,t,a)}function oC(t,e,n,r){return FL(t,"value",e,n,r)}Hk(Yt);Yk(Yt);var jL="FIREBASE_DATABASE_EMULATOR_HOST",Ep={},UL=!1;function VL(t,e,n,r){t.repoInfo_=new Oc(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function $L(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||qt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_e("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=KI(o,i),a=s.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[jL]),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=KI(o,i),a=s.repoInfo):c=!s.repoInfo.secure;let u=i&&c?new qo(qo.OWNER):new xh(t.name,t.options,e);wL("Invalid Firebase Database URL",s),j(s.path)||qt("Database URL must point to the root of a Firebase Database (not including a child path).");let d=HL(a,t,u,new Rh(t.name,n));return new Cp(d,t)}function BL(t,e){let n=Ep[e];(!n||n[t.key]!==t)&&qt(`Database ${e}(${t.repoInfo_}) has already been deleted.`),NL(t),delete n[t.key]}function HL(t,e,n,r){let i=Ep[e.name];i||(i={},Ep[e.name]=i);let o=i[t.toURLString()];return o&&qt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new vp(t,UL,n,r),i[t.toURLString()]=o,o}var Cp=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(bL(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Yt(this._repo,K())),this._rootInternal}_delete(){return this._rootInternal!==null&&(BL(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&qt("Cannot call "+e+" on a deleted database.")}};function sC(t=Ro(),e){let n=th(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=Cw("database");r&&aC(n,...r)}return n}function aC(t,e,n,r={}){t=Nt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&qt("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&qt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new qo(qo.OWNER);else if(r.mockUserToken){let s=typeof r.mockUserToken=="string"?r.mockUserToken:Dw(r.mockUserToken,t.app.options.projectId);o=new qo(s)}VL(i,e,n,o)}function WL(t){hO(Kr),yn(new nt("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return $L(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),ge(gI,mI,t),ge(gI,mI,"esm2017")}Ap.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Ap.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};WL();var rr=class{constructor(e){return e}},cC="database",Wp=class{constructor(){return Po(cC)}};var zp=new D("angularfire2.database-instances");function zL(t,e){let n=ih(cC,t,e);return n&&new rr(n)}function GL(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new rr(r)}}var qL={provide:Wp,deps:[[new Je,zp]]},KL={provide:rr,useFactory:zL,deps:[[new Je,zp],qn]};function lC(t,...e){return ge("angularfire",Qr.full,"rtdb"),Vt([KL,qL,{provide:zp,useFactory:GL(t),multi:!0,deps:[W,be,Oo,ko,[new Je,Rc],[new Je,xo],...e]}])}var uC=Gn(sC,!0);var dC=Gn(oC,!0);var fC=Gn(iC,!0);var al=class{constructor(e,n,r,i){this.Name="",this.Description="",this.ImageLink="",this.GameLink="",this.Name=e,this.Description=n,this.ImageLink=r,this.GameLink=i}};var cl=class{constructor(e,n,r,i){this.Name="",this.Description="",this.ImageLink="",this.ProjectLink="",this.Name=e,this.Description=n,this.ImageLink=r,this.ProjectLink=i}};var hC=(()=>{let e=class e{constructor(){this.imageUrl="",this.title="",this.description="",this.link="",this.linkText=""}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ue({type:e,selectors:[["app-card"]],inputs:{imageUrl:"imageUrl",title:"title",description:"description",link:"link",linkText:"linkText"},decls:10,vars:4,consts:[[1,"main"],["alt","",3,"src"],[2,"width","90%"],[2,"text-align","center"],["target","_blank",3,"href"]],template:function(i,o){i&1&&(v(0,"div",0),T(1,"img",1),v(2,"div",2)(3,"h3",3),C(4),y(),v(5,"p"),C(6),y(),v(7,"a",4)(8,"div"),C(9,"READ MORE ->"),y()()()()),i&2&&(et(),$t("src",o.imageUrl,od),et(3),Pa(o.title),et(2),Pa(o.description),et(),$t("href",o.link,od))},styles:[".main[_ngcontent-%COMP%]{border-radius:10px;margin:40px;max-width:330px;width:95%;display:flex;justify-content:space-between;align-items:center;flex-direction:column;transition-duration:.1s;text-align:justify;box-shadow:0 0 50px #ffffff03;color:#ffffffb3;cursor:pointer}.main[_ngcontent-%COMP%]:hover{scale:1.05;background-color:#ffffff1a;box-shadow:0 0 50px #fff3;color:#fff}img[_ngcontent-%COMP%]{border-radius:10px 10px 0 0;width:100%;height:180px}a[_ngcontent-%COMP%]{text-decoration:none;color:inherit;text-align:end;background-color:#f0f8ff}a[_ngcontent-%COMP%]:hover{scale:1.1}p[_ngcontent-%COMP%]{font-size:100%}"]});let t=e;return t})();function ZL(t,e){if(t&1&&(v(0,"div"),T(1,"app-card",9),y()),t&2){let n=e.$implicit;et(),$t("imageUrl",n.ImageLink)("title",n.Name)("description",n.Description)("link",n.GameLink)}}function JL(t,e){if(t&1&&(v(0,"div"),T(1,"app-card",9),y()),t&2){let n=e.$implicit;et(),$t("imageUrl",n.ImageLink)("title",n.Name)("description",n.Description)("link",n.ProjectLink)}}var pC=(()=>{let e=class e{constructor(r){this.dataBase=r,this.gameDetails=[],this.projectDetails=[],this.getProjectsFromFirebase()}getProjectsFromFirebase(){let r=fC(this.dataBase,"project");dC(r,i=>{let o=i.val();o?(Object.keys(o).forEach(s=>{let a=o[s];a.ProjectCategoryu==="Game"?this.gameDetails.unshift(new al(a.ProjectName,a.ProjectDescription,a.ProjectImageLink,a.ProjectLink)):this.projectDetails.unshift(new cl(a.ProjectName,a.ProjectDescription,a.ProjectImageLink,a.ProjectLink))}),console.log("Game Details:",this.gameDetails),console.log("Project Details:",this.projectDetails)):console.log("No data available")})}};e.\u0275fac=function(i){return new(i||e)(dn(rr))},e.\u0275cmp=ue({type:e,selectors:[["app-projects"]],decls:13,vars:2,consts:[[2,"display","flex","justify-content","center","align-items","center","flex-direction","column"],["id","games"],[2,"text-align","center","margin-top","200px"],[2,"width","30%","height","3px","background-color","rgba(255, 255, 255, 0.2)","border-radius","20px"],[2,"display","flex","justify-content","center","flex-wrap","wrap","width","98%"],[4,"ngFor","ngForOf"],["id","projects"],[2,"text-align","center","margin-top","100px"],[2,"width","30%","height","3px","background-color","rgba(255, 255, 255, 0.2)","margin-bottom","50px","border-radius","20px"],[3,"imageUrl","title","description","link"]],template:function(i,o){i&1&&(v(0,"div",0),T(1,"div",1),v(2,"h1",2),C(3,"GAMES"),y(),T(4,"div",3),v(5,"div",4),xa(6,ZL,2,4,"div",5),y(),T(7,"div",6),v(8,"h1",7),C(9,"PROJECTS"),y(),T(10,"div",8),v(11,"div",4),xa(12,JL,2,4,"div",5),y()()),i&2&&(et(6),$t("ngForOf",o.gameDetails),et(6),$t("ngForOf",o.projectDetails))},dependencies:[e_,hC]});let t=e;return t})();var gC=(()=>{let e=class e{constructor(){this.title="portfolio2"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ue({type:e,selectors:[["app-root"]],decls:12,vars:0,consts:[["id","home"],["id","services"],["id","contact",2,"margin-bottom","200px"]],template:function(i,o){i&1&&T(0,"app-navbar")(1,"app-home",0)(2,"app-projects")(3,"app-services",1)(4,"app-me")(5,"div",2)(6,"br")(7,"br")(8,"br")(9,"br")(10,"br")(11,"app-contact")},dependencies:[hw,pw,gw,mw,vw,pC]});let t=e;return t})();var mC=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=He({type:t});static \u0275inj=Be({imports:[$a]})}return t})();var vC="AIzaSyCyO9aapJzt7ebk62P6QbKfc1ayy_pywsc";var yC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=He({type:e,bootstrap:[gC]}),e.\u0275inj=Be({providers:[E_(),Yw(()=>Qw({projectId:"portfolio-projects-83398",appId:"1:890483621302:web:994c5cbaadb2f1d8381517",databaseURL:"https://portfolio-projects-83398-default-rtdb.firebaseio.com",storageBucket:"portfolio-projects-83398.appspot.com",apiKey:vC,authDomain:"portfolio-projects-83398.firebaseapp.com",messagingSenderId:"890483621302",measurementId:"G-4B9GFJ0WH8"})),lC(()=>uC())],imports:[w_,fw,mC]});let t=e;return t})();__().bootstrapModule(yC).catch(t=>console.error(t));

var EC=Object.defineProperty,CC=Object.defineProperties;var bC=Object.getOwnPropertyDescriptors;var fs=Object.getOwnPropertySymbols;var Qp=Object.prototype.hasOwnProperty,Zp=Object.prototype.propertyIsEnumerable;var Yp=(t,e,n)=>e in t?EC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,I=(t,e)=>{for(var n in e||={})Qp.call(e,n)&&Yp(t,n,e[n]);if(fs)for(var n of fs(e))Zp.call(e,n)&&Yp(t,n,e[n]);return t},ne=(t,e)=>CC(t,bC(e));var Jp=(t,e)=>{var n={};for(var r in t)Qp.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&fs)for(var r of fs(t))e.indexOf(r)<0&&Zp.call(t,r)&&(n[r]=t[r]);return n};var _=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});var Xp=null;var pl=1,eg=Symbol("SIGNAL");function G(t){let e=Xp;return Xp=t,e}var tg={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function DC(t){if(!(vl(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===pl)){if(!t.producerMustRecompute(t)&&!gl(t)){t.dirty=!1,t.lastCleanEpoch=pl;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=pl}}function ng(t){return t&&(t.nextProducerIndex=0),G(t)}function rg(t,e){if(G(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(vl(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)ml(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function gl(t){hs(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(DC(n),r!==n.version))return!0}return!1}function ig(t){if(hs(t),vl(t))for(let e=0;e<t.producerNode.length;e++)ml(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function ml(t,e){if(TC(t),hs(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)ml(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];hs(i),i.producerIndexOfThis[r]=e}}function vl(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function hs(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function TC(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function SC(){throw new Error}var AC=SC;function og(t){AC=t}function N(t){return typeof t=="function"}function ar(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ps=ar(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Dn(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var se=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(N(r))try{r()}catch(o){e=o instanceof ps?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{sg(o)}catch(s){e=e??[],s instanceof ps?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ps(e)}}add(e){var n;if(e&&e!==this)if(this.closed)sg(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Dn(n,e)}remove(e){let{_finalizers:n}=this;n&&Dn(n,e),e instanceof t&&e._removeParent(this)}};se.EMPTY=(()=>{let t=new se;return t.closed=!0,t})();var yl=se.EMPTY;function gs(t){return t instanceof se||t&&"closed"in t&&N(t.remove)&&N(t.add)&&N(t.unsubscribe)}function sg(t){N(t)?t():t.unsubscribe()}var ct={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var cr={setTimeout(t,e,...n){let{delegate:r}=cr;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=cr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function ms(t){cr.setTimeout(()=>{let{onUnhandledError:e}=ct;if(e)e(t);else throw t})}function vi(){}var ag=_l("C",void 0,void 0);function cg(t){return _l("E",void 0,t)}function lg(t){return _l("N",t,void 0)}function _l(t,e,n){return{kind:t,value:e,error:n}}var Tn=null;function lr(t){if(ct.useDeprecatedSynchronousErrorHandling){let e=!Tn;if(e&&(Tn={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Tn;if(Tn=null,n)throw r}}else t()}function ug(t){ct.useDeprecatedSynchronousErrorHandling&&Tn&&(Tn.errorThrown=!0,Tn.error=t)}var Sn=class extends se{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,gs(e)&&e.add(this)):this.destination=RC}static create(e,n,r){return new ur(e,n,r)}next(e){this.isStopped?Il(lg(e),this):this._next(e)}error(e){this.isStopped?Il(cg(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Il(ag,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},MC=Function.prototype.bind;function wl(t,e){return MC.call(t,e)}var El=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){vs(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){vs(r)}else vs(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){vs(n)}}},ur=class extends Sn{constructor(e,n,r){super();let i;if(N(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&ct.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&wl(e.next,o),error:e.error&&wl(e.error,o),complete:e.complete&&wl(e.complete,o)}):i=e}this.destination=new El(i)}};function vs(t){ct.useDeprecatedSynchronousErrorHandling?ug(t):ms(t)}function NC(t){throw t}function Il(t,e){let{onStoppedNotification:n}=ct;n&&cr.setTimeout(()=>n(t,e))}var RC={closed:!0,next:vi,error:NC,complete:vi};var dr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Fe(t){return t}function Cl(...t){return bl(t)}function bl(t){return t.length===0?Fe:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var H=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=PC(n)?n:new ur(n,r,i);return lr(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=dg(r),new r((i,o)=>{let s=new ur({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[dr](){return this}pipe(...n){return bl(n)(this)}toPromise(n){return n=dg(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function dg(t){var e;return(e=t??ct.Promise)!==null&&e!==void 0?e:Promise}function xC(t){return t&&N(t.next)&&N(t.error)&&N(t.complete)}function PC(t){return t&&t instanceof Sn||xC(t)&&gs(t)}function Dl(t){return N(t?.lift)}function $(t){return e=>{if(Dl(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function B(t,e,n,r,i){return new Tl(t,e,n,r,i)}var Tl=class extends Sn{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function fr(){return $((t,e)=>{let n=null;t._refCount++;let r=B(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var hr=class extends H{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Dl(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new se;let n=this.getSubject();e.add(this.source.subscribe(B(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=se.EMPTY)}return e}refCount(){return fr()(this)}};var fg=ar(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Te=(()=>{class t extends H{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ys(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new fg}next(n){lr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){lr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){lr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?yl:(this.currentObservers=null,o.push(n),new se(()=>{this.currentObservers=null,Dn(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new H;return n.source=this,n}}return t.create=(e,n)=>new ys(e,n),t})(),ys=class extends Te{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:yl}};var he=class extends Te{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Sl={now(){return(Sl.delegate||Date).now()},delegate:void 0};var _s=class extends se{constructor(e,n){super()}schedule(e,n=0){return this}};var yi={setInterval(t,e,...n){let{delegate:r}=yi;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=yi;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var pr=class extends _s{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return yi.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&yi.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Dn(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var gr=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};gr.now=Sl.now;var mr=class extends gr{constructor(e,n=gr.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Al=new mr(pr);var ws=class extends pr{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Is=class extends mr{};var Ml=new Is(ws);var je=new H(t=>t.complete());function hg(t){return t&&N(t.schedule)}function pg(t){return t[t.length-1]}function gg(t){return N(pg(t))?t.pop():void 0}function Xt(t){return hg(pg(t))?t.pop():void 0}function Nl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function vg(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function mg(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function An(t){return this instanceof An?(this.v=t,this):new An(t)}function yg(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(p){return Promise.resolve(p).then(h,d)}}function a(h,p){r[h]&&(i[h]=function(w){return new Promise(function(R,O){o.push([h,w,R,O])>1||c(h,w)})},p&&(i[h]=p(i[h])))}function c(h,p){try{l(r[h](p))}catch(w){f(o[0][3],w)}}function l(h){h.value instanceof An?Promise.resolve(h.value.v).then(u,d):f(o[0][2],h)}function u(h){c("next",h)}function d(h){c("throw",h)}function f(h,p){h(p),o.shift(),o.length&&c(o[0][0],o[0][1])}}function _g(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof mg=="function"?mg(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var Es=t=>t&&typeof t.length=="number"&&typeof t!="function";function Cs(t){return N(t?.then)}function bs(t){return N(t[dr])}function Ds(t){return Symbol.asyncIterator&&N(t?.[Symbol.asyncIterator])}function Ts(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function OC(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ss=OC();function As(t){return N(t?.[Ss])}function Ms(t){return yg(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield An(n.read());if(i)return yield An(void 0);yield yield An(r)}}finally{n.releaseLock()}})}function Ns(t){return N(t?.getReader)}function ve(t){if(t instanceof H)return t;if(t!=null){if(bs(t))return kC(t);if(Es(t))return LC(t);if(Cs(t))return FC(t);if(Ds(t))return wg(t);if(As(t))return jC(t);if(Ns(t))return UC(t)}throw Ts(t)}function kC(t){return new H(e=>{let n=t[dr]();if(N(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function LC(t){return new H(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function FC(t){return new H(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ms)})}function jC(t){return new H(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function wg(t){return new H(e=>{VC(t,e).catch(n=>e.error(n))})}function UC(t){return wg(Ms(t))}function VC(t,e){var n,r,i,o;return vg(this,void 0,void 0,function*(){try{for(n=_g(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Re(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function en(t,e=0){return $((n,r)=>{n.subscribe(B(r,i=>Re(r,t,()=>r.next(i),e),()=>Re(r,t,()=>r.complete(),e),i=>Re(r,t,()=>r.error(i),e)))})}function tn(t,e=0){return $((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Ig(t,e){return ve(t).pipe(tn(e),en(e))}function Eg(t,e){return ve(t).pipe(tn(e),en(e))}function Cg(t,e){return new H(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function bg(t,e){return new H(n=>{let r;return Re(n,e,()=>{r=t[Ss](),Re(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>N(r?.return)&&r.return()})}function Rs(t,e){if(!t)throw new Error("Iterable cannot be null");return new H(n=>{Re(n,e,()=>{let r=t[Symbol.asyncIterator]();Re(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Dg(t,e){return Rs(Ms(t),e)}function Tg(t,e){if(t!=null){if(bs(t))return Ig(t,e);if(Es(t))return Cg(t,e);if(Cs(t))return Eg(t,e);if(Ds(t))return Rs(t,e);if(As(t))return bg(t,e);if(Ns(t))return Dg(t,e)}throw Ts(t)}function re(t,e){return e?Tg(t,e):ve(t)}function A(...t){let e=Xt(t);return re(t,e)}function vr(t,e){let n=N(t)?t:()=>t,r=i=>i.error(n());return new H(e?i=>e.schedule(r,0,i):r)}function Rl(t){return!!t&&(t instanceof H||N(t.lift)&&N(t.subscribe))}var jt=ar(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function V(t,e){return $((n,r)=>{let i=0;n.subscribe(B(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:$C}=Array;function BC(t,e){return $C(e)?t(...e):t(e)}function Sg(t){return V(e=>BC(t,e))}var{isArray:HC}=Array,{getPrototypeOf:WC,prototype:zC,keys:GC}=Object;function Ag(t){if(t.length===1){let e=t[0];if(HC(e))return{args:e,keys:null};if(qC(e)){let n=GC(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function qC(t){return t&&typeof t=="object"&&WC(t)===zC}function Mg(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function _i(...t){let e=Xt(t),n=gg(t),{args:r,keys:i}=Ag(t);if(r.length===0)return re([],e);let o=new H(KC(r,e,i?s=>Mg(i,s):Fe));return n?o.pipe(Sg(n)):o}function KC(t,e,n=Fe){return r=>{Ng(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)Ng(e,()=>{let l=re(t[c],e),u=!1;l.subscribe(B(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Ng(t,e,n){t?Re(n,t,e):e()}function Rg(t,e,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,f=()=>{d&&!c.length&&!l&&e.complete()},h=w=>l<r?p(w):c.push(w),p=w=>{o&&e.next(w),l++;let R=!1;ve(n(w,u++)).subscribe(B(e,O=>{i?.(O),o?h(O):e.next(O)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;c.length&&l<r;){let O=c.shift();s?Re(e,s,()=>p(O)):p(O)}f()}catch(O){e.error(O)}}))};return t.subscribe(B(e,h,()=>{d=!0,f()})),()=>{a?.()}}function fe(t,e,n=1/0){return N(e)?fe((r,i)=>V((o,s)=>e(r,o,i,s))(ve(t(r,i))),n):(typeof e=="number"&&(n=e),$((r,i)=>Rg(r,i,t,n)))}function yr(t=1/0){return fe(Fe,t)}function xg(){return yr(1)}function _r(...t){return xg()(re(t,Xt(t)))}function xs(t){return new H(e=>{ve(t()).subscribe(e)})}function Ue(t,e){return $((n,r)=>{let i=0;n.subscribe(B(r,o=>t.call(e,o,i++)&&r.next(o)))})}function nn(t){return $((e,n)=>{let r=null,i=!1,o;r=e.subscribe(B(n,void 0,void 0,s=>{o=ve(t(s,nn(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Pg(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(B(s,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function rn(t,e){return N(e)?fe(t,e,1):fe(t,1)}function on(t){return $((e,n)=>{let r=!1;e.subscribe(B(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Ut(t){return t<=0?()=>je:$((e,n)=>{let r=0;e.subscribe(B(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function xl(t){return V(()=>t)}function Ps(t=YC){return $((e,n)=>{let r=!1;e.subscribe(B(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function YC(){return new jt}function wr(t){return $((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function lt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ue((i,o)=>t(i,o,r)):Fe,Ut(1),n?on(e):Ps(()=>new jt))}function Ir(t){return t<=0?()=>je:$((e,n)=>{let r=[];e.subscribe(B(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Pl(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ue((i,o)=>t(i,o,r)):Fe,Ir(1),n?on(e):Ps(()=>new jt))}function Ol(t,e){return $(Pg(t,e,arguments.length>=2,!0))}function kl(...t){let e=Xt(t);return $((n,r)=>{(e?_r(t,n,e):_r(t,n)).subscribe(r)})}function Ve(t,e){return $((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(B(r,c=>{i?.unsubscribe();let l=0,u=o++;ve(t(c,u)).subscribe(i=B(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Ll(t){return $((e,n)=>{ve(t).subscribe(B(n,()=>n.complete(),vi)),!n.closed&&e.subscribe(n)})}function ae(t,e,n){let r=N(t)||e||n?{next:t,error:e,complete:n}:t;return r?$((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(B(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Fe}var _m="https://g.co/ng/security#xss",C=class extends Error{constructor(e,n){super(pa(e,n)),this.code=e}};function pa(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Li(t){return{toString:t}.toString()}var Os="__parameters__";function QC(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function wm(t,e,n){return Li(()=>{let r=QC(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(Os)?c[Os]:Object.defineProperty(c,Os,{value:[]})[Os];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var $e=globalThis;function J(t){for(let e in t)if(t[e]===J)return e;throw Error("Could not find renamed property on target object.")}function xe(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(xe).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Og(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var ZC=J({__forward_ref__:J});function Im(t){return t.__forward_ref__=Im,t.toString=function(){return xe(this())},t}function et(t){return Em(t)?t():t}function Em(t){return typeof t=="function"&&t.hasOwnProperty(ZC)&&t.__forward_ref__===Im}function E(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ge(t){return{providers:t.providers||[],imports:t.imports||[]}}function ga(t){return kg(t,bm)||kg(t,Dm)}function Cm(t){return ga(t)!==null}function kg(t,e){return t.hasOwnProperty(e)?t[e]:null}function JC(t){let e=t&&(t[bm]||t[Dm]);return e||null}function Lg(t){return t&&(t.hasOwnProperty(Fg)||t.hasOwnProperty(XC))?t[Fg]:null}var bm=J({\u0275prov:J}),Fg=J({\u0275inj:J}),Dm=J({ngInjectableDef:J}),XC=J({ngInjectorDef:J}),b=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=E({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Tm(t){return t&&!!t.\u0275providers}var eb=J({\u0275cmp:J}),tb=J({\u0275dir:J}),nb=J({\u0275pipe:J}),rb=J({\u0275mod:J}),Ws=J({\u0275fac:J}),Ii=J({__NG_ELEMENT_ID__:J}),jg=J({__NG_ENV_ID__:J});function ju(t){return typeof t=="string"?t:t==null?"":String(t)}function ib(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():ju(t)}function ob(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new C(-200,t)}function Uu(t,e){throw new C(-201,!1)}var k=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(k||{}),Zl;function Sm(){return Zl}function Xe(t){let e=Zl;return Zl=t,e}function Am(t,e,n){let r=ga(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&k.Optional)return null;if(e!==void 0)return e;Uu(t,"Injector")}var sb={},Ci=sb,Jl="__NG_DI_FLAG__",zs="ngTempTokenPath",ab="ngTokenPath",cb=/\n/gm,lb="\u0275",Ug="__source",Tr;function ub(){return Tr}function sn(t){let e=Tr;return Tr=t,e}function db(t,e=k.Default){if(Tr===void 0)throw new C(-203,!1);return Tr===null?Am(t,void 0,e):Tr.get(t,e&k.Optional?null:void 0,e)}function T(t,e=k.Default){return(Sm()||db)(et(t),e)}function g(t,e=k.Default){return T(t,ma(e))}function ma(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Xl(t){let e=[];for(let n=0;n<t.length;n++){let r=et(t[n]);if(Array.isArray(r)){if(r.length===0)throw new C(900,!1);let i,o=k.Default;for(let s=0;s<r.length;s++){let a=r[s],c=fb(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(T(i,o))}else e.push(T(r))}return e}function Mm(t,e){return t[Jl]=e,t.prototype[Jl]=e,t}function fb(t){return t[Jl]}function hb(t,e,n,r){let i=t[zs];throw e[Ug]&&i.unshift(e[Ug]),t.message=pb(`
`+t.message,i,n,r),t[ab]=i,t[zs]=null,t}function pb(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==lb?t.slice(2):t;let i=xe(e);if(Array.isArray(e))i=e.map(xe).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):xe(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(cb,`
  `)}`}var rt=Mm(wm("Optional"),8);var Vu=Mm(wm("SkipSelf"),4);function Ar(t,e){let n=t.hasOwnProperty(Ws);return n?t[Ws]:null}function $u(t,e){t.forEach(n=>Array.isArray(n)?$u(n,e):e(n))}function Nm(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Gs(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function gb(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function mb(t,e,n){let r=Fi(t,e);return r>=0?t[r|1]=n:(r=~r,gb(t,r,e,n)),r}function Fl(t,e){let n=Fi(t,e);if(n>=0)return t[n|1]}function Fi(t,e){return vb(t,e,1)}function vb(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var bi={},tt=[],Nn=new b(""),Rm=new b("",-1),xm=new b(""),qs=class{get(e,n=Ci){if(n===Ci){let r=new Error(`NullInjectorError: No provider for ${xe(e)}!`);throw r.name="NullInjectorError",r}return n}},Pm=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Pm||{}),Et=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Et||{}),ln=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ln||{});function yb(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function eu(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];wb(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function _b(t){return t===3||t===4||t===6}function wb(t){return t.charCodeAt(0)===64}function Bu(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Vg(t,n,i,null,e[++r]):Vg(t,n,i,null,null))}}return t}function Vg(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var Om="ng-template";function Ib(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&yb(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Hu(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Hu(t){return t.type===4&&t.value!==Om}function Eb(t,e,n){let r=t.type===4&&!n?Om:t.value;return e===r}function Cb(t,e,n){let r=4,i=t.attrs,o=i!==null?Tb(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!ut(r)&&!ut(c))return!1;if(s&&ut(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!Eb(t,c,n)||c===""&&e.length===1){if(ut(r))return!1;s=!0}}else if(r&8){if(i===null||!Ib(t,i,c,n)){if(ut(r))return!1;s=!0}}else{let l=e[++a],u=bb(c,i,Hu(t),n);if(u===-1){if(ut(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(ut(r))return!1;s=!0}}}}return ut(r)||s}function ut(t){return(t&1)===0}function bb(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return Sb(e,t)}function Db(t,e,n=!1){for(let r=0;r<e.length;r++)if(Cb(t,e[r],n))return!0;return!1}function Tb(t){for(let e=0;e<t.length;e++){let n=t[e];if(_b(n))return e}return t.length}function Sb(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function $g(t,e){return t?":not("+e.trim()+")":e}function Ab(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!ut(s)&&(e+=$g(o,i),i=""),r=s,o=o||!ut(r);n++}return i!==""&&(e+=$g(o,i)),e}function Mb(t){return t.map(Ab).join(",")}function Nb(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!ut(i))break;i=o}r++}return{attrs:e,classes:n}}function le(t){return Li(()=>{let e=Um(t),n=ne(I({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Pm.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Et.Emulated,styles:t.styles||tt,_:null,schemas:t.schemas||null,tView:null,id:""});Vm(n);let r=t.dependencies;return n.directiveDefs=Hg(r,!1),n.pipeDefs=Hg(r,!0),n.id=Pb(n),n})}function Rb(t){return un(t)||km(t)}function xb(t){return t!==null}function qe(t){return Li(()=>({type:t.type,bootstrap:t.bootstrap||tt,declarations:t.declarations||tt,imports:t.imports||tt,exports:t.exports||tt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Bg(t,e){if(t==null)return bi;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=ln.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==ln.None?[r,a]:r,e[o]=s):n[o]=r}return n}function ji(t){return Li(()=>{let e=Um(t);return Vm(e),e})}function un(t){return t[eb]||null}function km(t){return t[tb]||null}function Lm(t){return t[nb]||null}function Fm(t){let e=un(t)||km(t)||Lm(t);return e!==null?e.standalone:!1}function jm(t,e){let n=t[rb]||null;if(!n&&e===!0)throw new Error(`Type ${xe(t)} does not have '\u0275mod' property.`);return n}function Um(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||bi,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||tt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Bg(t.inputs,e),outputs:Bg(t.outputs),debugInfo:null}}function Vm(t){t.features?.forEach(e=>e(t))}function Hg(t,e){if(!t)return null;let n=e?Lm:Rb;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(xb)}function Pb(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Ht(t){return{\u0275providers:t}}function Ob(...t){return{\u0275providers:$m(!0,t),\u0275fromNgModule:!0}}function $m(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return $u(e,s=>{let a=s;tu(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Bm(i,o),n}function Bm(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Wu(i,o=>{e(o,r)})}}function tu(t,e,n,r){if(t=et(t),!t)return!1;let i=null,o=Lg(t),s=!o&&un(t);if(!o&&!s){let c=t.ngModule;if(o=Lg(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)tu(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{$u(o.imports,u=>{tu(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&Bm(l,e)}if(!a){let l=Ar(i)||(()=>new i);e({provide:i,useFactory:l,deps:tt},i),e({provide:xm,useValue:i,multi:!0},i),e({provide:Nn,useValue:()=>T(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;Wu(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Wu(t,e){for(let n of t)Tm(n)&&(n=n.\u0275providers),Array.isArray(n)?Wu(n,e):e(n)}var kb=J({provide:String,useValue:J});function Hm(t){return t!==null&&typeof t=="object"&&kb in t}function Lb(t){return!!(t&&t.useExisting)}function Fb(t){return!!(t&&t.useFactory)}function nu(t){return typeof t=="function"}var va=new b(""),Us={},jb={},jl;function zu(){return jl===void 0&&(jl=new qs),jl}var He=class{},Di=class extends He{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,iu(e,s=>this.processProvider(s)),this.records.set(Rm,Er(void 0,this)),i.has("environment")&&this.records.set(He,Er(void 0,this));let o=this.records.get(va);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(xm,tt,k.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=G(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),G(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=sn(this),r=Xe(void 0),i;try{return e()}finally{sn(n),Xe(r)}}get(e,n=Ci,r=k.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(jg))return e[jg](this);r=ma(r);let i,o=sn(this),s=Xe(void 0);try{if(!(r&k.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=Wb(e)&&ga(e);l&&this.injectableDefInScope(l)?c=Er(ru(e),Us):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&k.Self?zu():this.parent;return n=r&k.Optional&&n===Ci?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[zs]=a[zs]||[]).unshift(xe(e)),o)throw a;return hb(a,e,"R3InjectorError",this.source)}else throw a}finally{Xe(s),sn(o)}}resolveInjectorInitializers(){let e=G(null),n=sn(this),r=Xe(void 0),i;try{let o=this.get(Nn,tt,k.Self);for(let s of o)s()}finally{sn(n),Xe(r),G(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(xe(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new C(205,!1)}processProvider(e){e=et(e);let n=nu(e)?e:et(e&&e.provide),r=Vb(e);if(!nu(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Er(void 0,Us,!0),i.factory=()=>Xl(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=G(null);try{return n.value===Us&&(n.value=jb,n.value=n.factory()),typeof n.value=="object"&&n.value&&Hb(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{G(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=et(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function ru(t){let e=ga(t),n=e!==null?e.factory:Ar(t);if(n!==null)return n;if(t instanceof b)throw new C(204,!1);if(t instanceof Function)return Ub(t);throw new C(204,!1)}function Ub(t){if(t.length>0)throw new C(204,!1);let n=JC(t);return n!==null?()=>n.factory(t):()=>new t}function Vb(t){if(Hm(t))return Er(void 0,t.useValue);{let e=$b(t);return Er(e,Us)}}function $b(t,e,n){let r;if(nu(t)){let i=et(t);return Ar(i)||ru(i)}else if(Hm(t))r=()=>et(t.useValue);else if(Fb(t))r=()=>t.useFactory(...Xl(t.deps||[]));else if(Lb(t))r=()=>T(et(t.useExisting));else{let i=et(t&&(t.useClass||t.provide));if(Bb(t))r=()=>new i(...Xl(t.deps));else return Ar(i)||ru(i)}return r}function Er(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Bb(t){return!!t.deps}function Hb(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function Wb(t){return typeof t=="function"||typeof t=="object"&&t instanceof b}function iu(t,e){for(let n of t)Array.isArray(n)?iu(n,e):n&&Tm(n)?iu(n.\u0275providers,e):e(n)}function bt(t,e){t instanceof Di&&t.assertNotDestroyed();let n,r=sn(t),i=Xe(void 0);try{return e()}finally{sn(r),Xe(i)}}function Wm(){return Sm()!==void 0||ub()!=null}function zb(t){if(!Wm())throw new C(-203,!1)}function Gb(t){let e=$e.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function qb(t){return typeof t=="function"}var We=0,U=1,M=2,we=3,dt=4,gt=5,ft=6,Ti=7,Vt=8,Mr=9,ht=10,ce=11,Si=12,Wg=13,Ui=14,nt=15,ya=16,Cr=17,Nr=18,_a=19,zm=20,an=21,Ul=22,Rn=23,ze=25,Gm=1,Ai=6,$t=7,Ks=8,Ys=9,Be=10,Gu=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(Gu||{});function cn(t){return Array.isArray(t)&&typeof t[Gm]=="object"}function Dt(t){return Array.isArray(t)&&t[Gm]===!0}function qm(t){return(t.flags&4)!==0}function Vi(t){return t.componentOffset>-1}function qu(t){return(t.flags&1)===1}function $i(t){return!!t.template}function Km(t){return(t[M]&512)!==0}var ou=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function Ym(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Bi(){return Qm}function Qm(t){return t.type.prototype.ngOnChanges&&(t.setInput=Yb),Kb}Bi.ngInherit=!0;function Kb(){let t=Jm(this),e=t?.current;if(e){let n=t.previous;if(n===bi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function Yb(t,e,n,r,i){let o=this.declaredInputs[r],s=Jm(t)||Qb(t,{previous:bi,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new ou(l&&l.currentValue,n,c===bi),Ym(t,e,i,n)}var Zm="__ngSimpleChanges__";function Jm(t){return t[Zm]||null}function Qb(t,e){return t[Zm]=e}var zg=null;var wt=function(t,e,n){zg?.(t,e,n)},Zb="svg",Jb="math",Xb=!1;function eD(){return Xb}function pt(t){for(;Array.isArray(t);)t=t[We];return t}function Xm(t,e){return pt(e[t])}function it(t,e){return pt(e[t.index])}function ev(t,e){return t.data[e]}function Ln(t,e){let n=e[t];return cn(n)?n:n[We]}function Ku(t){return(t[M]&128)===128}function tD(t){return Dt(t[we])}function Qs(t,e){return e==null?null:t[e]}function tv(t){t[Cr]=0}function nD(t){t[M]&1024||(t[M]|=1024,Ku(t)&&Mi(t))}function Yu(t){return!!(t[M]&9216||t[Rn]?.dirty)}function su(t){t[ht].changeDetectionScheduler?.notify(1),Yu(t)?Mi(t):t[M]&64&&(eD()?(t[M]|=1024,Mi(t)):t[ht].changeDetectionScheduler?.notify())}function Mi(t){t[ht].changeDetectionScheduler?.notify();let e=Ni(t);for(;e!==null&&!(e[M]&8192||(e[M]|=8192,!Ku(e)));)e=Ni(e)}function nv(t,e){if((t[M]&256)===256)throw new C(911,!1);t[an]===null&&(t[an]=[]),t[an].push(e)}function rD(t,e){if(t[an]===null)return;let n=t[an].indexOf(e);n!==-1&&t[an].splice(n,1)}function Ni(t){let e=t[we];return Dt(e)?e[we]:e}var z={lFrame:uv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function iD(){return z.lFrame.elementDepthCount}function oD(){z.lFrame.elementDepthCount++}function sD(){z.lFrame.elementDepthCount--}function rv(){return z.bindingsEnabled}function Hi(){return z.skipHydrationRootTNode!==null}function aD(t){return z.skipHydrationRootTNode===t}function cD(t){z.skipHydrationRootTNode=t}function lD(){z.skipHydrationRootTNode=null}function pe(){return z.lFrame.lView}function hn(){return z.lFrame.tView}function Tt(){let t=iv();for(;t!==null&&t.type===64;)t=t.parent;return t}function iv(){return z.lFrame.currentTNode}function uD(){let t=z.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Wi(t,e){let n=z.lFrame;n.currentTNode=t,n.isParent=e}function ov(){return z.lFrame.isParent}function dD(){z.lFrame.isParent=!1}function fD(t){return z.lFrame.bindingIndex=t}function sv(){return z.lFrame.bindingIndex++}function hD(t){let e=z.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function pD(){return z.lFrame.inI18n}function gD(t,e){let n=z.lFrame;n.bindingIndex=n.bindingRootIndex=t,au(e)}function mD(){return z.lFrame.currentDirectiveIndex}function au(t){z.lFrame.currentDirectiveIndex=t}function vD(t){let e=z.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function av(t){z.lFrame.currentQueryIndex=t}function yD(t){let e=t[U];return e.type===2?e.declTNode:e.type===1?t[gt]:null}function cv(t,e,n){if(n&k.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&k.Host);)if(i=yD(o),i===null||(o=o[Ui],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=z.lFrame=lv();return r.currentTNode=e,r.lView=t,!0}function Qu(t){let e=lv(),n=t[U];z.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function lv(){let t=z.lFrame,e=t===null?null:t.child;return e===null?uv(t):e}function uv(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function dv(){let t=z.lFrame;return z.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var fv=dv;function Zu(){let t=dv();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Pr(){return z.lFrame.selectedIndex}function xn(t){z.lFrame.selectedIndex=t}function _D(){let t=z.lFrame;return ev(t.tView,t.selectedIndex)}function hv(){return z.lFrame.currentNamespace}var pv=!0;function Ju(){return pv}function St(t){pv=t}function wD(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=Qm(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Xu(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function Vs(t,e,n){gv(t,e,3,n)}function $s(t,e,n,r){(t[M]&3)===n&&gv(t,e,n,r)}function Vl(t,e){let n=t[M];(n&3)===e&&(n&=16383,n+=1,t[M]=n)}function gv(t,e,n,r){let i=r!==void 0?t[Cr]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Cr]+=65536),(a<o||o==-1)&&(ID(t,n,e,c),t[Cr]=(t[Cr]&4294901760)+c+2),c++}function Gg(t,e){wt(4,t,e);let n=G(null);try{e.call(t)}finally{G(n),wt(5,t,e)}}function ID(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[M]>>14<t[Cr]>>16&&(t[M]&3)===e&&(t[M]+=16384,Gg(a,o)):Gg(a,o)}var Sr=-1,Ri=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function ED(t){return t instanceof Ri}function CD(t){return(t.flags&8)!==0}function bD(t){return(t.flags&16)!==0}function mv(t){return t!==Sr}function Zs(t){return t&32767}function DD(t){return t>>16}function Js(t,e){let n=DD(t),r=e;for(;n>0;)r=r[Ui],n--;return r}var cu=!0;function qg(t){let e=cu;return cu=t,e}var TD=256,vv=TD-1,yv=5,SD=0,It={};function AD(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ii)&&(r=n[Ii]),r==null&&(r=n[Ii]=SD++);let i=r&vv,o=1<<i;e.data[t+(i>>yv)]|=o}function _v(t,e){let n=wv(t,e);if(n!==-1)return n;let r=e[U];r.firstCreatePass&&(t.injectorIndex=e.length,$l(r.data,t),$l(e,null),$l(r.blueprint,null));let i=ed(t,e),o=t.injectorIndex;if(mv(i)){let s=Zs(i),a=Js(i,e),c=a[U].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function $l(t,e){t.push(0,0,0,0,0,0,0,0,e)}function wv(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function ed(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Dv(i),r===null)return Sr;if(n++,i=i[Ui],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Sr}function MD(t,e,n){AD(t,e,n)}function Iv(t,e,n){if(n&k.Optional||t!==void 0)return t;Uu(e,"NodeInjector")}function Ev(t,e,n,r){if(n&k.Optional&&r===void 0&&(r=null),!(n&(k.Self|k.Host))){let i=t[Mr],o=Xe(void 0);try{return i?i.get(e,r,n&k.Optional):Am(e,r,n&k.Optional)}finally{Xe(o)}}return Iv(r,e,n)}function Cv(t,e,n,r=k.Default,i){if(t!==null){if(e[M]&2048&&!(r&k.Self)){let s=OD(t,e,n,r,It);if(s!==It)return s}let o=bv(t,e,n,r,It);if(o!==It)return o}return Ev(e,n,r,i)}function bv(t,e,n,r,i){let o=xD(n);if(typeof o=="function"){if(!cv(e,t,r))return r&k.Host?Iv(i,n,r):Ev(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&k.Optional))Uu(n);else return s}finally{fv()}}else if(typeof o=="number"){let s=null,a=wv(t,e),c=Sr,l=r&k.Host?e[nt][gt]:null;for((a===-1||r&k.SkipSelf)&&(c=a===-1?ed(t,e):e[a+8],c===Sr||!Yg(r,!1)?a=-1:(s=e[U],a=Zs(c),e=Js(c,e)));a!==-1;){let u=e[U];if(Kg(o,a,u.data)){let d=ND(a,e,n,s,r,l);if(d!==It)return d}c=e[a+8],c!==Sr&&Yg(r,e[U].data[a+8]===l)&&Kg(o,a,e)?(s=u,a=Zs(c),e=Js(c,e)):a=-1}}return i}function ND(t,e,n,r,i,o){let s=e[U],a=s.data[t+8],c=r==null?Vi(a)&&cu:r!=s&&(a.type&3)!==0,l=i&k.Host&&o===a,u=RD(a,s,n,c,l);return u!==null?xi(e,s,u,a):It}function RD(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:l;for(let h=d;h<f;h++){let p=s[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(i){let h=s[c];if(h&&$i(h)&&h.type===n)return c}return null}function xi(t,e,n,r){let i=t[n],o=e.data;if(ED(i)){let s=i;s.resolving&&ob(ib(o[n]));let a=qg(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?Xe(s.injectImpl):null,u=cv(t,r,k.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&wD(n,o[n],e)}finally{l!==null&&Xe(l),qg(a),s.resolving=!1,fv()}}return i}function xD(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ii)?t[Ii]:void 0;return typeof e=="number"?e>=0?e&vv:PD:e}function Kg(t,e,n){let r=1<<t;return!!(n[e+(t>>yv)]&r)}function Yg(t,e){return!(t&k.Self)&&!(t&k.Host&&e)}var Mn=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Cv(this._tNode,this._lView,e,ma(r),n)}};function PD(){return new Mn(Tt(),pe())}function td(t){return Li(()=>{let e=t.prototype.constructor,n=e[Ws]||lu(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Ws]||lu(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function lu(t){return Em(t)?()=>{let e=lu(et(t));return e&&e()}:Ar(t)}function OD(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[M]&2048&&!(s[M]&512);){let a=bv(o,s,n,r|k.Self,It);if(a!==It)return a;let c=o.parent;if(!c){let l=s[zm];if(l){let u=l.get(n,It,r);if(u!==It)return u}c=Dv(s),s=s[Ui]}o=c}return i}function Dv(t){let e=t[U],n=e.type;return n===2?e.declTNode:n===1?t[gt]:null}function Qg(t,e=null,n=null,r){let i=Tv(t,e,n,r);return i.resolveInjectorInitializers(),i}function Tv(t,e=null,n=null,r,i=new Set){let o=[n||tt,Ob(t)];return r=r||(typeof t=="object"?void 0:xe(t)),new Di(o,e||zu(),r||null,i)}var Ae=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return Qg({name:""},i,r,"");{let o=r.name??"";return Qg({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=Ci,e.NULL=new qs,e.\u0275prov=E({token:e,providedIn:"any",factory:()=>T(Rm)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var kD="ngOriginalError";function Bl(t){return t[kD]}var Ct=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Bl(e);for(;n&&Bl(n);)n=Bl(n);return n||null}},Sv=new b("",{providedIn:"root",factory:()=>g(Ct).handleError.bind(void 0)}),nd=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=LD,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),uu=class extends nd{constructor(e){super(),this._lView=e}onDestroy(e){return nv(this._lView,e),()=>rD(this._lView,e)}};function LD(){return new uu(pe())}function FD(){return wa(Tt(),pe())}function wa(t,e){return new Ia(it(t,e))}var Ia=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=FD;let t=e;return t})();var du=class extends Te{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,Wm()&&(this.destroyRef=g(nd,{optional:!0})??void 0)}emit(e){let n=G(null);try{super.next(e)}finally{G(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=Hl(o),i&&(i=Hl(i)),s&&(s=Hl(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof se&&e.add(a),a}};function Hl(t){return e=>{setTimeout(t,void 0,e)}}var Se=du;var jD="ngSkipHydration",UD="ngskiphydration";function Av(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===UD)return!0}return!1}function Mv(t){return t.hasAttribute(jD)}function Xs(t){return(t.flags&128)===128}function VD(t){if(Xs(t))return!0;let e=t.parent;for(;e;){if(Xs(t)||Av(e))return!0;e=e.parent}return!1}var Nv=new Map,$D=0;function BD(){return $D++}function HD(t){Nv.set(t[_a],t)}function WD(t){Nv.delete(t[_a])}var Zg="__ngContext__";function Pn(t,e){cn(e)?(t[Zg]=e[_a],HD(e)):t[Zg]=e}function Rv(t){return Pv(t[Si])}function xv(t){return Pv(t[dt])}function Pv(t){for(;t!==null&&!Dt(t);)t=t[dt];return t}var fu;function Ov(t){fu=t}function Ea(){if(fu!==void 0)return fu;if(typeof document<"u")return document;throw new C(210,!1)}var zi=new b("",{providedIn:"root",factory:()=>zD}),zD="ng",rd=new b(""),Ke=new b("",{providedIn:"platform",factory:()=>"unknown"});var id=new b("",{providedIn:"root",factory:()=>Ea().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function GD(){let t=new Fn;return g(Ke)==="browser"&&(t.store=qD(Ea(),g(zi))),t}var Fn=(()=>{let e=class e{constructor(){this.store={},this.onSerializeCallbacks={}}get(r,i){return this.store[r]!==void 0?this.store[r]:i}set(r,i){this.store[r]=i}remove(r){delete this.store[r]}hasKey(r){return this.store.hasOwnProperty(r)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(r,i){this.onSerializeCallbacks[r]=i}toJson(){for(let r in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(r))try{this.store[r]=this.onSerializeCallbacks[r]()}catch(i){console.warn("Exception in onSerialize callback: ",i)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}};e.\u0275prov=E({token:e,providedIn:"root",factory:GD});let t=e;return t})();function qD(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var kv="h",Lv="b",hu=function(t){return t.FirstChild="f",t.NextSibling="n",t}(hu||{}),KD="e",YD="t",od="c",Fv="x",ea="r",QD="i",ZD="n",JD="d",XD="__nghData__",jv=XD,Wl="ngh",e0="nghm",Uv=()=>null;function t0(t,e,n=!1){let r=t.getAttribute(Wl);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let s=o?`|${o}`:"",a=n?i:s,c={};if(r!==""){let u=e.get(Fn,null,{optional:!0});u!==null&&(c=u.get(jv,[])[Number(r)])}let l={data:c,firstChild:t.firstChild??null};return n&&(l.firstChild=t,Ca(l,0,t.nextSibling)),a?t.setAttribute(Wl,a):t.removeAttribute(Wl),l}function n0(){Uv=t0}function sd(t,e,n=!1){return Uv(t,e,n)}function r0(t){let e=t._lView;return e[U].type===2?null:(Km(e)&&(e=e[ze]),e)}function i0(t){return t.textContent?.replace(/\s/gm,"")}function o0(t){let e=Ea(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=i0(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function Ca(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function pu(t,e){return t.segmentHeads?.[e]??null}function s0(t,e){let n=t.data,r=n[KD]?.[e]??null;return r===null&&n[od]?.[e]&&(r=ad(t,e)),r}function Vv(t,e){return t.data[od]?.[e]??null}function ad(t,e){let n=Vv(t,e)??[],r=0;for(let i of n)r+=i[ea]*(i[Fv]??1);return r}function ba(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[JD];t.disconnectedNodes=n?new Set(n):null}return!!t.disconnectedNodes?.has(e)}var ks=new b(""),$v=!1,Bv=new b("",{providedIn:"root",factory:()=>$v}),a0=new b("");var ta=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${_m})`}};function Da(t){return t instanceof ta?t.changingThisBreaksApplicationSecurity:t}function Hv(t,e){let n=c0(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${_m})`)}return n===e}function c0(t){return t instanceof ta&&t.getTypeName()||null}var l0=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Wv(t){return t=String(t),t.match(l0)?t:"unsafe:"+t}var cd=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(cd||{});function ld(t){let e=u0();return e?e.sanitize(cd.URL,t)||"":Hv(t,"URL")?Da(t):Wv(ju(t))}function u0(){let t=pe();return t&&t[ht].sanitizer}var d0=/^>|^->|<!--|-->|--!>|<!-$/g,f0=/(<|>)/g,h0="\u200B$1\u200B";function p0(t){return t.replace(d0,e=>e.replace(f0,h0))}function g0(t){return t.ownerDocument.body}function zv(t){return t instanceof Function?t():t}function wi(t){return(t??g(Ae)).get(Ke)==="browser"}var Bt=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Bt||{}),m0;function ud(t,e){return m0(t,e)}function br(t,e,n,r,i){if(r!=null){let o,s=!1;Dt(r)?o=r:cn(r)&&(s=!0,r=r[We]);let a=pt(r);t===0&&n!==null?i==null?Yv(e,n,a):na(e,n,a,i||null,!0):t===1&&n!==null?na(e,n,a,i||null,!0):t===2?gd(e,a,s):t===3&&e.destroyNode(a),o!=null&&P0(e,t,o,n,i)}}function dd(t,e){return t.createText(e)}function v0(t,e,n){t.setValue(e,n)}function fd(t,e){return t.createComment(p0(e))}function Ta(t,e,n){return t.createElement(e,n)}function y0(t,e){Gv(t,e),e[We]=null,e[gt]=null}function _0(t,e,n,r,i,o){r[We]=i,r[gt]=e,Sa(t,r,n,1,i,o)}function Gv(t,e){e[ht].changeDetectionScheduler?.notify(1),Sa(t,e,e[ce],2,null,null)}function w0(t){let e=t[Si];if(!e)return zl(t[U],t);for(;e;){let n=null;if(cn(e))n=e[Si];else{let r=e[Be];r&&(n=r)}if(!n){for(;e&&!e[dt]&&e!==t;)cn(e)&&zl(e[U],e),e=e[we];e===null&&(e=t),cn(e)&&zl(e[U],e),n=e&&e[dt]}e=n}}function I0(t,e,n,r){let i=Be+r,o=n.length;r>0&&(n[i-1][dt]=e),r<o-Be?(e[dt]=n[i],Nm(n,Be+r,e)):(n.push(e),e[dt]=null),e[we]=n;let s=e[ya];s!==null&&n!==s&&E0(s,e);let a=e[Nr];a!==null&&a.insertView(t),su(e),e[M]|=128}function E0(t,e){let n=t[Ys],i=e[we][we][nt];e[nt]!==i&&(t[M]|=Gu.HasTransplantedViews),n===null?t[Ys]=[e]:n.push(e)}function qv(t,e){let n=t[Ys],r=n.indexOf(e);n.splice(r,1)}function gu(t,e){if(t.length<=Be)return;let n=Be+e,r=t[n];if(r){let i=r[ya];i!==null&&i!==t&&qv(i,r),e>0&&(t[n-1][dt]=r[dt]);let o=Gs(t,Be+e);y0(r[U],r);let s=o[Nr];s!==null&&s.detachView(o[U]),r[we]=null,r[dt]=null,r[M]&=-129}return r}function Kv(t,e){if(!(e[M]&256)){let n=e[ce];n.destroyNode&&Sa(t,e,n,3,null,null),w0(e)}}function zl(t,e){if(e[M]&256)return;let n=G(null);try{e[M]&=-129,e[M]|=256,e[Rn]&&ig(e[Rn]),b0(t,e),C0(t,e),e[U].type===1&&e[ce].destroy();let r=e[ya];if(r!==null&&Dt(e[we])){r!==e[we]&&qv(r,e);let i=e[Nr];i!==null&&i.detachView(t)}WD(e)}finally{G(n)}}function C0(t,e){let n=t.cleanup,r=e[Ti];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Ti]=null);let i=e[an];if(i!==null){e[an]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function b0(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Ri)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];wt(4,a,c);try{c.call(a)}finally{wt(5,a,c)}}else{wt(4,i,o);try{o.call(i)}finally{wt(5,i,o)}}}}}function D0(t,e,n){return T0(t,e.parent,n)}function T0(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[We];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Et.None||o===Et.Emulated)return null}return it(r,n)}}function na(t,e,n,r,i){t.insertBefore(e,n,r,i)}function Yv(t,e,n){t.appendChild(e,n)}function Jg(t,e,n,r,i){r!==null?na(t,e,n,r,i):Yv(t,e,n)}function S0(t,e,n,r){t.removeChild(e,n,r)}function hd(t,e){return t.parentNode(e)}function A0(t,e){return t.nextSibling(e)}function M0(t,e,n){return R0(t,e,n)}function N0(t,e,n){return t.type&40?it(t,n):null}var R0=N0,Xg;function pd(t,e,n,r){let i=D0(t,r,e),o=e[ce],s=r.parent||e[gt],a=M0(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Jg(o,i,n[c],a,!1);else Jg(o,i,n,a,!1);Xg!==void 0&&Xg(o,r,e,n,i)}function Bs(t,e){if(e!==null){let n=e.type;if(n&3)return it(e,t);if(n&4)return mu(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Bs(t,r);{let i=t[e.index];return Dt(i)?mu(-1,i):pt(i)}}else{if(n&32)return ud(e,t)()||pt(t[e.index]);{let r=Qv(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Ni(t[nt]);return Bs(i,r)}else return Bs(t,e.next)}}}return null}function Qv(t,e){if(e!==null){let r=t[nt][gt],i=e.projection;return r.projection[i]}return null}function mu(t,e){let n=Be+t+1;if(n<e.length){let r=e[n],i=r[U].firstChild;if(i!==null)return Bs(r,i)}return e[$t]}function gd(t,e,n){let r=hd(t,e);r&&S0(t,r,e,n)}function Zv(t){t.textContent=""}function md(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],c=n.type;if(s&&e===0&&(a&&Pn(pt(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)md(t,e,n.child,r,i,o,!1),br(e,t,i,a,o);else if(c&32){let l=ud(n,r),u;for(;u=l();)br(e,t,i,u,o);br(e,t,i,a,o)}else c&16?x0(t,e,r,n,i,o):br(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Sa(t,e,n,r,i,o){md(n,r,t.firstChild,e,i,o,!1)}function x0(t,e,n,r,i,o){let s=n[nt],c=s[gt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];br(e,t,i,u,o)}else{let l=c,u=s[we];Xs(r)&&(l.flags|=128),md(t,e,l,u,i,o,!0)}}function P0(t,e,n,r,i){let o=n[$t],s=pt(n);o!==s&&br(e,t,r,o,i);for(let a=Be;a<n.length;a++){let c=n[a];Sa(c[U],c,t,e,r,o)}}function O0(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Bt.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Bt.Important),t.setStyle(n,r,i,o))}}function k0(t,e,n){t.setAttribute(e,"style",n)}function Jv(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function Xv(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&eu(t,e,r),i!==null&&Jv(t,e,i),o!==null&&k0(t,e,o)}var Or={};function ue(t=1){ey(hn(),pe(),Pr()+t,!1)}function ey(t,e,n,r){if(!r)if((e[M]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Vs(e,o,n)}else{let o=t.preOrderHooks;o!==null&&$s(e,o,0,n)}xn(n)}function de(t,e=k.Default){let n=pe();if(n===null)return T(t,e);let r=Tt();return Cv(r,n,et(t),e)}function ty(){let t="invalid";throw new Error(t)}function ny(t,e,n,r,i,o){let s=G(null);try{let a=null;i&ln.SignalBased&&(a=e[r][eg]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&ln.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):Ym(e,a,r,o)}finally{G(s)}}function L0(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)xn(~i);else{let o=i,s=n[++r],a=n[++r];gD(s,o);let c=e[o];a(2,c)}}}finally{xn(-1)}}function Aa(t,e,n,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[We]=i,d[M]=r|4|128|8|64,(l!==null||t&&t[M]&2048)&&(d[M]|=2048),tv(d),d[we]=d[Ui]=t,d[Vt]=n,d[ht]=s||t&&t[ht],d[ce]=a||t&&t[ce],d[Mr]=c||t&&t[Mr]||null,d[gt]=o,d[_a]=BD(),d[ft]=u,d[zm]=l,d[nt]=e.type==2?t[nt]:d,d}function Ma(t,e,n,r,i){let o=t.data[e];if(o===null)o=F0(t,e,n,r,i),pD()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=uD();o.injectorIndex=s===null?-1:s.injectorIndex}return Wi(o,!0),o}function F0(t,e,n,r,i){let o=iv(),s=ov(),a=s?o:o&&o.parent,c=t.data[e]=H0(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function ry(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function iy(t,e,n,r,i){let o=Pr(),s=r&2;try{xn(-1),s&&e.length>ze&&ey(t,e,ze,!1),wt(s?2:0,i),n(r,i)}finally{xn(o),wt(s?3:1,i)}}function oy(t,e,n){if(qm(e)){let r=G(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{G(r)}}}function sy(t,e,n){rv()&&(Q0(t,e,n,it(n,e)),(n.flags&64)===64&&fy(t,e,n))}function ay(t,e,n=it){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function cy(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=vd(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function vd(t,e,n,r,i,o,s,a,c,l,u){let d=ze+r,f=d+i,h=j0(d,f),p=typeof l=="function"?l():l;return h[U]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}function j0(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Or);return n}function U0(t,e,n,r){let o=r.get(Bv,$v)||n===Et.ShadowDom,s=t.selectRootElement(e,o);return V0(s),s}function V0(t){ly(t)}var ly=()=>null;function $0(t){Mv(t)?Zv(t):o0(t)}function B0(){ly=$0}function H0(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Hi()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function em(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=ln.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?tm(r,n,l,a,c):tm(r,n,l,a)}return r}function tm(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function W0(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],f=n?n.get(d):null,h=f?f.inputs:null,p=f?f.outputs:null;c=em(0,d.inputs,u,c,h),l=em(1,d.outputs,u,l,p);let w=c!==null&&s!==null&&!Hu(e)?oT(c,u,s):null;a.push(w)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function z0(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function G0(t,e,n,r,i,o,s,a){let c=it(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(yd(t,n,u,r,i),Vi(e)&&q0(n,e.index)):e.type&3?(r=z0(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function q0(t,e){let n=Ln(e,t);n[M]&16||(n[M]|=64)}function uy(t,e,n,r){if(rv()){let i=r===null?null:{"":-1},o=J0(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&dy(t,e,n,s,i,a),i&&X0(n,r,i)}n.mergedAttrs=Bu(n.mergedAttrs,n.attrs)}function dy(t,e,n,r,i,o){for(let l=0;l<r.length;l++)MD(_v(n,e),t,r[l].type);tT(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=ry(t,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=Bu(n.mergedAttrs,u.hostAttrs),nT(t,n,e,c,u),eT(c,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}W0(t,n,o)}function K0(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;Y0(s)!=a&&s.push(a),s.push(n,r,o)}}function Y0(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function Q0(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Vi(n)&&rT(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||_v(n,e),Pn(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],l=xi(e,t,a,n);if(Pn(l,e),s!==null&&iT(e,a-i,l,c,n,s),$i(c)){let u=Ln(n.index,e);u[Vt]=xi(e,t,a,n)}}}function fy(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=mD();try{xn(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];au(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Z0(c,l)}}finally{xn(-1),au(s)}}function Z0(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function J0(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(Db(e,s.selectors,!1))if(r||(r=[]),$i(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;vu(t,e,c)}else r.unshift(s),vu(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function vu(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function X0(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new C(-301,!1);r.push(e[i],o)}}}function eT(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;$i(e)&&(n[""]=t)}}function tT(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function nT(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Ar(i.type,!0)),s=new Ri(o,$i(i),de);t.blueprint[r]=s,n[r]=s,K0(t,e,r,ry(t,n,i.hostVars,Or),i)}function rT(t,e,n){let r=it(e,t),i=cy(n),o=t[ht].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Na(t,Aa(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function iT(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];ny(r,n,c,l,u,d)}}function oT(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function hy(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function py(t,e){let n=t.contentQueries;if(n!==null){let r=G(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];av(o),a.contentQueries(2,e[s],s)}}}finally{G(r)}}}function Na(t,e){return t[Si]?t[Wg][dt]=e:t[Si]=e,t[Wg]=e,e}function yu(t,e,n){av(0);let r=G(null);try{e(t,n)}finally{G(r)}}function sT(t){return t[Ti]||(t[Ti]=[])}function aT(t){return t.cleanup||(t.cleanup=[])}function gy(t,e){let n=t[Mr],r=n?n.get(Ct,null):null;r&&r.handleError(e)}function yd(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=e[s],u=t.data[s];ny(u,l,r,a,c,i)}}function cT(t,e,n){let r=Xm(e,t);v0(t[ce],r,n)}function lT(t,e){let n=Ln(e,t),r=n[U];uT(r,n);let i=n[We];i!==null&&n[ft]===null&&(n[ft]=sd(i,n[Mr])),_d(r,n,n[Vt])}function uT(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function _d(t,e,n){Qu(e);try{let r=t.viewQuery;r!==null&&yu(1,r,n);let i=t.template;i!==null&&iy(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Nr]?.finishViewCreation(t),t.staticContentQueries&&py(t,e),t.staticViewQueries&&yu(2,t.viewQuery,n);let o=t.components;o!==null&&dT(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[M]&=-5,Zu()}}function dT(t,e){for(let n=0;n<e.length;n++)lT(t,e[n])}function fT(t,e,n,r){let i=G(null);try{let o=e.tView,a=t[M]&4096?4096:16,c=Aa(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[ya]=l;let u=t[Nr];return u!==null&&(c[Nr]=u.createEmbeddedView(o)),_d(o,c,n),c}finally{G(i)}}function nm(t,e){return!e||e.firstChild===null||Xs(t)}function hT(t,e,n,r=!0){let i=e[U];if(I0(i,e,t,n),r){let s=mu(n,t),a=e[ce],c=hd(a,t[$t]);c!==null&&_0(i,t[gt],a,e,c,s)}let o=e[ft];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function ra(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(pt(o)),Dt(o)&&pT(o,r);let s=n.type;if(s&8)ra(t,e,n.child,r);else if(s&32){let a=ud(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=Qv(e,n);if(Array.isArray(a))r.push(...a);else{let c=Ni(e[nt]);ra(c[U],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function pT(t,e){for(let n=Be;n<t.length;n++){let r=t[n],i=r[U].firstChild;i!==null&&ra(r[U],r,i,e)}t[$t]!==t[We]&&e.push(t[$t])}var my=[];function gT(t){return t[Rn]??mT(t)}function mT(t){let e=my.pop()??Object.create(yT);return e.lView=t,e}function vT(t){t.lView[Rn]!==t&&(t.lView=null,my.push(t))}var yT=ne(I({},tg),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Mi(t.lView)},consumerOnSignalRead(){this.lView[Rn]=this}}),vy=100;function yy(t,e=!0,n=0){let r=t[ht],i=r.rendererFactory,o=!1;o||i.begin?.();try{_T(t,n)}catch(s){throw e&&gy(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function _T(t,e){_u(t,e);let n=0;for(;Yu(t);){if(n===vy)throw new C(103,!1);n++,_u(t,1)}}function wT(t,e,n,r){let i=e[M];if((i&256)===256)return;let o=!1;!o&&e[ht].inlineEffectRunner?.flush(),Qu(e);let s=null,a=null;!o&&IT(t)&&(a=gT(e),s=ng(a));try{tv(e),fD(t.bindingStartIndex),n!==null&&iy(t,e,n,2,r);let c=(i&3)===3;if(!o)if(c){let d=t.preOrderCheckHooks;d!==null&&Vs(e,d,null)}else{let d=t.preOrderHooks;d!==null&&$s(e,d,0,null),Vl(e,0)}if(ET(e),_y(e,0),t.contentQueries!==null&&py(t,e),!o)if(c){let d=t.contentCheckHooks;d!==null&&Vs(e,d)}else{let d=t.contentHooks;d!==null&&$s(e,d,1),Vl(e,1)}L0(t,e);let l=t.components;l!==null&&Iy(e,l,0);let u=t.viewQuery;if(u!==null&&yu(2,u,r),!o)if(c){let d=t.viewCheckHooks;d!==null&&Vs(e,d)}else{let d=t.viewHooks;d!==null&&$s(e,d,2),Vl(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Ul]){for(let d of e[Ul])d();e[Ul]=null}o||(e[M]&=-73)}catch(c){throw Mi(e),c}finally{a!==null&&(rg(a,s),vT(a)),Zu()}}function IT(t){return t.type!==2}function _y(t,e){for(let n=Rv(t);n!==null;n=xv(n))for(let r=Be;r<n.length;r++){let i=n[r];wy(i,e)}}function ET(t){for(let e=Rv(t);e!==null;e=xv(e)){if(!(e[M]&Gu.HasTransplantedViews))continue;let n=e[Ys];for(let r=0;r<n.length;r++){let i=n[r],o=i[we];nD(i)}}}function CT(t,e,n){let r=Ln(e,t);wy(r,n)}function wy(t,e){Ku(t)&&_u(t,e)}function _u(t,e){let r=t[U],i=t[M],o=t[Rn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&gl(o)),o&&(o.dirty=!1),t[M]&=-9217,s)wT(r,t,r.template,t[Vt]);else if(i&8192){_y(t,1);let a=r.components;a!==null&&Iy(t,a,1)}}function Iy(t,e,n){for(let r=0;r<e.length;r++)CT(t,e[r],n)}function wd(t){for(t[ht].changeDetectionScheduler?.notify();t;){t[M]|=64;let e=Ni(t);if(Km(t)&&!e)return t;t=e}return null}var On=class{get rootNodes(){let e=this._lView,n=e[U];return ra(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Vt]}set context(e){this._lView[Vt]=e}get destroyed(){return(this._lView[M]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[we];if(Dt(e)){let n=e[Ks],r=n?n.indexOf(this):-1;r>-1&&(gu(e,r),Gs(n,r))}this._attachedToViewContainer=!1}Kv(this._lView[U],this._lView)}onDestroy(e){nv(this._lView,e)}markForCheck(){wd(this._cdRefInjectingView||this._lView)}detach(){this._lView[M]&=-129}reattach(){su(this._lView),this._lView[M]|=128}detectChanges(){this._lView[M]|=1024,yy(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new C(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Gv(this._lView[U],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new C(902,!1);this._appRef=e,su(this._lView)}},Id=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=TT;let t=e;return t})(),bT=Id,DT=class extends bT{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=fT(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new On(i)}};function TT(){return ST(Tt(),pe())}function ST(t,e){return t.type&4?new DT(e,t,wa(t,e)):null}function Ey(t){let e=t[Ai]??[],r=t[we][ce];for(let i of e)AT(i,r);t[Ai]=tt}function AT(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[ea];for(;n<i;){let o=r.nextSibling;gd(e,r,!1),r=o,n++}}}function Cy(t){Ey(t);for(let e=Be;e<t.length;e++)ia(t[e])}function MT(t){let e=t[ft]?.i18nNodes;if(e){let n=t[ce];for(let r of e.values())gd(n,r,!1);t[ft].i18nNodes=void 0}}function ia(t){MT(t);let e=t[U];for(let n=ze;n<e.bindingStartIndex;n++)if(Dt(t[n])){let r=t[n];Cy(r)}else cn(t[n])&&ia(t[n])}function NT(t){let e=t._views;for(let n of e){let r=r0(n);if(r!==null&&r[We]!==null)if(cn(r))ia(r);else{let i=r[We];ia(i),Cy(r)}}}var RT=new RegExp(`^(\\d+)*(${Lv}|${kv})*(.*)`);function xT(t){let e=t.match(RT),[n,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(let[c,l,u]of o.matchAll(/(f|n)(\d*)/g)){let d=parseInt(u,10)||1;a.push(l,d)}return[s,...a]}function PT(t){return!t.prev&&t.parent?.type===8}function Gl(t){return t.index-ze}function OT(t,e){let n=t.i18nNodes;if(n){let r=n.get(e);return r&&n.delete(e),r}return null}function Ra(t,e,n,r){let i=Gl(r),o=OT(t,i);if(!o){let s=t.data[ZD];if(s?.[i])o=LT(s[i],n);else if(e.firstChild===r)o=t.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if(PT(r)){let l=Gl(r.parent);o=pu(t,l)}else{let l=it(c,n);if(a)o=l.firstChild;else{let u=Gl(c),d=pu(t,u);if(c.type===2&&d){let h=ad(t,u)+1;o=xa(h,d)}else o=l.nextSibling}}}}return o}function xa(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function kT(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case hu.FirstChild:n=n.firstChild;break;case hu.NextSibling:n=n.nextSibling;break}}return n}function LT(t,e){let[n,...r]=xT(t),i;if(n===kv)i=e[nt][We];else if(n===Lv)i=g0(e[nt][We]);else{let o=Number(n);i=pt(e[o+ze])}return kT(i,r)}function FT(t,e){let n=[];for(let r of e)for(let i=0;i<(r[Fv]??1);i++){let o={data:r,firstChild:null};r[ea]>0&&(o.firstChild=t,t=xa(r[ea],t)),n.push(o)}return[t,n]}var by=()=>null;function jT(t,e){let n=t[Ai];return!e||n===null||n.length===0?null:n[0].data[QD]===e?n.shift():(Ey(t),null)}function UT(){by=jT}function rm(t,e){return by(t,e)}var oa=class{},wu=class{},sa=class{};function VT(t){let e=Error(`No component factory found for ${xe(t)}.`);return e[$T]=t,e}var $T="ngComponent";var Iu=class{resolveComponentFactory(e){throw VT(e)}},Pa=(()=>{let e=class e{};e.NULL=new Iu;let t=e;return t})(),Pi=class{};var BT=(()=>{let e=class e{};e.\u0275prov=E({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),ql={};var im=new Set;function kr(t){im.has(t)||(im.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function om(...t){}function HT(){let t=typeof $e.requestAnimationFrame=="function",e=$e[t?"requestAnimationFrame":"setTimeout"],n=$e[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var W=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Se(!1),this.onMicrotaskEmpty=new Se(!1),this.onStable=new Se(!1),this.onError=new Se(!1),typeof Zone>"u")throw new C(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=HT().nativeRequestAnimationFrame,GT(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new C(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new C(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,WT,om,om);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},WT={};function Ed(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function zT(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call($e,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Eu(t),t.isCheckStableRunning=!0,Ed(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Eu(t))}function GT(t){let e=()=>{zT(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(qT(a))return n.invokeTask(i,o,s,a);try{return sm(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),am(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return sm(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),am(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Eu(t),Ed(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Eu(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function sm(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function am(t){t._nesting--,Ed(t)}var Cu=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Se,this.onMicrotaskEmpty=new Se,this.onStable=new Se,this.onError=new Se}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function qT(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function KT(t="zone.js",e){return t==="noop"?new Cu:t==="zone.js"?new W(e):t}var Dr=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Dr||{}),YT={destroy(){}};function Cd(t,e){!e&&zb(Cd);let n=e?.injector??g(Ae);if(!wi(n))return YT;kr("NgAfterNextRender");let r=n.get(bd),i=r.handler??=new Du,o=e?.phase??Dr.MixedReadWrite,s=()=>{i.unregister(c),a()},a=n.get(nd).onDestroy(s),c=bt(n,()=>new bu(o,()=>{s(),t()}));return i.register(c),{destroy:s}}var bu=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=g(W),this.errorHandler=g(Ct,{optional:!0}),g(oa,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Du=class{constructor(){this.executingCallbacks=!1,this.buckets={[Dr.EarlyRead]:new Set,[Dr.Write]:new Set,[Dr.MixedReadWrite]:new Set,[Dr.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},bd=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=E({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Tu(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Og(i,a);else if(o==2){let c=a,l=e[++s];r=Og(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var aa=class extends Pa{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=un(e);return new Rr(n,this.ngModule)}};function cm(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function QT(t){let e=t.toLowerCase();return e==="svg"?Zb:e==="math"?Jb:null}var Su=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=ma(r);let i=this.injector.get(e,ql,r);return i!==ql||n===ql?i:this.parentInjector.get(e,n,r)}},Rr=class extends sa{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=cm(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return cm(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=Mb(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=G(null);try{i=i||this.ngModule;let s=i instanceof He?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Su(e,s):e,c=a.get(Pi,null);if(c===null)throw new C(407,!1);let l=a.get(BT,null),u=a.get(bd,null),d=a.get(oa,null),f={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},h=c.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",w=r?U0(h,r,this.componentDef.encapsulation,a):Ta(h,p,QT(p)),R=512;this.componentDef.signals?R|=4096:this.componentDef.onPush||(R|=16);let O=null;w!==null&&(O=sd(w,a,!0));let oe=vd(0,null,null,1,0,null,null,null,null,null,null),ee=Aa(null,oe,null,R,null,null,f,h,a,null,O);Qu(ee);let Ne,Lt;try{let De=this.componentDef,Ft,gi=null;De.findHostDirectiveDefs?(Ft=[],gi=new Map,De.findHostDirectiveDefs(De,Ft,gi),Ft.push(De)):Ft=[De];let mi=ZT(ee,w),hl=JT(mi,w,De,Ft,ee,f,h);Lt=ev(oe,ze),w&&tS(h,De,w,r),n!==void 0&&nS(Lt,this.ngContentSelectors,n),Ne=eS(hl,De,Ft,gi,ee,[rS]),_d(oe,ee,null)}finally{Zu()}return new Au(this.componentType,Ne,wa(Lt,ee),ee,Lt)}finally{G(o)}}},Au=class extends wu{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new On(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;yd(o[U],o,i,e,n),this.previousInputValues.set(e,n);let s=Ln(this._tNode.index,o);wd(s)}}get injector(){return new Mn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function ZT(t,e){let n=t[U],r=ze;return t[r]=e,Ma(n,r,2,"#host",null)}function JT(t,e,n,r,i,o,s){let a=i[U];XT(r,t,e,s);let c=null;e!==null&&(c=sd(e,i[Mr]));let l=o.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=Aa(i,cy(n),null,u,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&vu(a,t,r.length-1),Na(i,d),i[t.index]=d}function XT(t,e,n,r){for(let i of t)e.mergedAttrs=Bu(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Tu(e,e.mergedAttrs,!0),n!==null&&Xv(r,n,e))}function eS(t,e,n,r,i,o){let s=Tt(),a=i[U],c=it(s,i);dy(a,i,s,n,null,r);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,f=xi(i,a,d,s);Pn(f,i)}fy(a,i,s),c&&Pn(c,i);let l=xi(i,a,s.directiveStart+s.componentOffset,s);if(t[Vt]=i[Vt]=l,o!==null)for(let u of o)u(l,e);return oy(a,s,i),l}function tS(t,e,n,r){if(r)eu(t,n,["ng-version","17.3.6"]);else{let{attrs:i,classes:o}=Nb(e.selectors[0]);i&&eu(t,n,i),o&&o.length>0&&Jv(t,n,o.join(" "))}}function nS(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function rS(){let t=Tt();Xu(pe()[U],t)}var Gi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=iS;let t=e;return t})();function iS(){let t=Tt();return sS(t,pe())}var oS=Gi,Dy=class extends oS{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return wa(this._hostTNode,this._hostLView)}get injector(){return new Mn(this._hostTNode,this._hostLView)}get parentInjector(){let e=ed(this._hostTNode,this._hostLView);if(mv(e)){let n=Js(e,this._hostLView),r=Zs(e),i=n[U].data[r+8];return new Mn(i,n)}else return new Mn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=lm(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Be}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=rm(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,nm(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!qb(e),a;if(s)a=n;else{let p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let c=s?e:new Rr(un(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let w=(s?l:this.parentInjector).get(He,null);w&&(o=w)}let u=un(c.componentType??{}),d=rm(this._lContainer,u?.id??null),f=d?.firstChild??null,h=c.create(l,i,f,o);return this.insertImpl(h.hostView,a,nm(this._hostTNode,d)),h}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(tD(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[we],l=new Dy(c,c[gt],c[we]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return hT(s,i,o,r),e.attachToViewContainerRef(),Nm(Kl(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=lm(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=gu(this._lContainer,n);r&&(Gs(Kl(this._lContainer),n),Kv(r[U],r))}detach(e){let n=this._adjustIndex(e,-1),r=gu(this._lContainer,n);return r&&Gs(Kl(this._lContainer),n)!=null?new On(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function lm(t){return t[Ks]}function Kl(t){return t[Ks]||(t[Ks]=[])}function sS(t,e){let n,r=e[t.index];return Dt(r)?n=r:(n=hy(r,e,null,t),e[t.index]=n,Na(e,n)),Ty(n,e,t,r),new Dy(n,t,e)}function aS(t,e){let n=t[ce],r=n.createComment(""),i=it(e,t),o=hd(n,i);return na(n,o,r,A0(n,i),!1),r}var Ty=Sy,Dd=()=>!1;function cS(t,e,n){return Dd(t,e,n)}function Sy(t,e,n,r){if(t[$t])return;let i;n.type&8?i=pt(r):i=aS(e,n),t[$t]=i}function lS(t,e,n){if(t[$t]&&t[Ai])return!0;let r=n[ft],i=e.index-ze;if(!r||VD(e)||ba(r,i))return!1;let s=pu(r,i),a=r.data[od]?.[i],[c,l]=FT(s,a);return t[$t]=c,t[Ai]=l,!0}function uS(t,e,n,r){Dd(t,n,e)||Sy(t,e,n,r)}function dS(){Ty=uS,Dd=lS}function fS(t){let e=[],n=new Map;function r(i){let o=n.get(i);if(!o){let s=t(i);n.set(i,o=s.then(mS))}return o}return ca.forEach((i,o)=>{let s=[];i.templateUrl&&s.push(r(i.templateUrl).then(l=>{i.template=l}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let l=i.styles.length,u=i.styleUrls;i.styleUrls.forEach((d,f)=>{a.push(""),s.push(r(d).then(h=>{a[l+f]=h,u.splice(u.indexOf(d),1),u.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&s.push(r(i.styleUrl).then(l=>{a.push(l),i.styleUrl=void 0}));let c=Promise.all(s).then(()=>vS(o));e.push(c)}),pS(),Promise.all(e).then(()=>{})}var ca=new Map,hS=new Set;function pS(){let t=ca;return ca=new Map,t}function gS(){return ca.size===0}function mS(t){return typeof t=="string"?t:t.text()}function vS(t){hS.delete(t)}var dn=class{},Oi=class{};var la=class extends dn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new aa(this);let i=jm(e);this._bootstrapComponents=zv(i.bootstrap),this._r3Injector=Tv(e,n,[{provide:dn,useValue:this},{provide:Pa,useValue:this.componentFactoryResolver},...r],xe(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},ua=class extends Oi{constructor(e){super(),this.moduleType=e}create(e){return new la(this.moduleType,e,[])}};function yS(t,e,n){return new la(t,e,n)}var Mu=class extends dn{constructor(e){super(),this.componentFactoryResolver=new aa(this),this.instance=null;let n=new Di([...e.providers,{provide:dn,useValue:this},{provide:Pa,useValue:this.componentFactoryResolver}],e.parent||zu(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Oa(t,e,n=null){return new Mu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var qi=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new he(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ay(t){return wS(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function _S(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function wS(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Td(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function Ki(t){return(t.flags&32)===32}function IS(t,e,n,r,i,o,s,a,c){let l=e.consts,u=Ma(e,t,4,s||null,Qs(l,a));uy(e,n,u,Qs(l,c)),Xu(e,u);let d=u.tView=vd(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function ka(t,e,n,r,i,o,s,a){let c=pe(),l=hn(),u=t+ze,d=l.firstCreatePass?IS(u,l,c,e,n,r,i,o,s):l.data[u];Wi(d,!1);let f=My(l,c,d,t);Ju()&&pd(l,c,f,d),Pn(f,c);let h=hy(f,c,f,d);return c[u]=h,Na(c,h),cS(h,d,c),qu(d)&&sy(l,c,d),s!=null&&ay(c,d,a),ka}var My=Ny;function Ny(t,e,n,r){return St(!0),e[ce].createComment("")}function ES(t,e,n,r){let i=e[ft],o=!i||Hi()||Ki(n)||ba(i,r);if(St(o),o)return Ny(t,e,n,r);let s=i.data[YD]?.[r]??null;s!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=s);let a=Ra(i,t,e,n);Ca(i,r,a);let c=ad(i,r);return xa(c,a)}function CS(){My=ES}function bS(t,e,n,r){return Td(t,sv(),n)?e+ju(n)+r:Or}function Ls(t,e){return t<<17|e<<2}function kn(t){return t>>17&32767}function DS(t){return(t&2)==2}function TS(t,e){return t&131071|e<<17}function Nu(t){return t|2}function xr(t){return(t&131068)>>2}function Yl(t,e){return t&-131069|e<<2}function SS(t){return(t&1)===1}function Ru(t){return t|1}function AS(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=kn(s),c=xr(s);t[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Fi(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let f=kn(t[a+1]);t[r+1]=Ls(f,a),f!==0&&(t[f+1]=Yl(t[f+1],r)),t[a+1]=TS(t[a+1],r)}else t[r+1]=Ls(a,0),a!==0&&(t[a+1]=Yl(t[a+1],r)),a=r;else t[r+1]=Ls(c,0),a===0?a=r:t[c+1]=Yl(t[c+1],r),c=r;l&&(t[r+1]=Nu(t[r+1])),um(t,u,r,!0),um(t,u,r,!1),MS(e,u,t,r,o),s=Ls(a,c),o?e.classBindings=s:e.styleBindings=s}function MS(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Fi(o,e)>=0&&(n[r+1]=Ru(n[r+1]))}function um(t,e,n,r){let i=t[n+1],o=e===null,s=r?kn(i):xr(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];NS(c,e)&&(a=!0,t[s+1]=r?Ru(l):Nu(l)),s=r?kn(l):xr(l)}a&&(t[n+1]=r?Nu(i):Ru(i))}function NS(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Fi(t,e)>=0:!1}function Wt(t,e,n){let r=pe(),i=sv();if(Td(r,i,e)){let o=hn(),s=_D();G0(o,s,r,t,e,r[ce],n,!1)}return Wt}function dm(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";yd(t,n,o[s],s,r)}function te(t,e){return RS(t,e,null,!0),te}function RS(t,e,n,r){let i=pe(),o=hn(),s=hD(2);if(o.firstUpdatePass&&PS(o,t,s,r),e!==Or&&Td(i,s,e)){let a=o.data[Pr()];jS(o,a,i,i[ce],t,i[s+1]=US(e,n),r,s)}}function xS(t,e){return e>=t.expandoStartIndex}function PS(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Pr()],s=xS(t,n);VS(o,r)&&e===null&&!s&&(e=!1),e=OS(i,o,e,r),AS(i,o,e,n,s,r)}}function OS(t,e,n,r){let i=vD(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Ql(null,t,e,n,r),n=ki(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Ql(i,t,e,n,r),o===null){let c=kS(t,e,r);c!==void 0&&Array.isArray(c)&&(c=Ql(null,t,e,c[1],r),c=ki(c,e.attrs,r),LS(t,e,r,c))}else o=FS(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function kS(t,e,n){let r=n?e.classBindings:e.styleBindings;if(xr(r)!==0)return t[kn(r)]}function LS(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[kn(i)]=r}function FS(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=ki(r,s,n)}return ki(r,e.attrs,n)}function Ql(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=ki(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function ki(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),mb(t,s,n?!0:e[++o]))}return t===void 0?null:t}function jS(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=SS(l)?fm(c,e,n,i,xr(l),s):void 0;if(!da(u)){da(o)||DS(l)&&(o=fm(c,null,n,i,a,s));let d=Xm(Pr(),n);O0(r,s,d,i,o)}}function fm(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,f=n[i+1];f===Or&&(f=d?tt:void 0);let h=d?Fl(f,r):u===r?f:void 0;if(l&&!da(h)&&(h=Fl(c,r)),da(h)&&(a=h,s))return a;let p=t[i+1];i=s?kn(p):xr(p)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=Fl(c,r))}return a}function da(t){return t!==void 0}function US(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=xe(Da(t)))),t}function VS(t,e){return(t.flags&(e?8:16))!==0}function $S(t,e,n,r,i,o){let s=e.consts,a=Qs(s,i),c=Ma(e,t,2,r,a);return uy(e,n,c,Qs(s,o)),c.attrs!==null&&Tu(c,c.attrs,!1),c.mergedAttrs!==null&&Tu(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function v(t,e,n,r){let i=pe(),o=hn(),s=ze+t,a=i[ce],c=o.firstCreatePass?$S(s,o,i,e,n,r):o.data[s],l=Ry(o,i,c,a,e,t);i[s]=l;let u=qu(c);return Wi(c,!0),Xv(a,l,c),!Ki(c)&&Ju()&&pd(o,i,l,c),iD()===0&&Pn(l,i),oD(),u&&(sy(o,i,c),oy(o,c,i)),r!==null&&ay(i,c),v}function y(){let t=Tt();ov()?dD():(t=t.parent,Wi(t,!1));let e=t;aD(e)&&lD(),sD();let n=hn();return n.firstCreatePass&&(Xu(n,t),qm(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&CD(e)&&dm(n,e,pe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&bD(e)&&dm(n,e,pe(),e.stylesWithoutHost,!1),y}function D(t,e,n,r){return v(t,e,n,r),y(),D}var Ry=(t,e,n,r,i,o)=>(St(!0),Ta(r,i,hv()));function BS(t,e,n,r,i,o){let s=e[ft],a=!s||Hi()||Ki(n)||ba(s,o);if(St(a),a)return Ta(r,i,hv());let c=Ra(s,t,e,n);return Vv(s,o)&&Ca(s,o,c.nextSibling),s&&(Av(n)||Mv(c))&&Vi(n)&&(cD(n),Zv(c)),c}function HS(){Ry=BS}var WS=(t,e,n,r)=>(St(!0),fd(e[ce],""));function zS(t,e,n,r){let i,o=e[ft],s=!o||Hi()||Ki(n);if(St(s),s)return fd(e[ce],"");let a=Ra(o,t,e,n),c=s0(o,r);return Ca(o,r,a),i=xa(c,a),i}function GS(){WS=zS}var fa="en-US";var qS=fa;function KS(t){typeof t=="string"&&(qS=t.toLowerCase().replace(/_/g,"-"))}function xy(t,e,n){let r=t[ce];switch(n){case Node.COMMENT_NODE:return fd(r,e);case Node.TEXT_NODE:return dd(r,e);case Node.ELEMENT_NODE:return Ta(r,e,null)}}var YS=(t,e,n,r)=>(St(!0),xy(t,n,r));function QS(t,e,n,r){return St(!0),xy(t,n,r)}function ZS(){YS=QS}function Ye(t,e,n,r){let i=pe(),o=hn(),s=Tt();return XS(o,i,i[ce],s,t,e,r),Ye}function JS(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Ti],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function XS(t,e,n,r,i,o,s){let a=qu(r),l=t.firstCreatePass&&aT(t),u=e[Vt],d=sT(e),f=!0;if(r.type&3||s){let w=it(r,e),R=s?s(w):w,O=d.length,oe=s?Ne=>s(pt(Ne[r.index])):r.index,ee=null;if(!s&&a&&(ee=JS(t,e,i,r.index)),ee!==null){let Ne=ee.__ngLastListenerFn__||ee;Ne.__ngNextListenerFn__=o,ee.__ngLastListenerFn__=o,f=!1}else{o=pm(r,e,u,o,!1);let Ne=n.listen(R,i,o);d.push(o,Ne),l&&l.push(i,oe,O,O+1)}}else o=pm(r,e,u,o,!1);let h=r.outputs,p;if(f&&h!==null&&(p=h[i])){let w=p.length;if(w)for(let R=0;R<w;R+=2){let O=p[R],oe=p[R+1],Lt=e[O][oe].subscribe(o),De=d.length;d.push(o,Lt),l&&l.push(i,r.index,De,-(De+1))}}}function hm(t,e,n,r){let i=G(null);try{return wt(6,e,n),n(r)!==!1}catch(o){return gy(t,o),!1}finally{wt(7,e,n),G(i)}}function pm(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?Ln(t.index,e):e;wd(a);let c=hm(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)c=hm(e,n,l,s)&&c,l=l.__ngNextListenerFn__;return i&&c===!1&&s.preventDefault(),c}}function S(t,e=""){let n=pe(),r=hn(),i=t+ze,o=r.firstCreatePass?Ma(r,i,1,e,null):r.data[i],s=Py(r,n,o,e,t);n[i]=s,Ju()&&pd(r,n,s,o),Wi(o,!1)}var Py=(t,e,n,r,i)=>(St(!0),dd(e[ce],r));function eA(t,e,n,r,i){let o=e[ft],s=!o||Hi()||Ki(n)||ba(o,i);return St(s),s?dd(e[ce],r):Ra(o,t,e,n)}function tA(){Py=eA}function La(t){return Fa("",t,""),La}function Fa(t,e,n){let r=pe(),i=bS(r,t,e,n);return i!==Or&&cT(r,Pr(),i),Fa}var nA=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=$m(!1,r.type),o=i.length>0?Oa([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=E({token:e,providedIn:"environment",factory:()=>new e(T(He))});let t=e;return t})();function Oy(t){kr("NgStandalone"),t.getStandaloneInjector=e=>e.get(nA).getOrCreateStandaloneInjector(t)}var Fs=null;function rA(t){Fs!==null&&(t.defaultEncapsulation!==Fs.defaultEncapsulation||t.preserveWhitespaces!==Fs.preserveWhitespaces)||(Fs=t)}var fn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},ky=new fn("17.3.6"),ja=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Sd=new b(""),Yi=new b(""),Ua=(()=>{let e=class e{constructor(r,i,o){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,Ad||(iA(o),o.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{W.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(r)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,o){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),r()},i)),this._callbacks.push({doneCb:r,timeoutId:s,updateCb:o})}whenStable(r,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,o){return[]}};e.\u0275fac=function(i){return new(i||e)(T(W),T(Va),T(Yi))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Va=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return Ad?.findTestabilityInTree(this,r,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function iA(t){Ad=t}var Ad;function Qi(t){return!!t&&typeof t.then=="function"}function Ly(t){return!!t&&typeof t.subscribe=="function"}var $a=new b(""),Fy=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=g($a,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(Qi(s))r.push(s);else if(Ly(s)){let a=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Lr=new b("");function oA(){og(()=>{throw new C(600,!1)})}function sA(t){return t.isBoundToModule}function aA(t,e,n){try{let r=n();return Qi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}function jy(t,e){return Array.isArray(e)?e.reduce(jy,t):I(I({},t),e)}var zt=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=g(Sv),this.afterRenderEffectManager=g(bd),this.externalTestViews=new Set,this.beforeRender=new Te,this.afterTick=new Te,this.componentTypes=[],this.components=[],this.isStable=g(qi).hasPendingTasks.pipe(V(r=>!r)),this._injector=g(He)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof sa;if(!this._injector.get(Fy).done){let h=!o&&Fm(r),p=!1;throw new C(405,p)}let a;o?a=r:a=this._injector.get(Pa).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=sA(a)?void 0:this._injector.get(dn),l=i||a.selector,u=a.create(Ae.NULL,[],l,c),d=u.location.nativeElement,f=u.injector.get(Sd,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Hs(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new C(101,!1);let i=G(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,G(i)}}detectChangesInAttachedViews(r){let i=0,o=this.afterRenderEffectManager;for(;;){if(i===vy)throw new C(103,!1);if(r){let s=i===0;this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:c}of this._views)cA(a,s,c)}if(i++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>xu(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>xu(s))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Hs(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Lr,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Hs(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new C(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Hs(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var js;function Md(t){js??=new WeakMap;let e=js.get(t);if(e)return e;let n=t.isStable.pipe(lt(r=>r)).toPromise().then(()=>{});return js.set(t,n),t.onDestroy(()=>js?.delete(t)),n}function cA(t,e,n){!e&&!xu(t)||lA(t,n,e)}function xu(t){return Yu(t)}function lA(t,e,n){let r;n?(r=0,t[M]|=1024):t[M]&64?r=0:r=1,yy(t,e,r)}var Pu=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Ba=(()=>{let e=class e{compileModuleSync(r){return new ua(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=jm(r),s=zv(o.declarations).reduce((a,c)=>{let l=un(c);return l&&a.push(new Rr(l)),a},[]);return new Pu(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),uA=new b("");function dA(t,e,n){let r=new ua(n);return Promise.resolve(r)}function gm(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var fA=(()=>{let e=class e{constructor(){this.zone=g(W),this.applicationRef=g(zt)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function hA(t){return[{provide:W,useFactory:t},{provide:Nn,multi:!0,useFactory:()=>{let e=g(fA,{optional:!0});return()=>e.initialize()}},{provide:Nn,multi:!0,useFactory:()=>{let e=g(mA);return()=>{e.initialize()}}},{provide:Sv,useFactory:pA}]}function pA(){let t=g(W),e=g(Ct);return n=>t.runOutsideAngular(()=>e.handleError(n))}function gA(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var mA=(()=>{let e=class e{constructor(){this.subscription=new se,this.initialized=!1,this.zone=g(W),this.pendingTasks=g(qi)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{W.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{W.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function vA(){return typeof $localize<"u"&&$localize.locale||fa}var Nd=new b("",{providedIn:"root",factory:()=>g(Nd,k.Optional|k.SkipSelf)||vA()});var Uy=new b(""),Vy=(()=>{let e=class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){let o=KT(i?.ngZone,gA({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return o.run(()=>{let s=yS(r.moduleType,this.injector,hA(()=>o)),a=s.injector.get(Ct,null);return o.runOutsideAngular(()=>{let c=o.onError.subscribe({next:l=>{a.handleError(l)}});s.onDestroy(()=>{Hs(this._modules,s),c.unsubscribe()})}),aA(a,o,()=>{let c=s.injector.get(Fy);return c.runInitializers(),c.donePromise.then(()=>{let l=s.injector.get(Nd,fa);return KS(l||fa),this._moduleDoBootstrap(s),s})})})}bootstrapModule(r,i=[]){let o=jy({},i);return dA(this.injector,o,r).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(r){let i=r.injector.get(zt);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(o=>i.bootstrap(o));else if(r.instance.ngDoBootstrap)r.instance.ngDoBootstrap(i);else throw new C(-403,!1);this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new C(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let r=this._injector.get(Uy,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(i){return new(i||e)(T(Ae))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),Ei=null,$y=new b("");function yA(t){if(Ei&&!Ei.get($y,!1))throw new C(400,!1);oA(),Ei=t;let e=t.get(Vy);return IA(t),e}function Rd(t,e,n=[]){let r=`Platform: ${e}`,i=new b(r);return(o=[])=>{let s=By();if(!s||s.injector.get($y,!1)){let a=[...n,...o,{provide:i,useValue:!0}];t?t(a):yA(_A(a,r))}return wA(i)}}function _A(t=[],e){return Ae.create({name:e,providers:[{provide:va,useValue:"platform"},{provide:Uy,useValue:new Set([()=>Ei=null])},...t]})}function wA(t){let e=By();if(!e)throw new C(401,!1);return e}function By(){return Ei?.get(Vy)??null}function IA(t){t.get(rd,null)?.forEach(n=>n())}var Zi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=EA;let t=e;return t})();function EA(t){return CA(Tt(),pe(),(t&16)===16)}function CA(t,e,n){if(Vi(t)&&!n){let r=Ln(t.index,e);return new On(r,r)}else if(t.type&47){let r=e[nt];return new On(r,e)}return null}var Ou=class{constructor(){}supports(e){return Ay(e)}create(e){return new ku(e)}},bA=(t,e)=>e,ku=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||bA}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<mm(r,i,o)?n:r,a=mm(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let f=0;f<l;f++){let h=f<o.length?o[f]:o[f]=0,p=h+f;u<=p&&p<l&&(o[f]=h+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!Ay(e))throw new C(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,_S(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Lu(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new ha),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ha),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Lu=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Fu=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},ha=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Fu,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function mm(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function vm(){return new xd([new Ou])}var xd=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||vm()),deps:[[e,new Vu,new rt]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new C(901,!1)}};e.\u0275prov=E({token:e,providedIn:"root",factory:vm});let t=e;return t})();var Hy=Rd(null,"core",[]),Wy=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(i){return new(i||e)(T(zt))},e.\u0275mod=qe({type:e}),e.\u0275inj=Ge({});let t=e;return t})();var ym=!1,DA=!1;function TA(){ym||(ym=!0,n0(),HS(),tA(),GS(),CS(),dS(),UT(),B0(),ZS())}function SA(t,e){return Md(t)}function zy(){return Ht([{provide:ks,useFactory:()=>{let t=!0;return wi()&&(t=!!g(Fn,{optional:!0})?.get(jv,null)),t&&kr("NgHydration"),t}},{provide:Nn,useValue:()=>{DA=!!g(a0,{optional:!0}),wi()&&g(ks)&&(AA(),TA())},multi:!0},{provide:Bv,useFactory:()=>wi()&&g(ks)},{provide:Lr,useFactory:()=>{if(wi()&&g(ks)){let t=g(zt),e=g(Ae);return()=>{SA(t,e).then(()=>{NT(t)})}}return()=>{}},multi:!0}])}function AA(){let t=Ea(),e;for(let n of t.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===e0){e=n;break}if(!e)throw new C(-507,!1)}function Gy(t){let e=un(t);if(!e)return null;let n=new Rr(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var Zy=null;function jn(){return Zy}function Jy(t){Zy??=t}var Ha=class{};var Me=new b(""),Ld=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>g(xA),providedIn:"platform"});let t=e;return t})(),Xy=new b(""),xA=(()=>{let e=class e extends Ld{constructor(){super(),this._doc=g(Me),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return jn().getBaseHref(this._doc)}onPopState(r){let i=jn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=jn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Fd(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function qy(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Gt(t){return t&&t[0]!=="?"?"?"+t:t}var Un=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>g(jd),providedIn:"root"});let t=e;return t})(),e_=new b(""),jd=(()=>{let e=class e extends Un{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??g(Me).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Fd(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Gt(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Gt(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Gt(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(T(Ld),T(e_,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),t_=(()=>{let e=class e extends Un{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=Fd(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Gt(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Gt(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(T(Ld),T(e_,8))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Fr=(()=>{let e=class e{constructor(r){this._subject=new Se,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=kA(qy(Ky(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Gt(i))}normalize(r){return e.stripTrailingSlash(OA(this._basePath,Ky(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Gt(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Gt(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=Gt,e.joinWithSlash=Fd,e.stripTrailingSlash=qy,e.\u0275fac=function(i){return new(i||e)(T(Un))},e.\u0275prov=E({token:e,factory:()=>PA(),providedIn:"root"});let t=e;return t})();function PA(){return new Fr(T(Un))}function OA(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Ky(t){return t.replace(/\/index.html$/,"")}function kA(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Ud(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Pd=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},n_=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new Pd(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let c=i.get(s);i.move(c,a),Yy(c,o)}});for(let o=0,s=i.length;o<s;o++){let c=i.get(o).context;c.index=o,c.count=s,c.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);Yy(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(de(Gi),de(Id),de(xd))},e.\u0275dir=ji({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function Yy(t,e){t.context.$implicit=e.item}var za=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=qe({type:e}),e.\u0275inj=Ge({});let t=e;return t})(),Vd="browser",LA="server";function FA(t){return t===Vd}function jr(t){return t===LA}var r_=(()=>{let e=class e{};e.\u0275prov=E({token:e,providedIn:"root",factory:()=>FA(g(Ke))?new Od(g(Me),window):new kd});let t=e;return t})(),Od=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=jA(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function jA(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var kd=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Wa=class{};var qa=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var d_=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(d_||{}),$d=class{constructor(e,n=f_.Ok,r="OK"){this.headers=e.headers||new qa,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var Ka=class t extends $d{constructor(e={}){super(e),this.type=d_.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};var f_=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(f_||{});var $A=new b("");var i_="b",o_="h",s_="s",a_="st",c_="u",l_="rt",Ga=new b(""),BA=["GET","HEAD"];function HA(t,e){let d=g(Ga),{isCacheActive:n}=d,r=Jp(d,["isCacheActive"]),{transferCache:i,method:o}=t;if(!n||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!BA.includes(o)||i===!1||r.filter?.(t)===!1)return e(t);let s=g(Fn),a=zA(t),c=s.get(a,null),l=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(l=i.includeHeaders),c){let{[i_]:f,[l_]:h,[o_]:p,[s_]:w,[a_]:R,[c_]:O}=c,oe=f;switch(h){case"arraybuffer":oe=new TextEncoder().encode(f).buffer;break;case"blob":oe=new Blob([f]);break}let ee=new qa(p);return A(new Ka({body:oe,headers:ee,status:w,statusText:R,url:O}))}let u=jr(g(Ke));return e(t).pipe(ae(f=>{f instanceof Ka&&u&&s.set(a,{[i_]:f.body,[o_]:WA(f.headers,l),[s_]:f.status,[a_]:f.statusText,[c_]:f.url||"",[l_]:t.responseType})}))}function WA(t,e){if(!e)return{};let n={};for(let r of e){let i=t.getAll(r);i!==null&&(n[r]=i)}return n}function u_(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function zA(t){let{params:e,method:n,responseType:r,url:i}=t,o=u_(e),s=t.serializeBody();s instanceof URLSearchParams?s=u_(s):typeof s!="string"&&(s="");let a=[n,r,i,s,o].join("|"),c=GA(a);return c}function GA(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function h_(t){return[{provide:Ga,useFactory:()=>(kr("NgHttpTransferCache"),I({isCacheActive:!0},t))},{provide:$A,useValue:HA,multi:!0,deps:[Fn,Ga]},{provide:Lr,multi:!0,useFactory:()=>{let e=g(zt),n=g(Ga);return()=>{Md(e).then(()=>{n.isCacheActive=!1})}}}]}var Wd=class extends Ha{constructor(){super(...arguments),this.supportsDOMEvents=!0}},zd=class t extends Wd{static makeCurrent(){Jy(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=qA();return n==null?null:KA(n)}resetBaseElement(){Ji=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ud(document.cookie,e)}},Ji=null;function qA(){return Ji=Ji||document.querySelector("base"),Ji?Ji.getAttribute("href"):null}function KA(t){return new URL(t,document.baseURI).pathname}var Gd=class{addToWindow(e){$e.getAngularTestability=(r,i=!0)=>{let o=e.findTestabilityInTree(r,i);if(o==null)throw new C(5103,!1);return o},$e.getAllAngularTestabilities=()=>e.getAllTestabilities(),$e.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=$e.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};$e.frameworkStabilizers||($e.frameworkStabilizers=[]),$e.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?jn().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},YA=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),qd=new b(""),v_=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new C(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(T(qd),T(W))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Ya=class{constructor(e){this._doc=e}},Bd="ng-app-id",y_=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=jr(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Bd}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(Bd),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Bd,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(T(Me),T(zi),T(id,8),T(Ke))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Hd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Qd=/%COMP%/g,__="%COMP%",QA=`_nghost-${__}`,ZA=`_ngcontent-${__}`,JA=!0,XA=new b("",{providedIn:"root",factory:()=>JA});function eM(t){return ZA.replace(Qd,t)}function tM(t){return QA.replace(Qd,t)}function w_(t,e){return e.map(n=>n.replace(Qd,t))}var p_=(()=>{let e=class e{constructor(r,i,o,s,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=jr(c),this.defaultRenderer=new Xi(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Et.ShadowDom&&(i=ne(I({},i),{encapsulation:Et.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof Qa?o.applyToHost(r):o instanceof eo&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case Et.Emulated:s=new Qa(l,u,i,this.appId,d,a,c,f);break;case Et.ShadowDom:return new Kd(l,u,r,i,a,c,this.nonce,f);default:s=new eo(l,u,i,d,a,c,f);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(T(v_),T(y_),T(zi),T(XA),T(Me),T(Ke),T(W),T(id))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),Xi=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Hd[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(g_(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(g_(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new C(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Hd[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Hd[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Bt.DashCase|Bt.Important)?e.style.setProperty(n,r,i&Bt.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Bt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=jn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function g_(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Kd=class extends Xi{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=w_(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},eo=class extends Xi{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?w_(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Qa=class extends eo{constructor(e,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=eM(l),this.hostAttr=tM(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},nM=(()=>{let e=class e extends Ya{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(T(Me))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})(),m_=["alt","control","meta","shift"],rM={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},iM={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},oM=(()=>{let e=class e extends Ya{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>jn().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),m_.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=rM[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),m_.forEach(a=>{if(a!==o){let c=iM[a];c(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(T(Me))},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();function sM(){zd.makeCurrent()}function aM(){return new Ct}function cM(){return Ov(document),document}var lM=[{provide:Ke,useValue:Vd},{provide:rd,useValue:sM,multi:!0},{provide:Me,useFactory:cM,deps:[]}],I_=Rd(Hy,"browser",lM),uM=new b(""),dM=[{provide:Yi,useClass:Gd,deps:[]},{provide:Sd,useClass:Ua,deps:[W,Va,Yi]},{provide:Ua,useClass:Ua,deps:[W,Va,Yi]}],fM=[{provide:va,useValue:"root"},{provide:Ct,useFactory:aM,deps:[]},{provide:qd,useClass:nM,multi:!0,deps:[Me,W,Ke]},{provide:qd,useClass:oM,multi:!0,deps:[Me]},p_,y_,v_,{provide:Pi,useExisting:p_},{provide:Wa,useClass:YA,deps:[]},[]],E_=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:zi,useValue:r.appId}]}}};e.\u0275fac=function(i){return new(i||e)(T(uM,12))},e.\u0275mod=qe({type:e}),e.\u0275inj=Ge({providers:[...fM,...dM],imports:[za,Wy]});let t=e;return t})();var C_=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(T(Me))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Yd=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t}(Yd||{});function b_(...t){let e=[],n=new Set,r=n.has(Yd.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:o}of t)n.add(o),i.length&&e.push(i);return Ht([[],zy(),n.has(Yd.NoHttpTransferCache)||r?[]:h_({}),e])}var x="primary",mo=Symbol("RouteTitle"),tf=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Hr(t){return new tf(t)}function hM(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function pM(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!At(t[n],e[n]))return!1;return!0}function At(t,e){let n=t?nf(t):void 0,r=e?nf(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!O_(t[i],e[i]))return!1;return!0}function nf(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function O_(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function k_(t){return t.length>0?t[t.length-1]:null}function vn(t){return Rl(t)?t:Qi(t)?re(Promise.resolve(t)):A(t)}var gM={exact:F_,subset:j_},L_={exact:mM,subset:vM,ignored:()=>!0};function T_(t,e,n){return gM[n.paths](t.root,e.root,n.matrixParams)&&L_[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function mM(t,e){return At(t,e)}function F_(t,e,n){if(!$n(t.segments,e.segments)||!Xa(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!F_(t.children[r],e.children[r],n))return!1;return!0}function vM(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>O_(t[n],e[n]))}function j_(t,e,n){return U_(t,e,e.segments,n)}function U_(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!$n(i,n)||e.hasChildren()||!Xa(i,n,r))}else if(t.segments.length===n.length){if(!$n(t.segments,n)||!Xa(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!j_(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!$n(t.segments,i)||!Xa(t.segments,i,r)||!t.children[x]?!1:U_(t.children[x],e,o,r)}}function Xa(t,e,n){return e.every((r,i)=>L_[n](t[i].parameters,r.parameters))}var pn=class{constructor(e=new Y([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Hr(this.queryParams),this._queryParamMap}toString(){return wM.serialize(this)}},Y=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ec(this)}},Vn=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Hr(this.parameters),this._parameterMap}toString(){return $_(this)}};function yM(t,e){return $n(t,e)&&t.every((n,r)=>At(n.parameters,e[r].parameters))}function $n(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function _M(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===x&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==x&&(n=n.concat(e(i,r)))}),n}var vo=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>new ao,providedIn:"root"});let t=e;return t})(),ao=class{parse(e){let n=new of(e);return new pn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${to(e.root,!0)}`,r=CM(e.queryParams),i=typeof e.fragment=="string"?`#${IM(e.fragment)}`:"";return`${n}${r}${i}`}},wM=new ao;function ec(t){return t.segments.map(e=>$_(e)).join("/")}function to(t,e){if(!t.hasChildren())return ec(t);if(e){let n=t.children[x]?to(t.children[x],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==x&&r.push(`${i}:${to(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=_M(t,(r,i)=>i===x?[to(t.children[x],!1)]:[`${i}:${to(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[x]!=null?`${ec(t)}/${n[0]}`:`${ec(t)}/(${n.join("//")})`}}function V_(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Za(t){return V_(t).replace(/%3B/gi,";")}function IM(t){return encodeURI(t)}function rf(t){return V_(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function tc(t){return decodeURIComponent(t)}function S_(t){return tc(t.replace(/\+/g,"%20"))}function $_(t){return`${rf(t.path)}${EM(t.parameters)}`}function EM(t){return Object.entries(t).map(([e,n])=>`;${rf(e)}=${rf(n)}`).join("")}function CM(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Za(n)}=${Za(i)}`).join("&"):`${Za(n)}=${Za(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var bM=/^[^\/()?;#]+/;function Zd(t){let e=t.match(bM);return e?e[0]:""}var DM=/^[^\/()?;=#]+/;function TM(t){let e=t.match(DM);return e?e[0]:""}var SM=/^[^=?&#]+/;function AM(t){let e=t.match(SM);return e?e[0]:""}var MM=/^[^&#]+/;function NM(t){let e=t.match(MM);return e?e[0]:""}var of=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Y([],{}):new Y([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[x]=new Y(e,n)),r}parseSegment(){let e=Zd(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new C(4009,!1);return this.capture(e),new Vn(tc(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=TM(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Zd(this.remaining);i&&(r=i,this.capture(r))}e[tc(n)]=tc(r)}parseQueryParam(e){let n=AM(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=NM(this.remaining);s&&(r=s,this.capture(r))}let i=S_(n),o=S_(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Zd(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new C(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=x);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[x]:new Y([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new C(4011,!1)}};function B_(t){return t.segments.length>0?new Y([],{[x]:t}):t}function H_(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=H_(i);if(r===x&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Y(t.segments,e);return RM(n)}function RM(t){if(t.numberOfChildren===1&&t.children[x]){let e=t.children[x];return new Y(t.segments.concat(e.segments),e.children)}return t}function Wr(t){return t instanceof pn}function xM(t,e,n=null,r=null){let i=W_(t);return z_(i,e,n,r)}function W_(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new Y(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=B_(r);return e??i}function z_(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Jd(i,i,i,n,r);let o=PM(e);if(o.toRoot())return Jd(i,i,new Y([],{}),n,r);let s=OM(o,i,t),a=s.processChildren?io(s.segmentGroup,s.index,o.commands):q_(s.segmentGroup,s.index,o.commands);return Jd(i,s.segmentGroup,a,n,r)}function nc(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function co(t){return typeof t=="object"&&t!=null&&t.outlets}function Jd(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===e?s=n:s=G_(t,e,n);let a=B_(H_(s));return new pn(a,o,i)}function G_(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=G_(o,e,n)}),new Y(t.segments,r)}var rc=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&nc(r[0]))throw new C(4003,!1);let i=r.find(co);if(i&&i!==k_(r))throw new C(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function PM(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new rc(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new rc(n,e,r)}var $r=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function OM(t,e,n){if(t.isAbsolute)return new $r(e,!0,0);if(!n)return new $r(e,!1,NaN);if(n.parent===null)return new $r(n,!0,0);let r=nc(t.commands[0])?0:1,i=n.segments.length-1+r;return kM(n,i,t.numberOfDoubleDots)}function kM(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new C(4005,!1);i=r.segments.length}return new $r(r,!1,i-o)}function LM(t){return co(t[0])?t[0].outlets:{[x]:t}}function q_(t,e,n){if(t??=new Y([],{}),t.segments.length===0&&t.hasChildren())return io(t,e,n);let r=FM(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Y(t.segments.slice(0,r.pathIndex),{});return o.children[x]=new Y(t.segments.slice(r.pathIndex),t.children),io(o,0,i)}else return r.match&&i.length===0?new Y(t.segments,{}):r.match&&!t.hasChildren()?sf(t,e,n):r.match?io(t,0,i):sf(t,e,n)}function io(t,e,n){if(n.length===0)return new Y(t.segments,{});{let r=LM(n),i={};if(Object.keys(r).some(o=>o!==x)&&t.children[x]&&t.numberOfChildren===1&&t.children[x].segments.length===0){let o=io(t.children[x],e,n);return new Y(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=q_(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Y(t.segments,i)}}function FM(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(co(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!M_(c,l,s))return o;r+=2}else{if(!M_(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function sf(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(co(o)){let c=jM(o.outlets);return new Y(r,c)}if(i===0&&nc(n[0])){let c=t.segments[e];r.push(new Vn(c.path,A_(n[0]))),i++;continue}let s=co(o)?o.outlets[x]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&nc(a)?(r.push(new Vn(s,A_(a))),i+=2):(r.push(new Vn(s,{})),i++)}return new Y(r,{})}function jM(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=sf(new Y([],{}),0,r))}),e}function A_(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function M_(t,e,n){return t==n.path&&At(e,n.parameters)}var oo="imperative",ye=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ye||{}),ot=class{constructor(e,n){this.id=e,this.url=n}},zr=class extends ot{constructor(e,n,r="imperative",i=null){super(e,n),this.type=ye.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},qt=class extends ot{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=ye.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ze=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Ze||{}),ic=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(ic||{}),gn=class extends ot{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ye.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},mn=class extends ot{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ye.NavigationSkipped}},lo=class extends ot{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=ye.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},oc=class extends ot{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ye.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},af=class extends ot{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ye.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cf=class extends ot{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=ye.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},lf=class extends ot{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ye.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},uf=class extends ot{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ye.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},df=class{constructor(e){this.route=e,this.type=ye.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ff=class{constructor(e){this.route=e,this.type=ye.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},hf=class{constructor(e){this.snapshot=e,this.type=ye.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},pf=class{constructor(e){this.snapshot=e,this.type=ye.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gf=class{constructor(e){this.snapshot=e,this.type=ye.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},mf=class{constructor(e){this.snapshot=e,this.type=ye.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},sc=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=ye.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},uo=class{},fo=class{constructor(e){this.url=e}};var vf=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new yo,this.attachRef=null}},yo=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new vf,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ac=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=yf(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=yf(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=_f(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return _f(e,this._root).map(n=>n.value)}};function yf(t,e){if(t===e.value)return e;for(let n of e.children){let r=yf(t,n);if(r)return r}return null}function _f(t,e){if(t===e.value)return[e];for(let n of e.children){let r=_f(t,n);if(r.length)return r.unshift(e),r}return[]}var Qe=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Vr(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var cc=class extends ac{constructor(e,n){super(e),this.snapshot=n,Mf(this,e)}toString(){return this.snapshot.toString()}};function K_(t){let e=UM(t),n=new he([new Vn("",{})]),r=new he({}),i=new he({}),o=new he({}),s=new he(""),a=new Gr(n,r,o,s,i,x,t,e.root);return a.snapshot=e.root,new cc(new Qe(a,[]),e)}function UM(t){let e={},n={},r={},i="",o=new ho([],e,r,i,n,x,t,null,{});return new lc("",new Qe(o,[]))}var Gr=class{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(V(l=>l[mo]))??A(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(V(e=>Hr(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(V(e=>Hr(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Af(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:I(I({},e.params),t.params),data:I(I({},e.data),t.data),resolve:I(I(I(I({},t.data),e.data),i?.data),t._resolvedData)}:r={params:I({},t.params),data:I({},t.data),resolve:I(I({},t.data),t._resolvedData??{})},i&&Q_(i)&&(r.resolve[mo]=i.title),r}var ho=class{get title(){return this.data?.[mo]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Hr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Hr(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},lc=class extends ac{constructor(e,n){super(n),this.url=e,Mf(this,n)}toString(){return Y_(this._root)}};function Mf(t,e){e.value._routerState=t,e.children.forEach(n=>Mf(t,n))}function Y_(t){let e=t.children.length>0?` { ${t.children.map(Y_).join(", ")} } `:"";return`${t.value}${e}`}function Xd(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,At(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),At(e.params,n.params)||t.paramsSubject.next(n.params),pM(e.url,n.url)||t.urlSubject.next(n.url),At(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function wf(t,e){let n=At(t.params,e.params)&&yM(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||wf(t.parent,e.parent))}function Q_(t){return typeof t.title=="string"||t.title===null}var VM=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=x,this.activateEvents=new Se,this.deactivateEvents=new Se,this.attachEvents=new Se,this.detachEvents=new Se,this.parentContexts=g(yo),this.location=g(Gi),this.changeDetector=g(Zi),this.environmentInjector=g(He),this.inputBinder=g(pc,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new C(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new If(r,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ji({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Bi]});let t=e;return t})(),If=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Gr?this.route:e===yo?this.childContexts:this.parent.get(e,n)}},pc=new b(""),N_=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,o=_i([i.queryParams,i.params,i.data]).pipe(Ve(([s,a,c],l)=>(c=I(I(I({},s),a),c),l===0?A(c):Promise.resolve(c)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=Gy(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(r,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();function $M(t,e,n){let r=po(t,e._root,n?n._root:void 0);return new cc(r,e)}function po(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=BM(t,e,n);return new Qe(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>po(t,a)),s}}let r=HM(e.value),i=e.children.map(o=>po(t,o));return new Qe(r,i)}}function BM(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return po(t,r,i);return po(t,r)})}function HM(t){return new Gr(new he(t.url),new he(t.params),new he(t.queryParams),new he(t.fragment),new he(t.data),t.outlet,t.component,t)}var Z_="ngNavigationCancelingError";function J_(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Wr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=X_(!1,Ze.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function X_(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Z_]=!0,n.cancellationCode=e,n}function WM(t){return ew(t)&&Wr(t.url)}function ew(t){return!!t&&t[Z_]}var zM=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=le({type:e,selectors:[["ng-component"]],standalone:!0,features:[Oy],decls:1,vars:0,template:function(i,o){i&1&&D(0,"router-outlet")},dependencies:[VM],encapsulation:2});let t=e;return t})();function GM(t,e){return t.providers&&!t._injector&&(t._injector=Oa(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Nf(t){let e=t.children&&t.children.map(Nf),n=e?ne(I({},t),{children:e}):I({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==x&&(n.component=zM),n}function Mt(t){return t.outlet||x}function qM(t,e){let n=t.filter(r=>Mt(r)===e);return n.push(...t.filter(r=>Mt(r)!==e)),n}function _o(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var KM=(t,e,n,r)=>V(i=>(new Ef(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Ef=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Xd(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Vr(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Vr(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Vr(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Vr(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new mf(o.value.snapshot))}),e.children.length&&this.forwardEvent(new pf(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Xd(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Xd(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=_o(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},uc=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Br=class{constructor(e,n){this.component=e,this.route=n}};function YM(t,e,n){let r=t._root,i=e?e._root:null;return no(r,i,n,[r.value])}function QM(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Kr(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Cm(t)?t:e.get(t):r}function no(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Vr(e);return t.children.forEach(s=>{ZM(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>so(a,n.getContext(s),i)),i}function ZM(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=JM(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new uc(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?no(t,e,a?a.children:null,r,i):no(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Br(a.outlet.component,s))}else s&&so(e,a,i),i.canActivateChecks.push(new uc(r)),o.component?no(t,null,a?a.children:null,r,i):no(t,null,n,r,i);return i}function JM(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!$n(t.url,e.url);case"pathParamsOrQueryParamsChange":return!$n(t.url,e.url)||!At(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wf(t,e)||!At(t.queryParams,e.queryParams);case"paramsChange":default:return!wf(t,e)}}function so(t,e,n){let r=Vr(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?so(s,e.children.getContext(o),n):so(s,null,n):so(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Br(e.outlet.component,i)):n.canDeactivateChecks.push(new Br(null,i)):n.canDeactivateChecks.push(new Br(null,i))}function wo(t){return typeof t=="function"}function XM(t){return typeof t=="boolean"}function eN(t){return t&&wo(t.canLoad)}function tN(t){return t&&wo(t.canActivate)}function nN(t){return t&&wo(t.canActivateChild)}function rN(t){return t&&wo(t.canDeactivate)}function iN(t){return t&&wo(t.canMatch)}function tw(t){return t instanceof jt||t?.name==="EmptyError"}var Ja=Symbol("INITIAL_VALUE");function qr(){return Ve(t=>_i(t.map(e=>e.pipe(Ut(1),kl(Ja)))).pipe(V(e=>{for(let n of e)if(n!==!0){if(n===Ja)return Ja;if(n===!1||n instanceof pn)return n}return!0}),Ue(e=>e!==Ja),Ut(1)))}function oN(t,e){return fe(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?A(ne(I({},n),{guardsResult:!0})):sN(s,r,i,t).pipe(fe(a=>a&&XM(a)?aN(r,o,t,e):A(a)),V(a=>ne(I({},n),{guardsResult:a})))})}function sN(t,e,n,r){return re(t).pipe(fe(i=>fN(i.component,i.route,n,e,r)),lt(i=>i!==!0,!0))}function aN(t,e,n,r){return re(e).pipe(rn(i=>_r(lN(i.route.parent,r),cN(i.route,r),dN(t,i.path,n),uN(t,i.route,n))),lt(i=>i!==!0,!0))}function cN(t,e){return t!==null&&e&&e(new gf(t)),A(!0)}function lN(t,e){return t!==null&&e&&e(new hf(t)),A(!0)}function uN(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return A(!0);let i=r.map(o=>xs(()=>{let s=_o(e)??n,a=Kr(o,s),c=tN(a)?a.canActivate(e,t):bt(s,()=>a(e,t));return vn(c).pipe(lt())}));return A(i).pipe(qr())}function dN(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>QM(s)).filter(s=>s!==null).map(s=>xs(()=>{let a=s.guards.map(c=>{let l=_o(s.node)??n,u=Kr(c,l),d=nN(u)?u.canActivateChild(r,t):bt(l,()=>u(r,t));return vn(d).pipe(lt())});return A(a).pipe(qr())}));return A(o).pipe(qr())}function fN(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return A(!0);let s=o.map(a=>{let c=_o(e)??i,l=Kr(a,c),u=rN(l)?l.canDeactivate(t,e,n,r):bt(c,()=>l(t,e,n,r));return vn(u).pipe(lt())});return A(s).pipe(qr())}function hN(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return A(!0);let o=i.map(s=>{let a=Kr(s,t),c=eN(a)?a.canLoad(e,n):bt(t,()=>a(e,n));return vn(c)});return A(o).pipe(qr(),nw(r))}function nw(t){return Cl(ae(e=>{if(Wr(e))throw J_(t,e)}),V(e=>e===!0))}function pN(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return A(!0);let o=i.map(s=>{let a=Kr(s,t),c=iN(a)?a.canMatch(e,n):bt(t,()=>a(e,n));return vn(c)});return A(o).pipe(qr(),nw(r))}var go=class{constructor(e){this.segmentGroup=e||null}},dc=class extends Error{constructor(e){super(),this.urlTree=e}};function Ur(t){return vr(new go(t))}function gN(t){return vr(new C(4e3,!1))}function mN(t){return vr(X_(!1,Ze.GuardRejected))}var Cf=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return A(r);if(i.numberOfChildren>1||!i.children[x])return gN(e.redirectTo);i=i.children[x]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new dc(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new pn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new Y(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new C(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},bf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function vN(t,e,n,r,i){let o=Rf(t,e,n);return o.matched?(r=GM(e,r),pN(r,e,n,i).pipe(V(s=>s===!0?o:I({},bf)))):A(o)}function Rf(t,e,n){if(e.path==="**")return yN(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?I({},bf):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||hM)(n,t,e);if(!i)return I({},bf);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?I(I({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function yN(t){return{matched:!0,parameters:t.length>0?k_(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function R_(t,e,n,r){return n.length>0&&IN(t,n,r)?{segmentGroup:new Y(e,wN(r,new Y(n,t.children))),slicedSegments:[]}:n.length===0&&EN(t,n,r)?{segmentGroup:new Y(t.segments,_N(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Y(t.segments,t.children),slicedSegments:n}}function _N(t,e,n,r){let i={};for(let o of n)if(gc(t,e,o)&&!r[Mt(o)]){let s=new Y([],{});i[Mt(o)]=s}return I(I({},r),i)}function wN(t,e){let n={};n[x]=e;for(let r of t)if(r.path===""&&Mt(r)!==x){let i=new Y([],{});n[Mt(r)]=i}return n}function IN(t,e,n){return n.some(r=>gc(t,e,r)&&Mt(r)!==x)}function EN(t,e,n){return n.some(r=>gc(t,e,r))}function gc(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function CN(t,e,n,r){return Mt(t)!==r&&(r===x||!gc(e,n,t))?!1:Rf(e,t,n).matched}function bN(t,e,n){return e.length===0&&!t.children[n]}var Df=class{};function DN(t,e,n,r,i,o,s="emptyOnly"){return new Tf(t,e,n,r,i,s,o).recognize()}var TN=31,Tf=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Cf(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new C(4002,`'${e.segmentGroup}'`)}recognize(){let e=R_(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(V(n=>{let r=new ho([],Object.freeze({}),Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,{},x,this.rootComponentType,null,{}),i=new Qe(r,n),o=new lc("",i),s=xM(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,x).pipe(nn(r=>{if(r instanceof dc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof go?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=Af(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(V(o=>o instanceof Qe?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return re(i).pipe(rn(o=>{let s=r.children[o],a=qM(n,o);return this.processSegmentGroup(e,a,s,o)}),Ol((o,s)=>(o.push(...s),o)),on(null),Pl(),fe(o=>{if(o===null)return Ur(r);let s=rw(o);return SN(s),A(s)}))}processSegment(e,n,r,i,o,s){return re(n).pipe(rn(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(nn(c=>{if(c instanceof go)return A(null);throw c}))),lt(a=>!!a),nn(a=>{if(tw(a))return bN(r,i,o)?A(new Df):Ur(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return CN(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):Ur(i):Ur(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=Rf(n,i,o);if(!a)return Ur(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>TN&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,d).pipe(fe(f=>this.processSegment(e,r,n,f.concat(u),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=vN(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(Ve(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Ve(({routes:c})=>{let l=r._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:f}=a,h=new ho(u,f,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,MN(r),Mt(r),r.component??r._loadedComponent??null,r,NN(r)),{segmentGroup:p,slicedSegments:w}=R_(n,u,d,c);if(w.length===0&&p.hasChildren())return this.processChildren(l,c,p).pipe(V(O=>O===null?null:new Qe(h,O)));if(c.length===0&&w.length===0)return A(new Qe(h,[]));let R=Mt(r)===o;return this.processSegment(l,c,p,w,R?x:o,!0).pipe(V(O=>new Qe(h,O instanceof Qe?[O]:[])))}))):Ur(n)))}getChildConfig(e,n,r){return n.children?A({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?A({routes:n._loadedRoutes,injector:n._loadedInjector}):hN(e,n,r,this.urlSerializer).pipe(fe(i=>i?this.configLoader.loadChildren(e,n).pipe(ae(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):mN(n))):A({routes:[],injector:e})}};function SN(t){t.sort((e,n)=>e.value.outlet===x?-1:n.value.outlet===x?1:e.value.outlet.localeCompare(n.value.outlet))}function AN(t){let e=t.value.routeConfig;return e&&e.path===""}function rw(t){let e=[],n=new Set;for(let r of t){if(!AN(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=rw(r.children);e.push(new Qe(r.value,i))}return e.filter(r=>!n.has(r))}function MN(t){return t.data||{}}function NN(t){return t.resolve||{}}function RN(t,e,n,r,i,o){return fe(s=>DN(t,e,n,r,s.extractedUrl,i,o).pipe(V(({state:a,tree:c})=>ne(I({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function xN(t,e){return fe(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return A(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of iw(c))s.add(l);let a=0;return re(s).pipe(rn(c=>o.has(c)?PN(c,r,t,e):(c.data=Af(c,c.parent,t).resolve,A(void 0))),ae(()=>a++),Ir(1),fe(c=>a===s.size?A(n):je))})}function iw(t){let e=t.children.map(n=>iw(n)).flat();return[t,...e]}function PN(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!Q_(i)&&(o[mo]=i.title),ON(o,t,e,r).pipe(V(s=>(t._resolvedData=s,t.data=Af(t,t.parent,n).resolve,null)))}function ON(t,e,n,r){let i=nf(t);if(i.length===0)return A({});let o={};return re(i).pipe(fe(s=>kN(t[s],e,n,r).pipe(lt(),ae(a=>{o[s]=a}))),Ir(1),xl(o),nn(s=>tw(s)?je:vr(s)))}function kN(t,e,n,r){let i=_o(e)??r,o=Kr(t,i),s=o.resolve?o.resolve(e,n):bt(i,()=>o(e,n));return vn(s)}function ef(t){return Ve(e=>{let n=t(e);return n?re(n).pipe(V(()=>e)):A(e)})}var ow=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===x);return i}getResolvedTitleForRoute(r){return r.data[mo]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>g(LN),providedIn:"root"});let t=e;return t})(),LN=(()=>{let e=class e extends ow{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(T(C_))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Io=new b("",{providedIn:"root",factory:()=>({})}),fc=new b(""),xf=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=g(Ba)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return A(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=vn(r.loadComponent()).pipe(V(sw),ae(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),wr(()=>{this.componentLoaders.delete(r)})),o=new hr(i,()=>new Te).pipe(fr());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return A({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=FN(i,this.compiler,r,this.onLoadEndListener).pipe(wr(()=>{this.childrenLoaders.delete(i)})),a=new hr(s,()=>new Te).pipe(fr());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function FN(t,e,n,r){return vn(t.loadChildren()).pipe(V(sw),fe(i=>i instanceof Oi||Array.isArray(i)?A(i):re(e.compileModuleAsync(i))),V(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(fc,[],{optional:!0,self:!0}).flat()),{routes:s.map(Nf),injector:o}}))}function jN(t){return t&&typeof t=="object"&&"default"in t}function sw(t){return jN(t)?t.default:t}var Pf=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>g(UN),providedIn:"root"});let t=e;return t})(),UN=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),aw=new b(""),cw=new b("");function VN(t,e,n){let r=t.get(cw),i=t.get(Me);return t.get(W).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),$N(t))),{onViewTransitionCreated:c}=r;return c&&bt(t,()=>c({transition:a,from:e,to:n})),s})}function $N(t){return new Promise(e=>{Cd(e,{injector:t})})}var Of=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Te,this.transitionAbortSubject=new Te,this.configLoader=g(xf),this.environmentInjector=g(He),this.urlSerializer=g(vo),this.rootContexts=g(yo),this.location=g(Fr),this.inputBindingEnabled=g(pc,{optional:!0})!==null,this.titleStrategy=g(ow),this.options=g(Io,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=g(Pf),this.createViewTransition=g(aw,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>A(void 0),this.rootComponentType=null;let r=o=>this.events.next(new df(o)),i=o=>this.events.next(new ff(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ne(I(I({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new he({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:oo,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ue(s=>s.id!==0),V(s=>ne(I({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Ve(s=>{let a=!1,c=!1;return A(s).pipe(Ve(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Ze.SupersededByNewNavigation),je;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?ne(I({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!u&&d!=="reload"){let f="";return this.events.next(new mn(l.id,this.urlSerializer.serialize(l.rawUrl),f,ic.IgnoredSameUrlNavigation)),l.resolve(null),je}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return A(l).pipe(Ve(f=>{let h=this.transitions?.getValue();return this.events.next(new zr(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?je:Promise.resolve(f)}),RN(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),ae(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=ne(I({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let h=new oc(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:f,extractedUrl:h,source:p,restoredState:w,extras:R}=l,O=new zr(f,this.urlSerializer.serialize(h),p,w);this.events.next(O);let oe=K_(this.rootComponentType).snapshot;return this.currentTransition=s=ne(I({},l),{targetSnapshot:oe,urlAfterRedirects:h,extras:ne(I({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,A(s)}else{let f="";return this.events.next(new mn(l.id,this.urlSerializer.serialize(l.extractedUrl),f,ic.IgnoredByUrlHandlingStrategy)),l.resolve(null),je}}),ae(l=>{let u=new af(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),V(l=>(this.currentTransition=s=ne(I({},l),{guards:YM(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),oN(this.environmentInjector,l=>this.events.next(l)),ae(l=>{if(s.guardsResult=l.guardsResult,Wr(l.guardsResult))throw J_(this.urlSerializer,l.guardsResult);let u=new cf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Ue(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Ze.GuardRejected),!1)),ef(l=>{if(l.guards.canActivateChecks.length)return A(l).pipe(ae(u=>{let d=new lf(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Ve(u=>{let d=!1;return A(u).pipe(xN(this.paramsInheritanceStrategy,this.environmentInjector),ae({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",Ze.NoDataFromResolver)}}))}),ae(u=>{let d=new uf(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),ef(l=>{let u=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(ae(h=>{d.component=h}),V(()=>{})));for(let h of d.children)f.push(...u(h));return f};return _i(u(l.targetSnapshot.root)).pipe(on(null),Ut(1))}),ef(()=>this.afterPreactivation()),Ve(()=>{let{currentSnapshot:l,targetSnapshot:u}=s,d=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return d?re(d).pipe(V(()=>s)):A(s)}),V(l=>{let u=$M(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=ne(I({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),ae(()=>{this.events.next(new uo)}),KM(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Ut(1),ae({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new qt(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Ll(this.transitionAbortSubject.pipe(ae(l=>{throw l}))),wr(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",Ze.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),nn(l=>{if(c=!0,ew(l))this.events.next(new gn(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),WM(l)?this.events.next(new fo(l.url)):s.resolve(!1);else{this.events.next(new lo(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(l))}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return je}))}))}cancelNavigationTransition(r,i,o){let s=new gn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function BN(t){return t!==oo}var HN=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>g(WN),providedIn:"root"});let t=e;return t})(),Sf=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},WN=(()=>{let e=class e extends Sf{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=td(e)))(o||e)}})(),e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),lw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:()=>g(zN),providedIn:"root"});let t=e;return t})(),zN=(()=>{let e=class e extends lw{constructor(){super(...arguments),this.location=g(Fr),this.urlSerializer=g(vo),this.options=g(Io,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=g(Pf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new pn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=K_(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof zr)this.stateMemento=this.createStateMemento();else if(r instanceof mn)this.rawUrlTree=i.initialUrl;else if(r instanceof oc){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof uo?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof gn&&(r.code===Ze.GuardRejected||r.code===Ze.NoDataFromResolver)?this.restoreHistory(i):r instanceof lo?this.restoreHistory(i,!0):r instanceof qt&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=I(I({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=I(I({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=td(e)))(o||e)}})(),e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ro=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ro||{});function uw(t,e){t.events.pipe(Ue(n=>n instanceof qt||n instanceof gn||n instanceof lo||n instanceof mn),V(n=>n instanceof qt||n instanceof mn?ro.COMPLETE:(n instanceof gn?n.code===Ze.Redirect||n.code===Ze.SupersededByNewNavigation:!1)?ro.REDIRECTING:ro.FAILED),Ue(n=>n!==ro.REDIRECTING),Ut(1)).subscribe(()=>{e()})}function GN(t){throw t}var qN={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},KN={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Bn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=g(ja),this.stateManager=g(lw),this.options=g(Io,{optional:!0})||{},this.pendingTasks=g(qi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=g(Of),this.urlSerializer=g(vo),this.location=g(Fr),this.urlHandlingStrategy=g(Pf),this._events=new Te,this.errorHandler=this.options.errorHandler||GN,this.navigated=!1,this.routeReuseStrategy=g(HN),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=g(fc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!g(pc,{optional:!0}),this.eventsSubscription=new se,this.isNgZoneEnabled=g(W)instanceof W&&W.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof gn&&i.code!==Ze.Redirect&&i.code!==Ze.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof qt)this.navigated=!0;else if(i instanceof fo){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),c={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||BN(o.source)};this.scheduleNavigation(a,oo,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}QN(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),oo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=I({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Nf),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=I(I({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let h=o?o.snapshot:this.routerState.snapshot.root;f=W_(h)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return z_(f,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=Wr(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,oo,null,i)}navigate(r,i={skipLocationChange:!1}){return YN(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=I({},qN):i===!1?o=I({},KN):o=i,Wr(r))return T_(this.currentUrlTree,r,o);let s=this.parseUrl(r);return T_(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((f,h)=>{c=f,l=h});let d=this.pendingTasks.add();return uw(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function YN(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new C(4008,!1)}function QN(t){return!(t instanceof uo)&&!(t instanceof fo)}var hc=class{};var ZN=(()=>{let e=class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Ue(r=>r instanceof qt),rn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let o=[];for(let s of i){s.providers&&!s._injector&&(s._injector=Oa(s.providers,r,`Route: ${s.path}`));let a=s._injector??r,c=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(c,s.children??s._loadedRoutes))}return re(o).pipe(yr())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(r,i):o=A(null);let s=o.pipe(fe(a=>a===null?A(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return re([s,a]).pipe(yr())}else return s})}};e.\u0275fac=function(i){return new(i||e)(T(Bn),T(Ba),T(He),T(hc),T(xf))},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),dw=new b(""),JN=(()=>{let e=class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof zr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof qt?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof mn&&r.code===ic.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof sc&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new sc(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){ty()},e.\u0275prov=E({token:e,factory:e.\u0275fac});let t=e;return t})();function XN(t){return t.routerState.root}function Eo(t,e){return{\u0275kind:t,\u0275providers:e}}function eR(){let t=g(Ae);return e=>{let n=t.get(zt);if(e!==n.components[0])return;let r=t.get(Bn),i=t.get(fw);t.get(kf)===1&&r.initialNavigation(),t.get(hw,null,k.Optional)?.setUpPreloading(),t.get(dw,null,k.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var fw=new b("",{factory:()=>new Te}),kf=new b("",{providedIn:"root",factory:()=>1});function tR(){return Eo(2,[{provide:kf,useValue:0},{provide:$a,multi:!0,deps:[Ae],useFactory:e=>{let n=e.get(Xy,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Bn),o=e.get(fw);uw(i,()=>{r(!0)}),e.get(Of).afterPreactivation=()=>(r(!0),o.closed?A(void 0):o),i.initialNavigation()}))}}])}function nR(){return Eo(3,[{provide:$a,multi:!0,useFactory:()=>{let e=g(Bn);return()=>{e.setUpLocationChangeListener()}}},{provide:kf,useValue:2}])}var hw=new b("");function rR(t){return Eo(0,[{provide:hw,useExisting:ZN},{provide:hc,useExisting:t}])}function iR(){return Eo(8,[N_,{provide:pc,useExisting:N_}])}function oR(t){let e=[{provide:aw,useValue:VN},{provide:cw,useValue:I({skipNextTransition:!!t?.skipInitialTransition},t)}];return Eo(9,e)}var x_=new b("ROUTER_FORROOT_GUARD"),sR=[Fr,{provide:vo,useClass:ao},Bn,yo,{provide:Gr,useFactory:XN,deps:[Bn]},xf,[]],Lf=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[sR,[],{provide:fc,multi:!0,useValue:r},{provide:x_,useFactory:uR,deps:[[Bn,new rt,new Vu]]},{provide:Io,useValue:i||{}},i?.useHash?cR():lR(),aR(),i?.preloadingStrategy?rR(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?dR(i):[],i?.bindToComponentInputs?iR().\u0275providers:[],i?.enableViewTransitions?oR().\u0275providers:[],fR()]}}static forChild(r){return{ngModule:e,providers:[{provide:fc,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(T(x_,8))},e.\u0275mod=qe({type:e}),e.\u0275inj=Ge({});let t=e;return t})();function aR(){return{provide:dw,useFactory:()=>{let t=g(r_),e=g(W),n=g(Io),r=g(Of),i=g(vo);return n.scrollOffset&&t.setOffset(n.scrollOffset),new JN(i,r,t,e,n)}}}function cR(){return{provide:Un,useClass:t_}}function lR(){return{provide:Un,useClass:jd}}function uR(t){return"guarded"}function dR(t){return[t.initialNavigation==="disabled"?nR().\u0275providers:[],t.initialNavigation==="enabledBlocking"?tR().\u0275providers:[]]}var P_=new b("");function fR(){return[{provide:P_,useFactory:eR},{provide:Lr,multi:!0,useExisting:P_}]}var hR=[],pw=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=qe({type:e}),e.\u0275inj=Ge({imports:[Lf.forRoot(hR),Lf]});let t=e;return t})();var Pe=(()=>{let e=class e{constructor(){this.themeSubject=new he("dark"),this.currentTheme=this.themeSubject.asObservable()}setTheme(r){this.themeSubject.next(r),document.body.className=r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=E({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var gw=(()=>{let e=class e{constructor(r){this.themeService=r,this.currentTheme="dark",this.themeService.currentTheme.subscribe(i=>{this.currentTheme=i})}toggleTheme(){let r=this.currentTheme==="light"?"dark":"light";this.themeService.setTheme(r)}};e.\u0275fac=function(i){return new(i||e)(de(Pe))},e.\u0275cmp=le({type:e,selectors:[["app-theme"]],decls:2,vars:5,consts:[[1,"theme-toggle-btn",3,"click"]],template:function(i,o){i&1&&(v(0,"button",0),Ye("click",function(){return o.toggleTheme()}),S(1),y()),i&2&&(te("dark",o.currentTheme==="dark")("light",o.currentTheme==="light"),ue(),Fa(" ",o.currentTheme==="dark"?"\u{1F31A}":"\u{1F31E}",`
`))},styles:[".theme-toggle-btn[_ngcontent-%COMP%]{color:#fff;height:50px;width:50px;margin:10px 20px;border-radius:50%;border:1px solid transparent;transition-duration:.3s;font-size:30px;position:fixed;top:80px;right:0;display:flex;justify-content:center;align-items:center;text-align:center}.theme-toggle-btn.dark[_ngcontent-%COMP%]{background-color:rgb(237,237,237,0,50);box-shadow:0 0 200px 40px #8d65c5}.theme-toggle-btn.light[_ngcontent-%COMP%]{background-color:#121212;box-shadow:0 0 200px 40px orange}.theme-toggle-btn[_ngcontent-%COMP%]:hover{transform:scale(1.2);cursor:pointer}@media screen and (max-width: 700px){.theme-toggle-btn[_ngcontent-%COMP%]{top:5%}}"]});let t=e;return t})();var mw=(()=>{let e=class e{constructor(){this.isMenuOpen=!1}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}scrollToElement(r){let i=document.getElementById(r);i&&i.scrollIntoView({behavior:"smooth",block:"start"}),this.toggleMenu()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=le({type:e,selectors:[["app-navbar"]],decls:22,vars:2,consts:[[1,"navbar"],[1,"container"],[1,"burger",3,"click"],[1,"nav-links"],[3,"click"]],template:function(i,o){i&1&&(v(0,"nav",0)(1,"div",1)(2,"div",2),Ye("click",function(){return o.toggleMenu()}),S(3,"\u2630"),D(4,"br"),y(),v(5,"ul",3)(6,"li")(7,"a",4),Ye("click",function(){return o.scrollToElement("home")}),S(8,"HOME"),y()(),v(9,"li")(10,"a",4),Ye("click",function(){return o.scrollToElement("games")}),S(11,"GAMES"),y()(),v(12,"li")(13,"a",4),Ye("click",function(){return o.scrollToElement("projects")}),S(14,"PROJECTS"),y()(),v(15,"li")(16,"a",4),Ye("click",function(){return o.scrollToElement("services")}),S(17,"SERVICES"),y()(),v(18,"li")(19,"a",4),Ye("click",function(){return o.scrollToElement("contact")}),S(20,"CONTACTS"),y()()()()(),D(21,"app-theme")),i&2&&(ue(5),te("nav-active",o.isMenuOpen))},dependencies:[gw],styles:[".navbar[_ngcontent-%COMP%]{background-color:#18181c;color:#fff;padding:0 20px;position:fixed;top:0%;width:100%;z-index:100}.navbar[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;justify-content:end;align-items:center;width:95%}.nav-links[_ngcontent-%COMP%]{list-style:none;display:flex}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;display:flex;justify-content:end;margin:10px 20px;transition-duration:.3s;cursor:pointer}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.burger[_ngcontent-%COMP%]{display:none;cursor:pointer}.nav-active[_ngcontent-%COMP%]{display:flex!important}@media screen and (max-width: 700px){.navbar[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{justify-content:space-between;align-items:flex-start;padding-bottom:10px;padding-top:10px}.nav-links[_ngcontent-%COMP%]{display:none;flex-direction:column}.burger[_ngcontent-%COMP%]{display:flex}}"]});let t=e;return t})();var Ee="img[_ngcontent-%COMP%]:hover{transform: scale(1.1);;box-shadow: 0 0px 10px #7f3089;}",Co="img[_ngcontent-%COMP%]:hover{transform: scale(1.1);;box-shadow: 0 0px 10px white;}",vw=(()=>{let e=class e{constructor(r){this.themeService=r,this.currentTheme=""}ngOnInit(){this.themeService.currentTheme.subscribe(r=>{this.currentTheme=r})}};e.\u0275fac=function(i){return new(i||e)(de(Pe))},e.\u0275cmp=le({type:e,selectors:[["app-me"]],decls:57,vars:4,consts:[[1,"container"],[2,"margin-top","100px"],[2,"width","30%","height","3px","background-color","rgba(255, 255, 255, 0.2)","margin-bottom","50px","border-radius","20px"],[2,"display","flex","justify-content","space-around","flex-wrap","wrap","width","100%","max-width","800px"],[2,"display","flex","justify-content","center","align-items","center","flex-direction","column","margin","10px"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2FC.png?alt=media&token=993f0aea-b405-464c-9a61-bc5301b9dfa3","alt","",2,"padding","10px","background-color","#00589d","height","100px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fc%2B%2B.png?alt=media&token=71f7e1c8-83e8-4a43-aff8-959ae4bc8be9","alt","",2,"padding","10px","background-color","#00589d","height","100px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fc%20sharp.png?alt=media&token=83d82f57-f615-4466-ba20-9e6477c2b938","alt","",2,"background-color","#360092","height","120px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fpython-programming-language.png?alt=media&token=65481f4c-fbb8-429f-8ffd-d01c139b83b4","alt","",2,"background-color","white","height","120px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fjava-logo-1.png?alt=media&token=619f306d-fed2-4bea-a072-b6bc037c6b87","alt","",2,"background-color","white","height","120px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fhtml5.png?alt=media&token=9d4072cb-2879-4a92-8087-72fec042a438","alt","",2,"padding","10px","background-color","white","height","100px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],[2,"display","flex","justify-content","center","align-items","center","flex-direction","column","margin","10px","width","120px"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2FCSS3_logo_and_wordmark.svg.png?alt=media&token=592343d8-c0ac-4ba1-9226-b6b5fcad6a1a","alt","",2,"padding","10px","background-color","white","height","100px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2FJavaScript-logo.png?alt=media&token=b6d47c0a-459c-47b5-9333-48b72d26a4a8","alt","",2,"background-color","white","height","120px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fphp.png?alt=media&token=6437753d-60e2-460d-aea8-07802c633e95","alt","",2,"background-color","#787cb4","height","120px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fmongodb.png?alt=media&token=5ba5ee09-8060-4c2f-92c6-f7db177deb62","alt","",2,"background-color","white","height","120px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fexpress.png?alt=media&token=c3d01d33-d6f5-4999-97b0-19078d79670c","alt","",2,"height","120px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fangular.png?alt=media&token=9b0d0167-06ac-416f-88d1-d762763ea2ea","alt","",2,"background-color","white","height","120px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fnode.jpg?alt=media&token=1059ff04-52d3-409a-8ff4-e669ff670039","alt","",2,"background-color","white","height","120px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],[2,"text-align","center","margin-top","100px"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Ftu3gt6ysfxq71.png?alt=media&token=0b34d9b7-b5c4-43c2-9a8d-ad946b27831a","alt","",2,"padding","10px","background-color","white","height","100px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2F1200px-Godot_icon.svg.png?alt=media&token=66447ee1-c980-49ea-b1cb-d0a74c9dfbd6","alt","",2,"padding","10px","background-color","white","height","100px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2FDakirby309-Simply-Styled-Blender.256.png?alt=media&token=363bc606-2584-4ff8-aa78-3e5e4a2ae50e","alt","",2,"padding","10px","background-color","white","height","100px","width","100px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fst%2Csmall%2C845x845-pad%2C1000x1000%2Cf8f8f8.jpg?alt=media&token=ada8b0f5-444d-430b-94fd-4a69b235de8e","alt","",2,"padding","10px","background-color","white","height","100px","width","100px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2F66c33251292331d29585d32632c3870651b66e01.png?alt=media&token=70c88db0-61a1-4f26-9d2a-49f54d2e2558","alt","",2,"padding","10px","background-color","white","height","100px","width","100px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fadobe-photoshop-logo-0.png?alt=media&token=3736c6ed-b507-4138-adbb-d732f116454d","alt","",2,"padding","10px","background-color","white","height","100px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fadobe-Illustrator-logo-0-1.png?alt=media&token=252ce809-ca49-43fd-8508-dbe4698ce099","alt","",2,"padding","10px","background-color","white","height","100px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fadobe-after-effects-logo-0.png?alt=media&token=187510d4-2d39-41e7-9316-165cf742e83e","alt","",2,"padding","10px","background-color","white","height","100px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2FPremiere-Pro-Logo-PNG-Vector.png?alt=media&token=00d35670-ffe2-4cec-a92a-a2f36456bb98","alt","",2,"padding","10px","background-color","white","height","100px","border-radius","10px","transition-duration","0.3s","cursor","pointer"]],template:function(i,o){i&1&&(v(0,"div",0)(1,"h1",1),S(2,"MY SKILLS"),y(),D(3,"div",2),v(4,"div",3)(5,"div",4),D(6,"img",5),y(),v(7,"div",4),D(8,"img",6),y(),v(9,"div",4),D(10,"img",7),y(),v(11,"div",4),D(12,"img",8),y(),v(13,"div",4),D(14,"img",9),y(),v(15,"div",4),D(16,"img",10),y(),v(17,"div",11),D(18,"img",12),y(),v(19,"div",4),D(20,"img",13),y(),v(21,"div",4),D(22,"img",14),y()(),v(23,"h1",1),S(24,"FULL STACK- MEAN"),y(),D(25,"div",2),v(26,"div",3)(27,"div",4),D(28,"img",15),y(),v(29,"div",4),D(30,"img",16),y(),v(31,"div",4),D(32,"img",17),y(),v(33,"div",4),D(34,"img",18),y()(),v(35,"h1",19),S(36,"GAME ENGINES AND DIVERSE TOOLS"),y(),D(37,"div",2),v(38,"div",3)(39,"div",4),D(40,"img",20),y(),v(41,"div",4),D(42,"img",21),y(),v(43,"div",4),D(44,"img",22),y(),v(45,"div",4),D(46,"img",23),y(),v(47,"div",4),D(48,"img",24),y(),v(49,"div",4),D(50,"img",25),y(),v(51,"div",4),D(52,"img",26),y(),v(53,"div",4),D(54,"img",27),y(),v(55,"div",4),D(56,"img",28),y()()()),i&2&&te("dark",o.currentTheme==="dark")("light",o.currentTheme==="light")},styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;transition:background-color .5s ease,color .5s ease}.container.dark[_ngcontent-%COMP%]{background-color:#121212;color:#fff}.container.light[_ngcontent-%COMP%]{background-color:#fff;color:#121212}",Ee,Ee,Ee,Co,Co,Co,Co,"img[_ngcontent-%COMP%]:hover{transform: scale(1.1);;box-shadow: 0 0p10pxpx white;}",Co,Ee,Ee,Ee,Ee,Ee,Ee,Ee,Ee,Ee,Ee,Ee,Ee,Ee]});let t=e;return t})();var yw=(()=>{let e=class e{constructor(r){this.themeService=r,this.currentTheme=""}ngOnInit(){this.themeService.currentTheme.subscribe(r=>{this.currentTheme=r})}};e.\u0275fac=function(i){return new(i||e)(de(Pe))},e.\u0275cmp=le({type:e,selectors:[["app-services"]],decls:20,vars:4,consts:[[1,"main"],[2,"margin-top","200px"],[2,"height","3px","background-color","rgba(255, 255, 255, 0.269)","width","300px","box-shadow","0px 1px 10px rgba(255, 255, 255, 0.2)","border-radius","20px"],[2,"margin-top","50px"],[1,"container",2,"display","flex","justify-content","space-around"],[1,"ox",2,"display","flex","justify-content","space-around","align-items","center","flex-direction","column","text-align","center","border-radius","20px","padding","5px"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fweb-icon-line-on-white-background-image-for-web-presentation-logo-icon-symbol-free-vector.jpg?alt=media&token=16f461ca-d61b-436c-80d8-fa81bfb39c3b","alt","",2,"border-radius","100%","height","100px"],[2,"width","90%","margin-top","-10px"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fistockphoto-1136667521-612x612.jpg?alt=media&token=20cce404-80ee-47a7-8946-db2f087a511e","alt","",2,"border-radius","100%","height","100px"]],template:function(i,o){i&1&&(v(0,"div",0)(1,"h1",1),S(2,"MY SERVICES"),y(),D(3,"div",2)(4,"div",3),v(5,"div",4)(6,"div",5)(7,"div"),D(8,"img",6),y(),v(9,"h3"),S(10,"WEB DEVELOPMENT"),y(),v(11,"p",7),S(12," I can help you create the perfect responsive websites that are fast, easy to use, and built with best practices. With my expertise in full stack development, I can make something according to your needs. "),y()(),v(13,"div",5)(14,"div"),D(15,"img",8),y(),v(16,"h3"),S(17,"GAME DEVELOPMENT"),y(),v(18,"p",7),S(19," I specialize in crafting immersive and responsive games, user-friendly, and built with industry best practices. With my expertise in game development, I can bring your vision to life and create something truly tailored to your needs. "),y()()()()),i&2&&te("dark",o.currentTheme==="dark")("light",o.currentTheme==="light")},styles:[".main[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;align-items:center;flex-wrap:wrap;transition:background-color .5s ease,color .5s ease}.main.dark[_ngcontent-%COMP%]{background-color:#121212;color:#fff}.main.light[_ngcontent-%COMP%]{background-color:#fff;color:#121212}h1[_ngcontent-%COMP%]{transition-duration:1s;cursor:pointer}h1[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.ox[_ngcontent-%COMP%]{width:30%;transition-duration:.5s;cursor:pointer}.ox[_ngcontent-%COMP%]:hover{transform:scale(1.2);background-color:#ffffff1a;box-shadow:0 0 50px #ffffff1c}.ox[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition-duration:.8s;margin-top:20px}.ox[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:rotate(10deg)}@media (max-width: 1000px){.container[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;align-items:center}.ox[_ngcontent-%COMP%]{margin-top:10px;width:70%;margin-bottom:20px}}"]});let t=e;return t})();var _w=(()=>{let e=class e{constructor(r){this.themeService=r,this.currentTheme=""}ngOnInit(){this.themeService.currentTheme.subscribe(r=>{this.currentTheme=r})}};e.\u0275fac=function(i){return new(i||e)(de(Pe))},e.\u0275cmp=le({type:e,selectors:[["app-contact"]],decls:35,vars:28,consts:[[1,"container"],[2,"height","3px","background-color","rgba(255, 255, 255, 0.269)","width","300px","box-shadow","0px 1px 10px rgba(255, 255, 255, 0.2)","border-radius","20px"],["href","https://github.com/MiroJlassi","target","_blank"],["href","https://www.linkedin.com/in/marwen-jlassi-297467221/","target","_blank"],["href","https://mirojlassi.itch.io/","target","_blank"],["href","https://www.youtube.com/channel/UCKtqfo_KBwgT3ywYlzyhfTg","target","_blank"],["href","mailto:marwen.jlassi@ensi-uma.tn"]],template:function(i,o){i&1&&(v(0,"div",0)(1,"h1"),S(2,"Contact Me"),y(),D(3,"div",1),v(4,"ul")(5,"li")(6,"strong"),S(7,"GitHub:"),y(),v(8,"a",2),S(9,"-> My GitHub Profile"),y()(),v(10,"li")(11,"strong"),S(12,"LinkedIn:"),y(),v(13,"a",3),S(14,"-> My LinkedIn Profile"),y()(),v(15,"li")(16,"strong"),S(17,"Itch.io:"),y(),v(18,"a",4),S(19,"-> My Itch.io Profile"),y()(),v(20,"li")(21,"strong"),S(22,"YouTube:"),y(),v(23,"a",5),S(24,"-> My YouTube Channel"),y()(),v(25,"li")(26,"strong"),S(27,"DISCORD:"),y(),v(28,"a"),S(29,"-> miro#3878"),y()(),v(30,"li")(31,"strong"),S(32,"Email:"),y(),v(33,"a",6),S(34,"-> marwen.jlassi@ensi-uma.tn"),y()()()()),i&2&&(te("dark",o.currentTheme==="dark")("light",o.currentTheme==="light"),ue(8),te("dark",o.currentTheme==="dark")("light",o.currentTheme==="light"),ue(5),te("dark",o.currentTheme==="dark")("light",o.currentTheme==="light"),ue(5),te("dark",o.currentTheme==="dark")("light",o.currentTheme==="light"),ue(5),te("dark",o.currentTheme==="dark")("light",o.currentTheme==="light"),ue(5),te("dark",o.currentTheme==="dark")("light",o.currentTheme==="light"),ue(5),te("dark",o.currentTheme==="dark")("light",o.currentTheme==="light"))},styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;margin:0 auto;padding:20px;transition:background-color .5s ease,color .5s ease}.container.dark[_ngcontent-%COMP%]{background-color:#121212;color:#fff}.container.light[_ngcontent-%COMP%]{background-color:#fff;color:#121212}h1[_ngcontent-%COMP%]{margin-top:200px;text-align:center}h1.dark[_ngcontent-%COMP%]{color:#fff}h1.light[_ngcontent-%COMP%]{color:#000}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:20px 0;width:90%;max-width:800px}li[_ngcontent-%COMP%]{margin-bottom:15px}a[_ngcontent-%COMP%]{display:block;text-decoration:none;border:2px solid transparent;border-radius:10px;padding:15px;transition:transform .3s ease,border-color .3s ease;transition-duration:.3s;margin:10px}a.dark[_ngcontent-%COMP%]{color:#ffffff84}a.light[_ngcontent-%COMP%]{color:#00000084}a.light[_ngcontent-%COMP%]:hover{border-color:#00000084}a.dark[_ngcontent-%COMP%]:hover{border-color:#ffffff84}a[_ngcontent-%COMP%]:hover{transform:scale(1.1)}"]});let t=e;return t})();var ww=(()=>{let e=class e{scrollToElement(r){let i=document.getElementById(r);i&&i.scrollIntoView({behavior:"smooth",block:"start"})}constructor(r){this.themeService=r,this.currentTheme=""}ngOnInit(){this.themeService.currentTheme.subscribe(r=>{this.currentTheme=r})}};e.\u0275fac=function(i){return new(i||e)(de(Pe))},e.\u0275cmp=le({type:e,selectors:[["app-home"]],decls:19,vars:4,consts:[[1,"container"],[1,"elements"],[2,"color","#41abfd"],[1,"arrow-container"],[1,"arrow",3,"click"]],template:function(i,o){i&1&&(v(0,"div",0)(1,"h1"),S(2,"Hola! I'm MIRO.\u{1F44B}"),y(),v(3,"h2",1),S(4,"Computer Science Engineering Student & Software Engineer..."),y(),v(5,"p",1),S(6," I\u2019m a Computer Science Engineering student at the "),v(7,"strong",2),S(8,"National School of Computer Science"),y(),S(9," and a part-time Software Engineer at "),v(10,"strong",2),S(11,"Expensya"),y(),S(12," by Medius."),D(13,"br"),S(14," I love using technology to create solutions that make a difference. Game development is my favorite hobby, and I enjoy building fun and immersive experiences."),D(15,"br"),S(16," Join me on my journey as I combine my skills in software engineering and game development! "),y(),v(17,"div",3)(18,"div",4),Ye("click",function(){return o.scrollToElement("games")}),y()()()),i&2&&te("dark",o.currentTheme==="dark")("light",o.currentTheme==="light")},styles:[".container[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:center;align-items:center;flex-direction:column;transition:background-color .5s ease,color .5s ease}.container.dark[_ngcontent-%COMP%]{background-color:#121212;color:#fff}.container.light[_ngcontent-%COMP%]{background-color:#fff;color:#121212}.elements[_ngcontent-%COMP%]{width:80%;text-align:center}.arrow-container[_ngcontent-%COMP%]{position:relative;width:50px;height:50px}.arrow[_ngcontent-%COMP%]{position:absolute;margin-top:20px;top:0;left:50%;transform:translate(-50%);width:0;height:0;border-left:30px solid transparent;border-right:30px solid transparent;border-top:30px solid #ffffff91;animation:_ngcontent-%COMP%_arrowAnimation .8s infinite alternate;transition-duration:.5s}.arrow[_ngcontent-%COMP%]:hover{border-left:35px solid transparent;border-right:35px solid transparent;border-top:35px solid white;cursor:pointer}@keyframes _ngcontent-%COMP%_arrowAnimation{0%{transform:translate(-50%) translateY(0)}to{transform:translate(-50%) translateY(10px)}}"]});let t=e;return t})();var jf={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var m=function(t,e){if(!t)throw zn(e)},zn=function(t){return new Error("Firebase Database ("+jf.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var Ew=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},wR=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},vc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,f=(a&15)<<2|l>>6,h=l&63;c||(h=64,s||(f=64)),r.push(n[u],n[d],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ew(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):wR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new Uf;let f=o<<2|a>>4;if(r.push(f),l!==64){let h=a<<4&240|l>>2;if(r.push(h),d!==64){let p=l<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Uf=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},$f=function(t){let e=Ew(t);return vc.encodeByteArray(e,!0)},bo=function(t){return $f(t).replace(/\./g,"")},Do=function(t){try{return vc.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Cw(t){return bw(void 0,t)}function bw(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!IR(n)||(t[n]=bw(t[n],e[n]));return t}function IR(t){return t!=="__proto__"}function ER(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var CR=()=>ER().__FIREBASE_DEFAULTS__,bR=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},DR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Do(t[1]);return e&&JSON.parse(e)},Bf=()=>{try{return CR()||bR()||DR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Dw=t=>{var e,n;return(n=(e=Bf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Tw=t=>{let e=Dw(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Hf=()=>{var t;return(t=Bf())===null||t===void 0?void 0:t.config},Sw=t=>{var e;return(e=Bf())===null||e===void 0?void 0:e[`_${t}`]};var Wn=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Aw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[bo(JSON.stringify(n)),bo(JSON.stringify(s)),""].join(".")}function mt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function To(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mt())}function Mw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Nw(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function yc(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Rt(){return jf.NODE_CLIENT===!0||jf.NODE_ADMIN===!0}function Rw(){try{return typeof indexedDB=="object"}catch{return!1}}function xw(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var TR="FirebaseError",Nt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=TR,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kt.prototype.create)}},Kt=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?SR(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Nt(i,a,r)}};function SR(t,e){return t.replace(AR,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var AR=/\{\$([^}]+)}/g;function Yr(t){return JSON.parse(t)}function ge(t){return JSON.stringify(t)}var Pw=function(t){let e={},n={},r={},i="";try{let o=t.split(".");e=Yr(Do(o[0])||""),n=Yr(Do(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var Ow=function(t){let e=Pw(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},kw=function(t){let e=Pw(t).claims;return typeof e=="object"&&e.admin===!0};function xt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Gn(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function _c(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function So(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Ao(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(Iw(o)&&Iw(s)){if(!Ao(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function Iw(t){return t!==null&&typeof t=="object"}function Mo(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}var mc=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){let f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4],l,u;for(let d=0;d<80;d++){d<40?d<20?(l=a^o&(s^a),u=1518500249):(l=o^s^a,u=1859775393):d<60?(l=o&s|a&(o|s),u=2400959708):(l=o^s^a,u=3395469782);let f=(i<<5|i>>>27)+l+c+u+r[d]&4294967295;c=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,o=this.buf_,s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}};function Lw(t,e){let n=new Vf(t,e);return n.subscribe.bind(n)}var Vf=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");MR(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ff),i.error===void 0&&(i.error=Ff),i.complete===void 0&&(i.complete=Ff);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function MR(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ff(){}function Wf(t,e){return`${t} failed: ${e} argument `}var Fw=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let o=i-55296;r++,m(r<t.length,"Surrogate pair missing trail surrogate.");let s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},No=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var YB=4*60*60*1e3;function Pt(t){return t&&t._delegate?t._delegate:t}var st=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var qn="[DEFAULT]";var wc=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Wn;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RR(e))try{this.getOrInitializeService({instanceIdentifier:qn})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=qn){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=qn){return this.instances.has(e)}getOptions(e=qn){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:NR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=qn){return this.component?this.component.multipleInstances?e:qn:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function NR(t){return t===qn?void 0:t}function RR(t){return t.instantiationMode==="EAGER"}var Ro=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new wc(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var xR=[],Q=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Q||{}),PR={debug:Q.DEBUG,verbose:Q.VERBOSE,info:Q.INFO,warn:Q.WARN,error:Q.ERROR,silent:Q.SILENT},OR=Q.INFO,kR={[Q.DEBUG]:"log",[Q.VERBOSE]:"log",[Q.INFO]:"info",[Q.WARN]:"warn",[Q.ERROR]:"error"},LR=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=kR[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},yn=class{constructor(e){this.name=e,this._logLevel=OR,this._logHandler=LR,this._userLogHandler=null,xR.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Q))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Q.DEBUG,...e),this._logHandler(this,Q.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Q.VERBOSE,...e),this._logHandler(this,Q.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Q.INFO,...e),this._logHandler(this,Q.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Q.WARN,...e),this._logHandler(this,Q.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Q.ERROR,...e),this._logHandler(this,Q.ERROR,...e)}};var FR=(t,e)=>e.some(n=>t instanceof n),jw,Uw;function jR(){return jw||(jw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UR(){return Uw||(Uw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Vw=new WeakMap,Gf=new WeakMap,$w=new WeakMap,zf=new WeakMap,Kf=new WeakMap;function VR(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Ot(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&Vw.set(n,t)}).catch(()=>{}),Kf.set(e,t),e}function $R(t){if(Gf.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Gf.set(t,e)}var qf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Gf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$w.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ot(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Bw(t){qf=t(qf)}function BR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Ic(this),e,...n);return $w.set(r,e.sort?e.sort():[e]),Ot(r)}:UR().includes(t)?function(...e){return t.apply(Ic(this),e),Ot(Vw.get(this))}:function(...e){return Ot(t.apply(Ic(this),e))}}function HR(t){return typeof t=="function"?BR(t):(t instanceof IDBTransaction&&$R(t),FR(t,jR())?new Proxy(t,qf):t)}function Ot(t){if(t instanceof IDBRequest)return VR(t);if(zf.has(t))return zf.get(t);let e=HR(t);return e!==t&&(zf.set(t,e),Kf.set(e,t)),e}var Ic=t=>Kf.get(t);function Ww(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Ot(s);return r&&s.addEventListener("upgradeneeded",c=>{r(Ot(s.result),c.oldVersion,c.newVersion,Ot(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var WR=["get","getKey","getAll","getAllKeys","count"],zR=["put","add","delete","clear"],Yf=new Map;function Hw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yf.get(e))return Yf.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=zR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||WR.includes(n)))return;let o=function(s,...a){return _(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return Yf.set(e,o),o}Bw(t=>ne(I({},t),{get:(e,n,r)=>Hw(e,n)||t.get(e,n,r),has:(e,n)=>!!Hw(e,n)||t.has(e,n)}));var Zf=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(GR(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function GR(t){let e=t.getComponent();return e?.type==="VERSION"}var Jf="@firebase/app",zw="0.10.13";var Yt=new yn("@firebase/app"),qR="@firebase/app-compat",KR="@firebase/analytics-compat",YR="@firebase/analytics",QR="@firebase/app-check-compat",ZR="@firebase/app-check",JR="@firebase/auth",XR="@firebase/auth-compat",ex="@firebase/database",tx="@firebase/data-connect",nx="@firebase/database-compat",rx="@firebase/functions",ix="@firebase/functions-compat",ox="@firebase/installations",sx="@firebase/installations-compat",ax="@firebase/messaging",cx="@firebase/messaging-compat",lx="@firebase/performance",ux="@firebase/performance-compat",dx="@firebase/remote-config",fx="@firebase/remote-config-compat",hx="@firebase/storage",px="@firebase/storage-compat",gx="@firebase/firestore",mx="@firebase/vertexai-preview",vx="@firebase/firestore-compat",yx="firebase",_x="10.14.1";var Xf="[DEFAULT]",wx={[Jf]:"fire-core",[qR]:"fire-core-compat",[YR]:"fire-analytics",[KR]:"fire-analytics-compat",[ZR]:"fire-app-check",[QR]:"fire-app-check-compat",[JR]:"fire-auth",[XR]:"fire-auth-compat",[ex]:"fire-rtdb",[tx]:"fire-data-connect",[nx]:"fire-rtdb-compat",[rx]:"fire-fn",[ix]:"fire-fn-compat",[ox]:"fire-iid",[sx]:"fire-iid-compat",[ax]:"fire-fcm",[cx]:"fire-fcm-compat",[lx]:"fire-perf",[ux]:"fire-perf-compat",[dx]:"fire-rc",[fx]:"fire-rc-compat",[hx]:"fire-gcs",[px]:"fire-gcs-compat",[gx]:"fire-fst",[vx]:"fire-fst-compat",[mx]:"fire-vertex","fire-js":"fire-js",[yx]:"fire-js-all"};var xo=new Map,Ix=new Map,eh=new Map;function Gw(t,e){try{t.container.addComponent(e)}catch(n){Yt.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function wn(t){let e=t.name;if(eh.has(e))return Yt.debug(`There were multiple attempts to register component ${e}.`),!1;eh.set(e,t);for(let n of xo.values())Gw(n,t);for(let n of Ix.values())Gw(n,t);return!0}function ih(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Qr(t){return t.settings!==void 0}var Ex={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_n=new Kt("app","Firebase",Ex);var th=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new st("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _n.create("app-deleted",{appName:this._name})}};var Zr=_x;function oh(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Xf,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw _n.create("bad-app-name",{appName:String(i)});if(n||(n=Hf()),!n)throw _n.create("no-options");let o=xo.get(i);if(o){if(Ao(n,o.options)&&Ao(r,o.config))return o;throw _n.create("duplicate-app",{appName:i})}let s=new Ro(i);for(let c of eh.values())s.addComponent(c);let a=new th(n,r,s);return xo.set(i,a),a}function Oo(t=Xf){let e=xo.get(t);if(!e&&t===Xf&&Hf())return oh();if(!e)throw _n.create("no-app",{appName:t});return e}function Ec(){return Array.from(xo.values())}function _e(t,e,n){var r;let i=(r=wx[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yt.warn(a.join(" "));return}wn(new st(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Cx="firebase-heartbeat-database",bx=1,Po="firebase-heartbeat-store",Qf=null;function Qw(){return Qf||(Qf=Ww(Cx,bx,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Po)}catch(n){console.warn(n)}}}}).catch(t=>{throw _n.create("idb-open",{originalErrorMessage:t.message})})),Qf}function Dx(t){return _(this,null,function*(){try{let n=(yield Qw()).transaction(Po),r=yield n.objectStore(Po).get(Zw(t));return yield n.done,r}catch(e){if(e instanceof Nt)Yt.warn(e.message);else{let n=_n.create("idb-get",{originalErrorMessage:e?.message});Yt.warn(n.message)}}})}function qw(t,e){return _(this,null,function*(){try{let r=(yield Qw()).transaction(Po,"readwrite");yield r.objectStore(Po).put(e,Zw(t)),yield r.done}catch(n){if(n instanceof Nt)Yt.warn(n.message);else{let r=_n.create("idb-set",{originalErrorMessage:n?.message});Yt.warn(r.message)}}})}function Zw(t){return`${t.name}!${t.options.appId}`}var Tx=1024,Sx=30*24*60*60*1e3,nh=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new rh(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Kw();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=Sx}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Yt.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=Kw(),{heartbeatsToSend:r,unsentEntries:i}=Ax(this._heartbeatsCache.heartbeats),o=bo(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Yt.warn(n),""}})}};function Kw(){return new Date().toISOString().substring(0,10)}function Ax(t,e=Tx){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Yw(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Yw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var rh=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return Rw()?xw().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield Dx(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return qw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return qw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function Yw(t){return bo(JSON.stringify({version:2,heartbeats:t})).length}function Mx(t){wn(new st("platform-logger",e=>new Zf(e),"PRIVATE")),wn(new st("heartbeat",e=>new nh(e),"PRIVATE")),_e(Jf,zw,t),_e(Jf,zw,"esm2017"),_e("fire-js","")}Mx("");var Nx="firebase",Rx="10.14.1";_e(Nx,Rx,"app");var Xr=new fn("ANGULARFIRE2_VERSION");function ah(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Lo=(t,e)=>{let n=e?[e]:Ec(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ko=class{constructor(){return Lo(xx)}},xx="app-check";function Jr(){}var Cc=class{zone;delegate;constructor(e,n=Ml){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},sh=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Jr,{},Jr,Jr)),n.pipe(ae({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Fo=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Cc(Zone.current)),this.insideAngular=n.run(()=>new Cc(Zone.current,Al)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(T(W))};static \u0275prov=E({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function bc(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Px(t){return bc().ngZone.runOutsideAngular(()=>t())}function Kn(t){return bc().ngZone.run(()=>t())}function Ox(t){return kx(bc())(t)}function kx(t){return function(n){return n=n.lift(new sh(t.ngZone)),n.pipe(tn(t.outsideAngular),en(t.insideAngular))}}var Lx=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Kn(()=>t.apply(void 0,r))},Yn=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=Kn(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Jr,{},Jr,Jr))),r[o]=Lx(r[o],n));let i=Px(()=>t.apply(this,r));if(!e)if(i instanceof H){let o=bc();return i.pipe(tn(o.outsideAngular),en(o.insideAngular))}else return Kn(()=>i);return i instanceof H?i.pipe(Ox):i instanceof Promise?Kn(()=>new Promise((o,s)=>i.then(a=>Kn(()=>o(a)),a=>Kn(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Kn(()=>i)};var Qn=class{constructor(e){return e}},jo=class{constructor(){return Ec()}};function Fx(t){return t&&t.length===1?t[0]:new Qn(Oo())}var ch=new b("angularfire2._apps"),jx={provide:Qn,useFactory:Fx,deps:[[new rt,ch]]},Ux={provide:jo,deps:[[new rt,ch]]};function Vx(t){return(e,n)=>{let r=n.get(Ke);_e("angularfire",Xr.full,"core"),_e("angularfire",Xr.full,"app"),_e("angular",ky.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Qn(i)}}function Jw(t,...e){return Ht([jx,Ux,{provide:ch,useFactory:Vx(t),multi:!0,deps:[W,Ae,Fo,...e]}])}var Xw=Yn(oh,!0);function aI(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var cI=aI,lI=new Kt("auth","Firebase",aI());var Ac=new yn("@firebase/auth");function $x(t,...e){Ac.logLevel<=Q.WARN&&Ac.warn(`Auth (${Zr}): ${t}`,...e)}function Tc(t,...e){Ac.logLevel<=Q.ERROR&&Ac.error(`Auth (${Zr}): ${t}`,...e)}function eI(t,...e){throw wh(t,...e)}function _h(t,...e){return wh(t,...e)}function uI(t,e,n){let r=Object.assign(Object.assign({},cI()),{[e]:n});return new Kt("auth","Firebase",r).create(e,{appName:t.name})}function Sc(t){return uI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wh(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return lI.create(t,...e)}function q(t,e,...n){if(!t)throw wh(e,...n)}function Uo(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Tc(e),new Error(e)}function Mc(t,e){t||Uo(e)}function Bx(){return tI()==="http:"||tI()==="https:"}function tI(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function Hx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Bx()||Nw()||"connection"in navigator)?navigator.onLine:!0}function Wx(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Jn=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Mc(n>e,"Short delay should be less than long delay!"),this.isMobile=To()||yc()}get(){return Hx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function zx(t,e){Mc(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Nc=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Uo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Uo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Uo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Gx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var qx=new Jn(3e4,6e4);function dI(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Oc(o,s,a,c){return _(this,arguments,function*(t,e,n,r,i={}){return fI(t,i,()=>_(this,null,function*(){let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});let d=Mo(Object.assign({key:t.config.apiKey},u)).slice(1),f=yield t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);let h=Object.assign({method:e,headers:f},l);return Mw()||(h.referrerPolicy="no-referrer"),Nc.fetch()(hI(t,t.config.apiHost,n,d),h)}))})}function fI(t,e,n){return _(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},Gx),e);try{let i=new dh(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Dc(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dc(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Dc(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw Dc(t,"user-disabled",s);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw uI(t,u,l);eI(t,u)}}catch(i){if(i instanceof Nt)throw i;eI(t,"network-request-failed",{message:String(i)})}})}function hI(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?zx(t.config,i):`${t.config.apiScheme}://${i}`}var dh=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(_h(this.auth,"network-request-failed")),qx.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Dc(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=_h(t,e,r);return i.customData._tokenResponse=n,i}function Kx(t,e){return _(this,null,function*(){return Oc(t,"POST","/v1/accounts:delete",e)})}function pI(t,e){return _(this,null,function*(){return Oc(t,"POST","/v1/accounts:lookup",e)})}function Vo(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Ih(t,e=!1){return _(this,null,function*(){let n=Pt(t),r=yield n.getIdToken(e),i=gI(r);q(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Vo(lh(i.auth_time)),issuedAtTime:Vo(lh(i.iat)),expirationTime:Vo(lh(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function lh(t){return Number(t)*1e3}function gI(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Tc("JWT malformed, contained fewer than 3 sections"),null;try{let i=Do(n);return i?JSON.parse(i):(Tc("Failed to decode base64 JWT payload"),null)}catch(i){return Tc("Caught error parsing JWT payload as JSON",i?.toString()),null}}function nI(t){let e=gI(t);return q(e,"internal-error"),q(typeof e.exp<"u","internal-error"),q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function fh(t,e,n=!1){return _(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Nt&&Yx(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function Yx({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var hh=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),n)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Bo=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vo(this.lastLoginAt),this.creationTime=Vo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Rc(t){return _(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield fh(t,pI(n,{idToken:r}));q(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?mI(o.providerUserInfo):[],a=Qx(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,u=c?l:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Bo(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,d)})}function Eh(t){return _(this,null,function*(){let e=Pt(t);yield Rc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function Qx(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function mI(t){return t.map(e=>{var{providerId:n}=e,r=Nl(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Zx(t,e){return _(this,null,function*(){let n=yield fI(t,{},()=>_(this,null,function*(){let r=Mo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=hI(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Nc.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function Jx(t,e){return _(this,null,function*(){return Oc(t,"POST","/v2/accounts:revokeToken",dI(t,e))})}var $o=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){q(e.idToken,"internal-error"),q(typeof e.idToken<"u","internal-error"),q(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):nI(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){q(e.length!==0,"internal-error");let n=nI(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return _(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield Zx(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(q(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(q(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(q(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Uo("not implemented")}};function In(t,e){q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ho=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Nl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Bo(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let n=yield fh(this,this.stsTokenManager.getToken(this.auth,e));return q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Ih(this,e)}reload(){return Eh(this)}_assign(e){this!==e&&(q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Rc(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(Qr(this.auth.app))return Promise.reject(Sc(this.auth));let e=yield this.getIdToken();return yield fh(this,Kx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,l,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,p=(s=n.photoURL)!==null&&s!==void 0?s:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,O=(l=n.createdAt)!==null&&l!==void 0?l:void 0,oe=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:ee,emailVerified:Ne,isAnonymous:Lt,providerData:De,stsTokenManager:Ft}=n;q(ee&&Ft,e,"internal-error");let gi=$o.fromJSON(this.name,Ft);q(typeof ee=="string",e,"internal-error"),In(d,e.name),In(f,e.name),q(typeof Ne=="boolean",e,"internal-error"),q(typeof Lt=="boolean",e,"internal-error"),In(h,e.name),In(p,e.name),In(w,e.name),In(R,e.name),In(O,e.name),In(oe,e.name);let mi=new t({uid:ee,auth:e,email:f,emailVerified:Ne,displayName:d,isAnonymous:Lt,photoURL:p,phoneNumber:h,tenantId:w,stsTokenManager:gi,createdAt:O,lastLoginAt:oe});return De&&Array.isArray(De)&&(mi.providerData=De.map(hl=>Object.assign({},hl))),R&&(mi._redirectEventId=R),mi}static _fromIdTokenResponse(e,n,r=!1){return _(this,null,function*(){let i=new $o;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Rc(o),o})}static _fromGetAccountInfoResponse(e,n,r){return _(this,null,function*(){let i=n.users[0];q(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?mI(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new $o;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Bo(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var rI=new Map;function Zn(t){Mc(t instanceof Function,"Expected a class definition");let e=rI.get(t);return e?(Mc(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,rI.set(t,e),e)}var Xx=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(n,r){return _(this,null,function*(){this.storage[n]=r})}_get(n){return _(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return _(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),ph=Xx;function uh(t,e,n){return`firebase:${t}:${e}:${n}`}var xc=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=uh(this.userKey,i.apiKey,o),this.fullPersistenceKey=uh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ho._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(this,null,function*(){if(!n.length)return new t(Zn(ph),e,r);let i=(yield Promise.all(n.map(l=>_(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Zn(ph),s=uh(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let u=yield l._get(s);if(u){let d=Ho._fromJSON(e,u);l!==o&&(a=d),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>_(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function iI(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rP(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eP(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(oP(e))return"Blackberry";if(sP(e))return"Webos";if(tP(e))return"Safari";if((e.includes("chrome/")||nP(e))&&!e.includes("edge/"))return"Chrome";if(iP(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function eP(t=mt()){return/firefox\//i.test(t)}function tP(t=mt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nP(t=mt()){return/crios\//i.test(t)}function rP(t=mt()){return/iemobile/i.test(t)}function iP(t=mt()){return/android/i.test(t)}function oP(t=mt()){return/blackberry/i.test(t)}function sP(t=mt()){return/webos/i.test(t)}function vI(t,e=[]){let n;switch(t){case"Browser":n=iI(mt());break;case"Worker":n=`${iI(mt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zr}/${r}`}var gh=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function aP(n){return _(this,arguments,function*(t,e={}){return Oc(t,"GET","/v2/passwordPolicy",dI(t,e))})}var cP=6,mh=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:cP,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var vh=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Pc(this),this.idTokenSubscription=new Pc(this),this.beforeStateQueue=new gh(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zn(n)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield xc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let n=yield pI(this,{idToken:e}),r=yield Ho._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var n;if(Qr(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return q(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield Rc(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Wx()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(Qr(this.app))return Promise.reject(Sc(this));let n=e?Pt(e):null;return n&&q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return _(this,null,function*(){if(!this._deleted)return e&&q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return Qr(this.app)?Promise.reject(Sc(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Qr(this.app)?Promise.reject(Sc(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(Zn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield aP(this),n=new mh(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Kt("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield Jx(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Zn(e)||this._popupRedirectResolver;q(n,this,"argument-error"),this.redirectPersistenceManager=yield xc.create(this,[Zn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(q(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return _(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&$x(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function lP(t){return Pt(t)}var Pc=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Lw(n=>this.observer=n)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var uP={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dP(t){uP=t}function fP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function hP(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Zn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var GH=fP("rcb"),qH=new Jn(3e4,6e4);var KH=new Jn(2e3,1e4);var YH=10*60*1e3;var QH=new Jn(3e4,6e4);var ZH=new Jn(5e3,15e3);var JH=encodeURIComponent("fac");var oI="@firebase/auth",sI="1.7.9";var yh=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function pP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gP(t){wn(new st("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;q(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vI(t)},l=new vh(r,i,o,c);return hP(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),wn(new st("auth-internal",e=>{let n=lP(e.getProvider("auth").getImmediate());return(r=>new yh(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),_e(oI,sI,pP(t)),_e(oI,sI,"esm2017")}var mP=5*60,XH=Sw("authIdTokenMaxAge")||mP;function vP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}dP({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=_h("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",vP().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gP("Browser");var mO="auth";var kc=class{constructor(){return Lo(mO)}};var yI="@firebase/database",_I="1.0.8";var Sp="";function vO(t){Sp=t}var Nh=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),ge(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Yr(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var Rh=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return xt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var JI=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Nh(e)}}catch{}return new Rh},er=JI("localStorage"),xh=JI("sessionStorage");var ri=new yn("@firebase/database"),yO=function(){let t=1;return function(){return t++}}(),XI=function(t){let e=Fw(t),n=new mc;n.update(e);let r=n.digest();return vc.encodeByteArray(r)},ss=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=ss.apply(null,r):typeof r=="object"?e+=ge(r):e+=r,e+=" "}return e},tr=null,wI=!0,_O=function(t,e){m(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(ri.logLevel=Q.VERBOSE,tr=ri.log.bind(ri),e&&xh.set("logging_enabled",!0)):typeof t=="function"?tr=t:(tr=null,xh.remove("logging_enabled"))},Ce=function(...t){if(wI===!0&&(wI=!1,tr===null&&xh.get("logging_enabled")===!0&&_O(!0)),tr){let e=ss.apply(null,t);tr(e)}},as=function(t){return function(...e){Ce(t,...e)}},Ph=function(...t){let e="FIREBASE INTERNAL ERROR: "+ss(...t);ri.error(e)},Qt=function(...t){let e=`FIREBASE FATAL ERROR: ${ss(...t)}`;throw ri.error(e),new Error(e)},Je=function(...t){let e="FIREBASE WARNING: "+ss(...t);ri.warn(e)},wO=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Je("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},eE=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},IO=function(t){if(Rt()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},si="[MIN_NAME]",nr="[MAX_NAME]",hi=function(t,e){if(t===e)return 0;if(t===si||e===nr)return-1;if(e===si||t===nr)return 1;{let n=II(t),r=II(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},EO=function(t,e){return t===e?0:t<e?-1:1},Wo=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+ge(e))},Ap=function(t){if(typeof t!="object"||t===null)return ge(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=ge(e[r]),n+=":",n+=Ap(t[e[r]]);return n+="}",n},tE=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function ke(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var nE=function(t){m(!eE(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,o,s,a,c;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));let l=[];for(c=n;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=e;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();let u=l.join(""),d="";for(c=0;c<64;c+=8){let f=parseInt(u.substr(c,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},CO=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},bO=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function DO(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var TO=new RegExp("^-?(0*)\\d{1,10}$"),SO=-2147483648,AO=2147483647,II=function(t){if(TO.test(t)){let e=Number(t);if(e>=SO&&e<=AO)return e}return null},cs=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw Je("Exception was thrown by user callback.",n),e},Math.floor(0))}},MO=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Yo=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var Oh=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Je(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var kh=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Ce("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Je(e)}},Qo=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),Fc="5",rE="v",iE="s",oE="r",sE="f",aE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,cE="ls",lE="p",Lh="ac",uE="websocket",dE="long_polling";var jc=class{constructor(e,n,r,i,o=!1,s="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=er.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&er.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function NO(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function fE(t,e,n){m(typeof e=="string","typeof type must == string"),m(typeof n=="object","typeof params must == object");let r;if(e===uE)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===dE)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);NO(t)&&(n.ns=t.namespace);let i=[];return ke(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var Fh=class{constructor(){this.counters_={}}incrementCounter(e,n=1){xt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Cw(this.counters_)}};var Ch={},bh={};function Mp(t){let e=t.toString();return Ch[e]||(Ch[e]=new Fh),Ch[e]}function RO(t,e){let n=t.toString();return bh[n]||(bh[n]=e()),bh[n]}var jh=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&cs(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var EI="start",xO="close",PO="pLPCommand",OO="pRTLPCB",hE="id",pE="pw",gE="ser",kO="cb",LO="seg",FO="ts",jO="d",UO="dframe",mE=1870,vE=30,VO=mE-vE,$O=25e3,BO=3e4,Uh=class t{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=as(e),this.stats_=Mp(n),this.urlFn=c=>(this.appCheckToken&&(c[Lh]=this.appCheckToken),fE(n,dE,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new jh(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(BO)),IO(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Vh((...o)=>{let[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===EI)this.id=a,this.password=c;else if(s===xO)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[EI]="t",r[gE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[kO]=this.scriptTagHolder.uniqueCallbackIdentifier),r[rE]=Fc,this.transportSessionId&&(r[iE]=this.transportSessionId),this.lastSessionId&&(r[cE]=this.lastSessionId),this.applicationId&&(r[lE]=this.applicationId),this.appCheckToken&&(r[Lh]=this.appCheckToken),typeof location<"u"&&location.hostname&&aE.test(location.hostname)&&(r[oE]=sE);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return Rt()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!CO()&&!bO()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=ge(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=$f(n),i=tE(r,VO);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(Rt())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[UO]="t",r[hE]=e,r[pE]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=ge(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},Vh=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,Rt())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=yO(),window[PO+this.uniqueCallbackIdentifier]=e,window[OO+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Ce("frame writing exception"),a.stack&&Ce(a.stack),Ce(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ce("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[hE]=this.myID,e[pE]=this.myPW,e[gE]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+vE+r.length<=mE;){let s=this.pendingSegs.shift();r=r+"&"+LO+i+"="+s.seg+"&"+FO+i+"="+s.ts+"&"+jO+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor($O)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){Rt()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Ce("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var HO=16384,WO=45e3,Uc=null;typeof MozWebSocket<"u"?Uc=MozWebSocket:typeof WebSocket<"u"&&(Uc=WebSocket);var zo=(()=>{class t{constructor(n,r,i,o,s,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=as(this.connId),this.stats_=Mp(r),this.connURL=t.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[rE]=Fc,!Rt()&&typeof location<"u"&&location.hostname&&aE.test(location.hostname)&&(a[oE]=sE),r&&(a[iE]=r),i&&(a[cE]=i),o&&(a[Lh]=o),s&&(a[lE]=s),fE(n,uE,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,er.set("previous_websocket_failure",!0);try{let i;if(Rt()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${Fc}/${Sp}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new Uc(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&Uc!==null&&!t.forceDisallow_}static previouslyFailed(){return er.isInMemoryStorage||er.get("previous_websocket_failure")===!0}markConnectionHealthy(){er.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=Yr(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(m(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=ge(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=tE(r,HO);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(WO))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),zO=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Uh,zo]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=zo&&zo.isAvailable(),i=r&&!zo.previouslyFailed();if(n.webSocketOnly&&(r||Je("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[zo];else{let o=this.transports_=[];for(let s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),GO=6e4,qO=5e3,KO=10*1024,YO=100*1024,Dh="t",CI="d",QO="s",bI="r",ZO="e",DI="o",TI="a",SI="n",AI="p",JO="h",$h=class{constructor(e,n,r,i,o,s,a,c,l,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=as("c:"+this.id+":"),this.transportManager_=new zO(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Yo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>YO?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>KO?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Dh in e){let n=e[Dh];n===TI?this.upgradeIfSecondaryHealthy_():n===bI?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===DI&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=Wo("t",e),r=Wo("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:AI,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:TI,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:SI,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=Wo("t",e),r=Wo("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=Wo(Dh,e);if(CI in e){let r=e[CI];if(n===JO){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===SI){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===QO?this.onConnectionShutdown_(r):n===bI?this.onReset_(r):n===ZO?Ph("Server Error: "+r):n===DI?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ph("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Fc!==r&&Je("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Yo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(GO))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Yo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(qO))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:AI,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(er.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Vc=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var $c=class{constructor(e){this.allowedEvents_=e,this.listeners_={},m(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){m(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var Bc=class t extends $c{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!To()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return m(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var MI=32,NI=768,Z=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function K(){return new Z("")}function F(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Cn(t){return t.pieces_.length-t.pieceNum_}function X(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Z(t.pieces_,e)}function yE(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function XO(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function _E(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function wE(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Z(e,0)}function me(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Z)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Z(n,0)}function j(t){return t.pieceNum_>=t.pieces_.length}function Oe(t,e){let n=F(t),r=F(e);if(n===null)return e;if(n===r)return Oe(X(t),X(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Np(t,e){if(Cn(t)!==Cn(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function yt(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Cn(t)>Cn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var Bh=class{constructor(e,n){this.errorPrefix_=n,this.parts_=_E(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=No(this.parts_[r]);IE(this)}};function ek(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=No(e),IE(t)}function tk(t){let e=t.parts_.pop();t.byteLength_-=No(e),t.parts_.length>0&&(t.byteLength_-=1)}function IE(t){if(t.byteLength_>NI)throw new Error(t.errorPrefix_+"has a key path longer than "+NI+" bytes ("+t.byteLength_+").");if(t.parts_.length>MI)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+MI+") or object contains a cycle "+Xn(t))}function Xn(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var Hh=class t extends $c{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return m(e==="visible","Unknown event type: "+e),[this.visible_]}};var Go=1e3,nk=60*5*1e3,RI=30*1e3,rk=1.3,ik=3e4,ok="server_kill",xI=3,Rp=(()=>{class t extends Vc{constructor(n,r,i,o,s,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=t.nextPersistentConnectionId_++,this.log_=as("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Go,this.maxReconnectDelay_=nk,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!Rt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Hh.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Bc.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(ge(s)),m(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new Wn,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),m(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),m(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,c=>{let l=c.d,u=c.s;t.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&xt(n,"w")){let i=Gn(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();Je(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||kw(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=RI)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=Ow(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),m(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+ge(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):Ph("Unrecognized action received from server: "+ge(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){m(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Go,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Go,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>ik&&(this.reconnectDelay_=Go),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*rk)}this.onConnectStatus_(!1)}establishConnection_(){return _(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,i())},u=function(f){m(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)};this.realtime_={close:l,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Ce("getToken() completed but was canceled"):(Ce("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,c=new $h(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,p=>{Je(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(ok)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&Je(f),l())}}})}interrupt(n){Ce("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Ce("Resuming connection for reason: "+n),delete this.interruptReasons_[n],_c(this.interruptReasons_)&&(this.reconnectDelay_=Go,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>Ap(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new Z(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){Ce("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=xI&&(this.reconnectDelay_=RI,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Ce("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=xI&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";Rt()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+Sp.replace(/\./g,"-")]=1,To()?n["framework.cordova"]=1:yc()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Bc.getInstance().currentlyOnline();return _c(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),L=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var ai=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new L(si,e),i=new L(si,n);return this.compare(r,i)!==0}minPost(){return L.MIN}};var Lc,Hc=class extends ai{static get __EMPTY_NODE(){return Lc}static set __EMPTY_NODE(e){Lc=e}compare(e,n){return hi(e.name,n.name)}isDefinedOn(e){throw zn("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return L.MIN}maxPost(){return new L(nr,Lc)}makePost(e,n){return m(typeof e=="string","KeyIndex indexValue must always be a string."),new L(e,Lc)}toString(){return".key"}},ii=new Hc;var ti=class{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},vt=(()=>{class t{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??t.RED,this.left=o??at.EMPTY_NODE,this.right=s??at.EMPTY_NODE}copy(n,r,i,o,s){return new t(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return at.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return at.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),Wh=class{copy(e,n,r,i,o){return this}insert(e,n,r){return new vt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},at=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,vt.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,vt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ti(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new ti(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new ti(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new ti(this.root_,null,this.comparator_,!0,e)}};at.EMPTY_NODE=new Wh;function sk(t,e){return hi(t.name,e.name)}function xp(t,e){return hi(t,e)}var zh;function ak(t){zh=t}var EE=function(t){return typeof t=="number"?"number:"+nE(t):"string:"+t},CE=function(t){if(t.isLeafNode()){let e=t.val();m(typeof e=="string"||typeof e=="number"||typeof e=="object"&&xt(e,".sv"),"Priority must be a string or number.")}else m(t===zh||t.isEmpty(),"priority of unexpected type.");m(t===zh||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var PI,ci=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,m(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),CE(this.priorityNode_)}static set __childrenNodeConstructor(n){PI=n}static get __childrenNodeConstructor(){return PI}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return j(n)?this:F(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=F(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(m(i!==".priority"||Cn(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(X(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+EE(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=nE(this.value_):n+=this.value_,this.lazyHash_=XI(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(m(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(r),s=t.VALUE_TYPE_ORDER.indexOf(i);return m(o>=0,"Unknown leaf type: "+r),m(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),bE,DE;function ck(t){bE=t}function lk(t){DE=t}var Gh=class extends ai{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?hi(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return L.MIN}maxPost(){return new L(nr,new ci("[PRIORITY-POST]",DE))}makePost(e,n){let r=bE(e);return new L(n,new ci("[PRIORITY-POST]",r))}toString(){return".priority"}},ie=new Gh;var uk=Math.log(2),qh=class{constructor(e){let n=o=>parseInt(Math.log(o)/uk,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},Wc=function(t,e,n,r){t.sort(e);let i=function(c,l){let u=l-c,d,f;if(u===0)return null;if(u===1)return d=t[c],f=n?n(d):d,new vt(f,d.node,vt.BLACK,null,null);{let h=parseInt(u/2,10)+c,p=i(c,h),w=i(h+1,l);return d=t[h],f=n?n(d):d,new vt(f,d.node,vt.BLACK,p,w)}},o=function(c){let l=null,u=null,d=t.length,f=function(p,w){let R=d-p,O=d;d-=p;let oe=i(R+1,O),ee=t[R],Ne=n?n(ee):ee;h(new vt(Ne,ee.node,w,null,oe))},h=function(p){l?(l.left=p,l=p):(u=p,l=p)};for(let p=0;p<c.count;++p){let w=c.nextBitIsOne(),R=Math.pow(2,c.count-(p+1));w?f(R,vt.BLACK):(f(R,vt.BLACK),f(R,vt.RED))}return u},s=new qh(t.length),a=o(s);return new at(r||e,a)};var Th,ei={},li=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return m(ei&&ie,"ChildrenNode.ts has not been loaded"),Th=Th||new t({".priority":ei},{".priority":ie}),Th}get(e){let n=Gn(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof at?n:null}hasIndex(e){return xt(this.indexSet_,e.toString())}addIndex(e,n){m(e!==ii,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator(L.Wrap),s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=Wc(r,e.getCompare()):a=ei;let c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;let u=Object.assign({},this.indexes_);return u[c]=a,new t(u,l)}addToIndexes(e,n){let r=So(this.indexes_,(i,o)=>{let s=Gn(this.indexSet_,o);if(m(s,"Missing index implementation for "+o),i===ei)if(s.isDefinedOn(e.node)){let a=[],c=n.getIterator(L.Wrap),l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),Wc(a,s.getCompare())}else return ei;else{let a=n.get(e.name),c=i;return a&&(c=c.remove(new L(e.name,a))),c.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=So(this.indexes_,i=>{if(i===ei)return i;{let o=n.get(e.name);return o?i.remove(new L(e.name,o)):i}});return new t(r,this.indexSet_)}};var qo,P=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&CE(this.priorityNode_),this.children_.isEmpty()&&m(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return qo||(qo=new t(new at(xp),null,li.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||qo}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?qo:r}}getChild(n){let r=F(n);return r===null?this:this.getImmediateChild(r).getChild(X(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(m(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new L(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?qo:this.priorityNode_;return new t(o,a,s)}}updateChild(n,r){let i=F(n);if(i===null)return r;{m(F(n)!==".priority"||Cn(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(X(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(ie,(a,c)=>{r[a]=c.val(n),i++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+EE(this.getPriority().val())+":"),this.forEachChild(ie,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":XI(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new L(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new L(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new L(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,L.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,L.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===ls?-1:0}withIndex(n){if(n===ii||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===ii||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(ie),o=r.getIterator(ie),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===ii?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),Kh=class extends P{constructor(){super(new at(xp),P.EMPTY_NODE,li.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return P.EMPTY_NODE}isEmpty(){return!1}},ls=new Kh;Object.defineProperties(L,{MIN:{value:new L(si,P.EMPTY_NODE)},MAX:{value:new L(nr,ls)}});Hc.__EMPTY_NODE=P.EMPTY_NODE;ci.__childrenNodeConstructor=P;ak(ls);lk(ls);var dk=!0;function be(t,e=null){if(t===null)return P.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),m(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new ci(n,be(e))}if(!(t instanceof Array)&&dk){let n=[],r=!1;if(ke(t,(s,a)=>{if(s.substring(0,1)!=="."){let c=be(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new L(s,c)))}}),n.length===0)return P.EMPTY_NODE;let o=Wc(n,sk,s=>s.name,xp);if(r){let s=Wc(n,ie.getCompare());return new P(o,be(e),new li({".priority":s},{".priority":ie}))}else return new P(o,be(e),li.Default)}else{let n=P.EMPTY_NODE;return ke(t,(r,i)=>{if(xt(t,r)&&r.substring(0,1)!=="."){let o=be(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(be(e))}}ck(be);var Yh=class extends ai{constructor(e){super(),this.indexPath_=e,m(!j(e)&&F(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?hi(e.name,n.name):o}makePost(e,n){let r=be(e),i=P.EMPTY_NODE.updateChild(this.indexPath_,r);return new L(n,i)}maxPost(){let e=P.EMPTY_NODE.updateChild(this.indexPath_,ls);return new L(nr,e)}toString(){return _E(this.indexPath_,0).join("/")}};var Qh=class extends ai{compare(e,n){let r=e.node.compareTo(n.node);return r===0?hi(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return L.MIN}maxPost(){return L.MAX}makePost(e,n){let r=be(e);return new L(n,r)}toString(){return".value"}},fk=new Qh;function TE(t){return{type:"value",snapshotNode:t}}function ui(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function es(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ts(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function hk(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var ns=class{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){m(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(es(n,a)):m(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(ui(n,r)):s.trackChildChange(ts(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(ie,(i,o)=>{n.hasChild(i)||r.trackChildChange(es(i,o))}),n.isLeafNode()||n.forEachChild(ie,(i,o)=>{if(e.hasChild(i)){let s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(ts(i,o,s))}else r.trackChildChange(ui(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?P.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var zc=class t{constructor(e){this.indexedFilter_=new ns(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new L(n,r))||(r=P.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=P.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(P.EMPTY_NODE);let o=this;return n.forEachChild(ie,(s,a)=>{o.matches(new L(s,a))||(i=i.updateImmediateChild(s,P.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var Zh=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new zc(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new L(n,r))||(r=P.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=P.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=P.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(P.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,P.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(f,h)=>d(h,f)}else s=this.index_.getCompare();let a=e;m(a.numChildren()===this.limit_,"");let c=new L(n,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(c);if(a.hasChild(n)){let d=a.getImmediateChild(n),f=i.getChildAfterChild(this.index_,l,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);let h=f==null?1:s(f,c);if(u&&!r.isEmpty()&&h>=0)return o?.trackChildChange(ts(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(es(n,d));let w=a.updateImmediateChild(n,P.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o?.trackChildChange(ui(f.name,f.node)),w.updateImmediateChild(f.name,f.node)):w}}else return r.isEmpty()?e:u&&s(l,c)>=0?(o!=null&&(o.trackChildChange(es(l.name,l.node)),o.trackChildChange(ui(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(l.name,P.EMPTY_NODE)):e}};var Jh=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ie}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return m(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return m(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:si}hasEnd(){return this.endSet_}getIndexEndValue(){return m(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return m(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:nr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return m(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ie}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function pk(t){return t.loadsAllData()?new ns(t.getIndex()):t.hasLimit()?new Zh(t):new zc(t)}function OI(t){let e={};if(t.isDefault())return e;let n;if(t.index_===ie?n="$priority":t.index_===fk?n="$value":t.index_===ii?n="$key":(m(t.index_ instanceof Yh,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=ge(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=ge(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+ge(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=ge(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+ge(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function kI(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==ie&&(e.i=t.index_.toString()),e}var Xh=class t extends Vc{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=as("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(m(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);let s=t.getListenId_(e,r),a={};this.listens_[s]=a;let c=OI(e._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let d=u;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(o,d,!1,r),Gn(this.listens_,s)===a){let f;l?l===401?f="permission_denied":f="rest_error:"+l:f="ok",i(f,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=OI(e._queryParams),r=e._path.toString(),i=new Wn;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Mo(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=Yr(a.responseText)}catch{Je("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&Je("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var ep=class{constructor(){this.rootNode_=P.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function Gc(){return{value:null,children:new Map}}function SE(t,e,n){if(j(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=F(e);t.children.has(r)||t.children.set(r,Gc());let i=t.children.get(r);e=X(e),SE(i,e,n)}}function tp(t,e,n){t.value!==null?n(e,t.value):gk(t,(r,i)=>{let o=new Z(e.toString()+"/"+r);tp(i,o,n)})}function gk(t,e){t.children.forEach((n,r)=>{e(r,n)})}var np=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&ke(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var LI=10*1e3,mk=30*1e3,vk=5*60*1e3,rp=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new np(e);let r=LI+(mk-LI)*Math.random();Yo(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;ke(e,(i,o)=>{o>0&&xt(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),Yo(this.reportStats_.bind(this),Math.floor(Math.random()*2*vk))}};var kt=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(kt||{});function AE(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Pp(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Op(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var ip=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=kt.ACK_USER_WRITE,this.source=AE()}operationForChild(e){if(j(this.path)){if(this.affectedTree.value!=null)return m(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new Z(e));return new t(K(),n,this.revert)}}else return m(F(this.path)===e,"operationForChild called for unrelated child."),new t(X(this.path),this.affectedTree,this.revert)}};var qc=class t{constructor(e,n){this.source=e,this.path=n,this.type=kt.LISTEN_COMPLETE}operationForChild(e){return j(this.path)?new t(this.source,K()):new t(this.source,X(this.path))}};var di=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=kt.OVERWRITE}operationForChild(e){return j(this.path)?new t(this.source,K(),this.snap.getImmediateChild(e)):new t(this.source,X(this.path),this.snap)}};var Kc=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=kt.MERGE}operationForChild(e){if(j(this.path)){let n=this.children.subtree(new Z(e));return n.isEmpty()?null:n.value?new di(this.source,K(),n.value):new t(this.source,K(),n)}else return m(F(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,X(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var Zt=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(j(e))return this.isFullyInitialized()&&!this.filtered_;let n=F(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var op=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function yk(t,e,n,r){let i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(hk(s.childName,s.snapshotNode))}),Ko(t,i,"child_removed",e,r,n),Ko(t,i,"child_added",e,r,n),Ko(t,i,"child_moved",o,r,n),Ko(t,i,"child_changed",e,r,n),Ko(t,i,"value",e,r,n),i}function Ko(t,e,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,c)=>wk(t,a,c)),s.forEach(a=>{let c=_k(t,a,o);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,t.query_))})})}function _k(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function wk(t,e,n){if(e.childName==null||n.childName==null)throw zn("Should only compare child_ events.");let r=new L(e.childName,e.snapshotNode),i=new L(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function ol(t,e){return{eventCache:t,serverCache:e}}function Zo(t,e,n,r){return ol(new Zt(e,n,r),t.serverCache)}function ME(t,e,n,r){return ol(t.eventCache,new Zt(e,n,r))}function sp(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function rr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var Sh,Ik=()=>(Sh||(Sh=new at(EO)),Sh),Le=class t{constructor(e,n=Ik()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return ke(e,(r,i)=>{n=n.set(new Z(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:K(),value:this.value};if(j(e))return null;{let r=F(e),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(X(e),n);return o!=null?{path:me(new Z(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(j(e))return this;{let n=F(e),r=this.children.get(n);return r!==null?r.subtree(X(e)):new t(null)}}set(e,n){if(j(e))return new t(n,this.children);{let r=F(e),o=(this.children.get(r)||new t(null)).set(X(e),n),s=this.children.insert(r,o);return new t(this.value,s)}}remove(e){if(j(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=F(e),r=this.children.get(n);if(r){let i=r.remove(X(e)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this}}get(e){if(j(e))return this.value;{let n=F(e),r=this.children.get(n);return r?r.get(X(e)):null}}setTree(e,n){if(j(e))return n;{let r=F(e),o=(this.children.get(r)||new t(null)).setTree(X(e),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new t(this.value,s)}}fold(e){return this.fold_(K(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(me(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,K(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(j(e))return null;{let o=F(e),s=this.children.get(o);return s?s.findOnPath_(X(e),me(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,K(),n)}foreachOnPath_(e,n,r){if(j(e))return this;{this.value&&r(n,this.value);let i=F(e),o=this.children.get(i);return o?o.foreachOnPath_(X(e),me(n,i),r):new t(null)}}foreach(e){this.foreach_(K(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(me(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var _t=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new Le(null))}};function Jo(t,e,n){if(j(e))return new _t(new Le(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,o=r.value,s=Oe(i,e);return o=o.updateChild(s,n),new _t(t.writeTree_.set(i,o))}else{let i=new Le(n),o=t.writeTree_.setTree(e,i);return new _t(o)}}}function FI(t,e,n){let r=t;return ke(n,(i,o)=>{r=Jo(r,me(e,i),o)}),r}function jI(t,e){if(j(e))return _t.empty();{let n=t.writeTree_.setTree(e,new Le(null));return new _t(n)}}function ap(t,e){return ir(t,e)!=null}function ir(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Oe(n.path,e)):null}function UI(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(ie,(r,i)=>{e.push(new L(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new L(r,i.value))}),e}function En(t,e){if(j(e))return t;{let n=ir(t,e);return n!=null?new _t(new Le(n)):new _t(t.writeTree_.subtree(e))}}function cp(t){return t.writeTree_.isEmpty()}function fi(t,e){return NE(K(),t.writeTree_,e)}function NE(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(m(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=NE(me(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(me(t,".priority"),r)),n}}function kp(t,e){return OE(e,t)}function Ek(t,e,n,r,i){m(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Jo(t.visibleWrites,e,n)),t.lastWriteId=r}function Ck(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function bk(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);m(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){let a=t.allWrites[s];a.visible&&(s>=n&&Dk(a,r.path)?i=!1:yt(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return Tk(t),!0;if(r.snap)t.visibleWrites=jI(t.visibleWrites,r.path);else{let a=r.children;ke(a,c=>{t.visibleWrites=jI(t.visibleWrites,me(r.path,c))})}return!0}else return!1}function Dk(t,e){if(t.snap)return yt(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&yt(me(t.path,n),e))return!0;return!1}function Tk(t){t.visibleWrites=RE(t.allWrites,Sk,K()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Sk(t){return t.visible}function RE(t,e,n){let r=_t.empty();for(let i=0;i<t.length;++i){let o=t[i];if(e(o)){let s=o.path,a;if(o.snap)yt(n,s)?(a=Oe(n,s),r=Jo(r,a,o.snap)):yt(s,n)&&(a=Oe(s,n),r=Jo(r,K(),o.snap.getChild(a)));else if(o.children){if(yt(n,s))a=Oe(n,s),r=FI(r,a,o.children);else if(yt(s,n))if(a=Oe(s,n),j(a))r=FI(r,K(),o.children);else{let c=Gn(o.children,F(a));if(c){let l=c.getChild(X(a));r=Jo(r,K(),l)}}}else throw zn("WriteRecord should have .snap or .children")}}return r}function xE(t,e,n,r,i){if(!r&&!i){let o=ir(t.visibleWrites,e);if(o!=null)return o;{let s=En(t.visibleWrites,e);if(cp(s))return n;if(n==null&&!ap(s,K()))return null;{let a=n||P.EMPTY_NODE;return fi(s,a)}}}else{let o=En(t.visibleWrites,e);if(!i&&cp(o))return n;if(!i&&n==null&&!ap(o,K()))return null;{let s=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(yt(l.path,e)||yt(e,l.path))},a=RE(t.allWrites,s,e),c=n||P.EMPTY_NODE;return fi(a,c)}}}function Ak(t,e,n){let r=P.EMPTY_NODE,i=ir(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ie,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=En(t.visibleWrites,e);return n.forEachChild(ie,(s,a)=>{let c=fi(En(o,new Z(s)),a);r=r.updateImmediateChild(s,c)}),UI(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=En(t.visibleWrites,e);return UI(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function Mk(t,e,n,r,i){m(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=me(e,n);if(ap(t.visibleWrites,o))return null;{let s=En(t.visibleWrites,o);return cp(s)?i.getChild(n):fi(s,i.getChild(n))}}function Nk(t,e,n,r){let i=me(e,n),o=ir(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=En(t.visibleWrites,i);return fi(s,r.getNode().getImmediateChild(n))}else return null}function Rk(t,e){return ir(t.visibleWrites,e)}function xk(t,e,n,r,i,o,s){let a,c=En(t.visibleWrites,e),l=ir(c,K());if(l!=null)a=l;else if(n!=null)a=fi(c,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function Pk(){return{visibleWrites:_t.empty(),allWrites:[],lastWriteId:-1}}function Yc(t,e,n,r){return xE(t.writeTree,t.treePath,e,n,r)}function Lp(t,e){return Ak(t.writeTree,t.treePath,e)}function VI(t,e,n,r){return Mk(t.writeTree,t.treePath,e,n,r)}function Qc(t,e){return Rk(t.writeTree,me(t.treePath,e))}function Ok(t,e,n,r,i,o){return xk(t.writeTree,t.treePath,e,n,r,i,o)}function Fp(t,e,n){return Nk(t.writeTree,t.treePath,e,n)}function PE(t,e){return OE(me(t.treePath,e),t.writeTree)}function OE(t,e){return{treePath:t,writeTree:e}}var lp=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;m(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),m(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,ts(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,es(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,ui(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,ts(r,e.snapshotNode,i.oldSnap));else throw zn("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var up=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},kE=new up,rs=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new Zt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Fp(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:rr(this.viewCache_),o=Ok(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}};function kk(t){return{filter:t}}function Lk(t,e){m(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),m(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function Fk(t,e,n,r,i){let o=new lp,s,a;if(n.type===kt.OVERWRITE){let l=n;l.source.fromUser?s=dp(t,e,l.path,l.snap,r,i,o):(m(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!j(l.path),s=Zc(t,e,l.path,l.snap,r,i,a,o))}else if(n.type===kt.MERGE){let l=n;l.source.fromUser?s=Uk(t,e,l.path,l.children,r,i,o):(m(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=fp(t,e,l.path,l.children,r,i,a,o))}else if(n.type===kt.ACK_USER_WRITE){let l=n;l.revert?s=Bk(t,e,l.path,r,i,o):s=Vk(t,e,l.path,l.affectedTree,r,i,o)}else if(n.type===kt.LISTEN_COMPLETE)s=$k(t,e,n.path,r,o);else throw zn("Unknown operation type: "+n.type);let c=o.getChanges();return jk(e,s,c),{viewCache:s,changes:c}}function jk(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=sp(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(TE(sp(e)))}}function LE(t,e,n,r,i,o){let s=e.eventCache;if(Qc(r,n)!=null)return e;{let a,c;if(j(n))if(m(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let l=rr(e),u=l instanceof P?l:P.EMPTY_NODE,d=Lp(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{let l=Yc(r,rr(e));a=t.filter.updateFullNode(e.eventCache.getNode(),l,o)}else{let l=F(n);if(l===".priority"){m(Cn(n)===1,"Can't have a priority with additional path components");let u=s.getNode();c=e.serverCache.getNode();let d=VI(r,n,u,c);d!=null?a=t.filter.updatePriority(u,d):a=s.getNode()}else{let u=X(n),d;if(s.isCompleteForChild(l)){c=e.serverCache.getNode();let f=VI(r,n,s.getNode(),c);f!=null?d=s.getNode().getImmediateChild(l).updateChild(u,f):d=s.getNode().getImmediateChild(l)}else d=Fp(r,l,e.serverCache);d!=null?a=t.filter.updateChild(s.getNode(),l,d,u,i,o):a=s.getNode()}}return Zo(e,a,s.isFullyInitialized()||j(n),t.filter.filtersNodes())}}function Zc(t,e,n,r,i,o,s,a){let c=e.serverCache,l,u=s?t.filter:t.filter.getIndexedFilter();if(j(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){let h=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),h,null)}else{let h=F(n);if(!c.isCompleteForPath(n)&&Cn(n)>1)return e;let p=X(n),R=c.getNode().getImmediateChild(h).updateChild(p,r);h===".priority"?l=u.updatePriority(c.getNode(),R):l=u.updateChild(c.getNode(),h,R,p,kE,null)}let d=ME(e,l,c.isFullyInitialized()||j(n),u.filtersNodes()),f=new rs(i,d,o);return LE(t,d,n,i,f,a)}function dp(t,e,n,r,i,o,s){let a=e.eventCache,c,l,u=new rs(i,e,o);if(j(n))l=t.filter.updateFullNode(e.eventCache.getNode(),r,s),c=Zo(e,l,!0,t.filter.filtersNodes());else{let d=F(n);if(d===".priority")l=t.filter.updatePriority(e.eventCache.getNode(),r),c=Zo(e,l,a.isFullyInitialized(),a.isFiltered());else{let f=X(n),h=a.getNode().getImmediateChild(d),p;if(j(f))p=r;else{let w=u.getCompleteChild(d);w!=null?yE(f)===".priority"&&w.getChild(wE(f)).isEmpty()?p=w:p=w.updateChild(f,r):p=P.EMPTY_NODE}if(h.equals(p))c=e;else{let w=t.filter.updateChild(a.getNode(),d,p,f,u,s);c=Zo(e,w,a.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function $I(t,e){return t.eventCache.isCompleteForChild(e)}function Uk(t,e,n,r,i,o,s){let a=e;return r.foreach((c,l)=>{let u=me(n,c);$I(e,F(u))&&(a=dp(t,a,u,l,i,o,s))}),r.foreach((c,l)=>{let u=me(n,c);$I(e,F(u))||(a=dp(t,a,u,l,i,o,s))}),a}function BI(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function fp(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,l;j(n)?l=r:l=new Le(null).setTree(n,r);let u=e.serverCache.getNode();return l.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=e.serverCache.getNode().getImmediateChild(d),p=BI(t,h,f);c=Zc(t,c,new Z(d),p,i,o,s,a)}}),l.children.inorderTraversal((d,f)=>{let h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let p=e.serverCache.getNode().getImmediateChild(d),w=BI(t,p,f);c=Zc(t,c,new Z(d),w,i,o,s,a)}}),c}function Vk(t,e,n,r,i,o,s){if(Qc(i,n)!=null)return e;let a=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(j(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Zc(t,e,n,c.getNode().getChild(n),i,o,a,s);if(j(n)){let l=new Le(null);return c.getNode().forEachChild(ii,(u,d)=>{l=l.set(new Z(u),d)}),fp(t,e,n,l,i,o,a,s)}else return e}else{let l=new Le(null);return r.foreach((u,d)=>{let f=me(n,u);c.isCompleteForPath(f)&&(l=l.set(u,c.getNode().getChild(f)))}),fp(t,e,n,l,i,o,a,s)}}function $k(t,e,n,r,i){let o=e.serverCache,s=ME(e,o.getNode(),o.isFullyInitialized()||j(n),o.isFiltered());return LE(t,s,n,r,kE,i)}function Bk(t,e,n,r,i,o){let s;if(Qc(r,n)!=null)return e;{let a=new rs(r,e,i),c=e.eventCache.getNode(),l;if(j(n)||F(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=Yc(r,rr(e));else{let d=e.serverCache.getNode();m(d instanceof P,"serverChildren would be complete if leaf node"),u=Lp(r,d)}u=u,l=t.filter.updateFullNode(c,u,o)}else{let u=F(n),d=Fp(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),d!=null?l=t.filter.updateChild(c,u,d,X(n),a,o):e.eventCache.getNode().hasChild(u)?l=t.filter.updateChild(c,u,P.EMPTY_NODE,X(n),a,o):l=c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Yc(r,rr(e)),s.isLeafNode()&&(l=t.filter.updateFullNode(l,s,o)))}return s=e.serverCache.isFullyInitialized()||Qc(r,K())!=null,Zo(e,l,s,t.filter.filtersNodes())}}var hp=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new ns(r.getIndex()),o=pk(r);this.processor_=kk(o);let s=n.serverCache,a=n.eventCache,c=i.updateFullNode(P.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(P.EMPTY_NODE,a.getNode(),null),u=new Zt(c,s.isFullyInitialized(),i.filtersNodes()),d=new Zt(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=ol(d,u),this.eventGenerator_=new op(this.query_)}get query(){return this.query_}};function Hk(t){return t.viewCache_.serverCache.getNode()}function Wk(t,e){let n=rr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!j(e)&&!n.getImmediateChild(F(e)).isEmpty())?n.getChild(e):null}function HI(t){return t.eventRegistrations_.length===0}function zk(t,e){t.eventRegistrations_.push(e)}function WI(t,e,n){let r=[];if(n){m(e==null,"A cancel should cancel all event registrations.");let i=t.query._path;t.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){let s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function zI(t,e,n,r){e.type===kt.MERGE&&e.source.queryId!==null&&(m(rr(t.viewCache_),"We should always have a full cache before handling merges"),m(sp(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,o=Fk(t.processor_,i,e,n,r);return Lk(t.processor_,o.viewCache),m(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,FE(t,o.changes,o.viewCache.eventCache.getNode(),null)}function Gk(t,e){let n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(ie,(o,s)=>{r.push(ui(o,s))}),n.isFullyInitialized()&&r.push(TE(n.getNode())),FE(t,r,n.getNode(),e)}function FE(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return yk(t.eventGenerator_,e,n,i)}var Jc,pp=class{constructor(){this.views=new Map}};function qk(t){m(!Jc,"__referenceConstructor has already been defined"),Jc=t}function Kk(){return m(Jc,"Reference.ts has not been loaded"),Jc}function Yk(t){return t.views.size===0}function jp(t,e,n,r){let i=e.source.queryId;if(i!==null){let o=t.views.get(i);return m(o!=null,"SyncTree gave us an op for an invalid query."),zI(o,e,n,r)}else{let o=[];for(let s of t.views.values())o=o.concat(zI(s,e,n,r));return o}}function Qk(t,e,n,r,i){let o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=Yc(n,i?r:null),c=!1;a?c=!0:r instanceof P?(a=Lp(n,r),c=!1):(a=P.EMPTY_NODE,c=!1);let l=ol(new Zt(a,c,!1),new Zt(r,i,!1));return new hp(e,l)}return s}function Zk(t,e,n,r,i,o){let s=Qk(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),zk(s,n),Gk(s,n)}function Jk(t,e,n,r){let i=e._queryIdentifier,o=[],s=[],a=bn(t);if(i==="default")for(let[c,l]of t.views.entries())s=s.concat(WI(l,n,r)),HI(l)&&(t.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{let c=t.views.get(i);c&&(s=s.concat(WI(c,n,r)),HI(c)&&(t.views.delete(i),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!bn(t)&&o.push(new(Kk())(e._repo,e._path)),{removed:o,events:s}}function jE(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function oi(t,e){let n=null;for(let r of t.views.values())n=n||Wk(r,e);return n}function UE(t,e){if(e._queryParams.loadsAllData())return sl(t);{let r=e._queryIdentifier;return t.views.get(r)}}function VE(t,e){return UE(t,e)!=null}function bn(t){return sl(t)!=null}function sl(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var Xc;function Xk(t){m(!Xc,"__referenceConstructor has already been defined"),Xc=t}function eL(){return m(Xc,"Reference.ts has not been loaded"),Xc}var tL=1,el=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Le(null),this.pendingWriteTree_=Pk(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function nL(t,e,n,r,i){return Ek(t.pendingWriteTree_,e,n,r,i),i?us(t,new di(AE(),e,n)):[]}function ni(t,e,n=!1){let r=Ck(t.pendingWriteTree_,e);if(bk(t.pendingWriteTree_,e)){let o=new Le(null);return r.snap!=null?o=o.set(K(),!0):ke(r.children,s=>{o=o.set(new Z(s),!0)}),us(t,new ip(r.path,o,n))}else return[]}function al(t,e,n){return us(t,new di(Pp(),e,n))}function rL(t,e,n){let r=Le.fromObject(n);return us(t,new Kc(Pp(),e,r))}function iL(t,e){return us(t,new qc(Pp(),e))}function oL(t,e,n){let r=Up(t,n);if(r){let i=Vp(r),o=i.path,s=i.queryId,a=Oe(o,e),c=new qc(Op(s),a);return $p(t,o,c)}else return[]}function gp(t,e,n,r,i=!1){let o=e._path,s=t.syncPointTree_.get(o),a=[];if(s&&(e._queryIdentifier==="default"||VE(s,e))){let c=Jk(s,e,n,r);Yk(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));let l=c.removed;if(a=c.events,!i){let u=l.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(o,(f,h)=>bn(h));if(u&&!d){let f=t.syncPointTree_.subtree(o);if(!f.isEmpty()){let h=cL(f);for(let p=0;p<h.length;++p){let w=h[p],R=w.query,O=WE(t,w);t.listenProvider_.startListening(Xo(R),tl(t,R),O.hashFn,O.onComplete)}}}!d&&l.length>0&&!r&&(u?t.listenProvider_.stopListening(Xo(e),null):l.forEach(f=>{let h=t.queryToTagMap.get(cl(f));t.listenProvider_.stopListening(Xo(f),h)}))}lL(t,l)}return a}function sL(t,e,n,r){let i=Up(t,r);if(i!=null){let o=Vp(i),s=o.path,a=o.queryId,c=Oe(s,e),l=new di(Op(a),c,n);return $p(t,s,l)}else return[]}function aL(t,e,n,r){let i=Up(t,r);if(i){let o=Vp(i),s=o.path,a=o.queryId,c=Oe(s,e),l=Le.fromObject(n),u=new Kc(Op(a),c,l);return $p(t,s,u)}else return[]}function GI(t,e,n,r=!1){let i=e._path,o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(f,h)=>{let p=Oe(f,i);o=o||oi(h,p),s=s||bn(h)});let a=t.syncPointTree_.get(i);a?(s=s||bn(a),o=o||oi(a,K())):(a=new pp,t.syncPointTree_=t.syncPointTree_.set(i,a));let c;o!=null?c=!0:(c=!1,o=P.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((h,p)=>{let w=oi(p,K());w&&(o=o.updateImmediateChild(h,w))}));let l=VE(a,e);if(!l&&!e._queryParams.loadsAllData()){let f=cl(e);m(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");let h=uL();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}let u=kp(t.pendingWriteTree_,i),d=Zk(a,e,n,u,o,c);if(!l&&!s&&!r){let f=UE(a,e);d=d.concat(dL(t,e,f))}return d}function $E(t,e,n){let i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{let c=Oe(s,e),l=oi(a,c);if(l)return l});return xE(i,e,o,n,!0)}function us(t,e){return BE(e,t.syncPointTree_,null,kp(t.pendingWriteTree_,K()))}function BE(t,e,n,r){if(j(t.path))return HE(t,e,n,r);{let i=e.get(K());n==null&&i!=null&&(n=oi(i,K()));let o=[],s=F(t.path),a=t.operationForChild(s),c=e.children.get(s);if(c&&a){let l=n?n.getImmediateChild(s):null,u=PE(r,s);o=o.concat(BE(a,c,l,u))}return i&&(o=o.concat(jp(i,t,r,n))),o}}function HE(t,e,n,r){let i=e.get(K());n==null&&i!=null&&(n=oi(i,K()));let o=[];return e.children.inorderTraversal((s,a)=>{let c=n?n.getImmediateChild(s):null,l=PE(r,s),u=t.operationForChild(s);u&&(o=o.concat(HE(u,a,c,l)))}),i&&(o=o.concat(jp(i,t,r,n))),o}function WE(t,e){let n=e.query,r=tl(t,n);return{hashFn:()=>(Hk(e)||P.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?oL(t,n._path,r):iL(t,n._path);{let o=DO(i,n);return gp(t,n,null,o)}}}}function tl(t,e){let n=cl(e);return t.queryToTagMap.get(n)}function cl(t){return t._path.toString()+"$"+t._queryIdentifier}function Up(t,e){return t.tagToQueryMap.get(e)}function Vp(t){let e=t.indexOf("$");return m(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Z(t.substr(0,e))}}function $p(t,e,n){let r=t.syncPointTree_.get(e);m(r,"Missing sync point for query tag that we're tracking");let i=kp(t.pendingWriteTree_,e);return jp(r,n,i,null)}function cL(t){return t.fold((e,n,r)=>{if(n&&bn(n))return[sl(n)];{let i=[];return n&&(i=jE(n)),ke(r,(o,s)=>{i=i.concat(s)}),i}})}function Xo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(eL())(t._repo,t._path):t}function lL(t,e){for(let n=0;n<e.length;++n){let r=e[n];if(!r._queryParams.loadsAllData()){let i=cl(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function uL(){return tL++}function dL(t,e,n){let r=e._path,i=tl(t,e),o=WE(t,n),s=t.listenProvider_.startListening(Xo(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)m(!bn(a.value),"If we're adding a query, it shouldn't be shadowed");else{let c=a.fold((l,u,d)=>{if(!j(l)&&u&&bn(u))return[sl(u).query];{let f=[];return u&&(f=f.concat(jE(u).map(h=>h.query))),ke(d,(h,p)=>{f=f.concat(p)}),f}});for(let l=0;l<c.length;++l){let u=c[l];t.listenProvider_.stopListening(Xo(u),tl(t,u))}}return s}var mp=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},vp=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=me(this.path_,e);return new t(this.syncTree_,n)}node(){return $E(this.syncTree_,this.path_)}},fL=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},qI=function(t,e,n){if(!t||typeof t!="object")return t;if(m(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return hL(t[".sv"],e,n);if(typeof t[".sv"]=="object")return pL(t[".sv"],e);m(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},hL=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:m(!1,"Unexpected server value: "+t)}},pL=function(t,e,n){t.hasOwnProperty("increment")||m(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&m(!1,"Unexpected increment value: "+r);let i=e.node();if(m(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},gL=function(t,e,n,r){return Bp(e,new vp(n,t),r)},mL=function(t,e,n){return Bp(t,new mp(e),n)};function Bp(t,e,n){let r=t.getPriority().val(),i=qI(r,e.getImmediateChild(".priority"),n),o;if(t.isLeafNode()){let s=t,a=qI(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new ci(a,be(i)):t}else{let s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new ci(i))),s.forEachChild(ie,(a,c)=>{let l=Bp(c,e.getImmediateChild(a),n);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}var is=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function Hp(t,e){let n=e instanceof Z?e:new Z(e),r=t,i=F(n);for(;i!==null;){let o=Gn(r.node.children,i)||{children:{},childCount:0};r=new is(i,r,o),n=X(n),i=F(n)}return r}function pi(t){return t.node.value}function zE(t,e){t.node.value=e,yp(t)}function GE(t){return t.node.childCount>0}function vL(t){return pi(t)===void 0&&!GE(t)}function ll(t,e){ke(t.node.children,(n,r)=>{e(new is(n,t,r))})}function qE(t,e,n,r){n&&!r&&e(t),ll(t,i=>{qE(i,e,!0,r)}),n&&r&&e(t)}function yL(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function ds(t){return new Z(t.parent===null?t.name:ds(t.parent)+"/"+t.name)}function yp(t){t.parent!==null&&_L(t.parent,t.name,t)}function _L(t,e,n){let r=vL(n),i=xt(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,yp(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,yp(t))}var wL=/[\[\].#$\/\u0000-\u001F\u007F]/,IL=/[\[\].#$\u0000-\u001F\u007F]/,Ah=10*1024*1024,KE=function(t){return typeof t=="string"&&t.length!==0&&!wL.test(t)},YE=function(t){return typeof t=="string"&&t.length!==0&&!IL.test(t)},EL=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),YE(t)};var QE=function(t,e,n){let r=n instanceof Z?new Bh(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Xn(r));if(typeof e=="function")throw new Error(t+"contains a function "+Xn(r)+" with contents = "+e.toString());if(eE(e))throw new Error(t+"contains "+e.toString()+" "+Xn(r));if(typeof e=="string"&&e.length>Ah/3&&No(e)>Ah)throw new Error(t+"contains a string greater than "+Ah+" utf8 bytes "+Xn(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(ke(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!KE(s)))throw new Error(t+" contains an invalid key ("+s+") "+Xn(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);ek(r,s),QE(t,a,r),tk(r)}),i&&o)throw new Error(t+' contains ".value" child '+Xn(r)+" in addition to actual children.")}};var ZE=function(t,e,n,r){if(!(r&&n===void 0)&&!YE(n))throw new Error(Wf(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},CL=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ZE(t,e,n,r)};var bL=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!KE(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!EL(n))throw new Error(Wf(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var _p=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function JE(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],o=i.getPath();n!==null&&!Np(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function XE(t,e,n){JE(t,n),eC(t,r=>Np(r,e))}function or(t,e,n){JE(t,n),eC(t,r=>yt(r,e)||yt(e,r))}function eC(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let o=i.path;e(o)?(DL(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function DL(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();tr&&Ce("event: "+n.toString()),cs(r)}}}var TL="repo_interrupt",SL=25,wp=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new _p,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Gc(),this.transactionQueueTree_=new is,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function AL(t,e,n){if(t.stats_=Mp(t.repoInfo_),t.forceRestClient_||MO())t.server_=new Xh(t.repoInfo_,(r,i,o,s)=>{KI(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>YI(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ge(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Rp(t.repoInfo_,e,(r,i,o,s)=>{KI(t,r,i,o,s)},r=>{YI(t,r)},r=>{NL(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=RO(t.repoInfo_,()=>new rp(t.stats_,t.server_)),t.infoData_=new ep,t.infoSyncTree_=new el({startListening:(r,i,o,s)=>{let a=[],c=t.infoData_.getNode(r._path);return c.isEmpty()||(a=al(t.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Wp(t,"connected",!1),t.serverSyncTree_=new el({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,c)=>{let l=s(a,c);or(t.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function ML(t){let n=t.infoData_.getNode(new Z(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function tC(t){return fL({timestamp:ML(t)})}function KI(t,e,n,r,i){t.dataUpdateCount++;let o=new Z(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){let c=So(n,l=>be(l));s=aL(t.serverSyncTree_,o,c,i)}else{let c=be(n);s=sL(t.serverSyncTree_,o,c,i)}else if(r){let c=So(n,l=>be(l));s=rL(t.serverSyncTree_,o,c)}else{let c=be(n);s=al(t.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=Gp(t,o)),or(t.eventQueue_,a,s)}function YI(t,e){Wp(t,"connected",e),e===!1&&xL(t)}function NL(t,e){ke(e,(n,r)=>{Wp(t,n,r)})}function Wp(t,e,n){let r=new Z("/.info/"+e),i=be(n);t.infoData_.updateSnapshot(r,i);let o=al(t.infoSyncTree_,r,i);or(t.eventQueue_,r,o)}function RL(t){return t.nextWriteId_++}function xL(t){nC(t,"onDisconnectEvents");let e=tC(t),n=Gc();tp(t.onDisconnect_,K(),(i,o)=>{let s=gL(i,o,t.serverSyncTree_,e);SE(n,i,s)});let r=[];tp(n,K(),(i,o)=>{r=r.concat(al(t.serverSyncTree_,i,o));let s=FL(t,i);Gp(t,s)}),t.onDisconnect_=Gc(),or(t.eventQueue_,K(),r)}function PL(t,e,n){let r;F(e._path)===".info"?r=GI(t.infoSyncTree_,e,n):r=GI(t.serverSyncTree_,e,n),XE(t.eventQueue_,e._path,r)}function QI(t,e,n){let r;F(e._path)===".info"?r=gp(t.infoSyncTree_,e,n):r=gp(t.serverSyncTree_,e,n),XE(t.eventQueue_,e._path,r)}function OL(t){t.persistentConnection_&&t.persistentConnection_.interrupt(TL)}function nC(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Ce(n,...e)}function rC(t,e,n){return $E(t.serverSyncTree_,e,n)||P.EMPTY_NODE}function zp(t,e=t.transactionQueueTree_){if(e||ul(t,e),pi(e)){let n=oC(t,e);m(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&kL(t,ds(e),n)}else GE(e)&&ll(e,n=>{zp(t,n)})}function kL(t,e,n){let r=n.map(l=>l.currentWriteId),i=rC(t,e,r),o=i,s=i.hash();for(let l=0;l<n.length;l++){let u=n[l];m(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=Oe(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),c=e;t.server_.put(c.toString(),a,l=>{nC(t,"transaction put response",{path:c.toString(),status:l});let u=[];if(l==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(ni(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();ul(t,Hp(t.transactionQueueTree_,e)),zp(t,t.transactionQueueTree_),or(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)cs(d[f])}else{if(l==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Je("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}Gp(t,e)}},s)}function Gp(t,e){let n=iC(t,e),r=ds(n),i=oC(t,n);return LL(t,i,r),r}function LL(t,e,n){if(e.length===0)return;let r=[],i=[],s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let c=e[a],l=Oe(n,c.path),u=!1,d;if(m(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,d=c.abortReason,i=i.concat(ni(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=SL)u=!0,d="maxretry",i=i.concat(ni(t.serverSyncTree_,c.currentWriteId,!0));else{let f=rC(t,c.path,s);c.currentInputSnapshot=f;let h=e[a].update(f.val());if(h!==void 0){QE("transaction failed: Data returned ",h,c.path);let p=be(h);typeof h=="object"&&h!=null&&xt(h,".priority")||(p=p.updatePriority(f.getPriority()));let R=c.currentWriteId,O=tC(t),oe=mL(p,f,O);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=oe,c.currentWriteId=RL(t),s.splice(s.indexOf(R),1),i=i.concat(nL(t.serverSyncTree_,c.path,oe,c.currentWriteId,c.applyLocally)),i=i.concat(ni(t.serverSyncTree_,R,!0))}else u=!0,d="nodata",i=i.concat(ni(t.serverSyncTree_,c.currentWriteId,!0))}or(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}ul(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)cs(r[a]);zp(t,t.transactionQueueTree_)}function iC(t,e){let n,r=t.transactionQueueTree_;for(n=F(e);n!==null&&pi(r)===void 0;)r=Hp(r,n),e=X(e),n=F(e);return r}function oC(t,e){let n=[];return sC(t,e,n),n.sort((r,i)=>r.order-i.order),n}function sC(t,e,n){let r=pi(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);ll(e,i=>{sC(t,i,n)})}function ul(t,e){let n=pi(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,zE(e,n.length>0?n:void 0)}ll(e,r=>{ul(t,r)})}function FL(t,e){let n=ds(iC(t,e)),r=Hp(t.transactionQueueTree_,e);return yL(r,i=>{Mh(t,i)}),Mh(t,r),qE(r,i=>{Mh(t,i)}),n}function Mh(t,e){let n=pi(e);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(m(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(m(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(ni(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?zE(e,void 0):n.length=o+1,or(t.eventQueue_,ds(e),i);for(let s=0;s<r.length;s++)cs(r[s])}}function jL(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function UL(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Je(`Invalid query segment '${n}' in query '${t}'`)}return e}var ZI=function(t,e){let n=VL(t),r=n.namespace;n.domain==="firebase.com"&&Qt(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Qt("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||wO();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new jc(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new Z(n.pathString)}},VL=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",c=443;if(typeof t=="string"){let l=t.indexOf("//");l>=0&&(a=t.substring(0,l-1),t=t.substring(l+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=jL(t.substring(u,d)));let f=UL(t.substring(Math.min(t.length,d)));l=e.indexOf(":"),l>=0?(s=a==="https"||a==="wss",c=parseInt(e.substring(l+1),10)):l=e.length;let h=e.slice(0,l);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),o=r}"ns"in f&&(o=f.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var nl=class{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ge(this.snapshot.exportVal())}},rl=class{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var Ip=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return m(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var Ep=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return j(this._path)?null:yE(this._path)}get ref(){return new Jt(this._repo,this._path)}get _queryIdentifier(){let e=kI(this._queryParams),n=Ap(e);return n==="{}"?"default":n}get _queryObject(){return kI(this._queryParams)}isEqual(e){if(e=Pt(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=Np(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+XO(this._path)}};var Jt=class t extends Ep{constructor(e,n){super(e,n,new Jh,!1)}get parent(){let e=wE(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},il=class t{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new Z(e),r=os(this.ref,e);return new t(this._node.getChild(n),r,ie)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new t(i,os(this.ref,r),ie)))}hasChild(e){let n=new Z(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function aC(t,e){return t=Pt(t),t._checkNotDeleted("ref"),e!==void 0?os(t._root,e):t._root}function os(t,e){return t=Pt(t),F(t._path)===null?CL("child","path",e,!1):ZE("child","path",e,!1),new Jt(t._repo,me(t._path,e))}var Cp=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let r=n._queryParams.getIndex();return new nl("value",this,new il(e.snapshotNode,new Jt(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new rl(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},bp=class t{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new rl(this,e,n):null}createEvent(e,n){m(e.childName!=null,"Child events should have a childName.");let r=os(new Jt(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new nl(e.type,this,new il(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function $L(t,e,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){let c=n,l=(u,d)=>{QI(t._repo,t,a),c(u,d)};l.userCallback=n.userCallback,l.context=n.context,n=l}let s=new Ip(n,o||void 0),a=e==="value"?new Cp(s):new bp(e,s);return PL(t._repo,t,a),()=>QI(t._repo,t,a)}function cC(t,e,n,r){return $L(t,"value",e,n,r)}qk(Jt);Xk(Jt);var BL="FIREBASE_DATABASE_EMULATOR_HOST",Dp={},HL=!1;function WL(t,e,n,r){t.repoInfo_=new jc(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function zL(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||Qt("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ce("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=ZI(o,i),a=s.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[BL]),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=ZI(o,i),a=s.repoInfo):c=!s.repoInfo.secure;let u=i&&c?new Qo(Qo.OWNER):new kh(t.name,t.options,e);bL("Invalid Firebase Database URL",s),j(s.path)||Qt("Database URL must point to the root of a Firebase Database (not including a child path).");let d=qL(a,t,u,new Oh(t.name,n));return new Tp(d,t)}function GL(t,e){let n=Dp[e];(!n||n[t.key]!==t)&&Qt(`Database ${e}(${t.repoInfo_}) has already been deleted.`),OL(t),delete n[t.key]}function qL(t,e,n,r){let i=Dp[e.name];i||(i={},Dp[e.name]=i);let o=i[t.toURLString()];return o&&Qt("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new wp(t,HL,n,r),i[t.toURLString()]=o,o}var Tp=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(AL(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Jt(this._repo,K())),this._rootInternal}_delete(){return this._rootInternal!==null&&(GL(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Qt("Cannot call "+e+" on a deleted database.")}};function lC(t=Oo(),e){let n=ih(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=Tw("database");r&&uC(n,...r)}return n}function uC(t,e,n,r={}){t=Pt(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Qt("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Qt('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Qo(Qo.OWNER);else if(r.mockUserToken){let s=typeof r.mockUserToken=="string"?r.mockUserToken:Aw(r.mockUserToken,t.app.options.projectId);o=new Qo(s)}WL(i,e,n,o)}function KL(t){vO(Zr),wn(new st("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return zL(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),_e(yI,_I,t),_e(yI,_I,"esm2017")}Rp.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Rp.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};KL();var sr=class{constructor(e){return e}},dC="database",qp=class{constructor(){return Lo(dC)}};var Kp=new b("angularfire2.database-instances");function YL(t,e){let n=ah(dC,t,e);return n&&new sr(n)}function QL(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new sr(r)}}var ZL={provide:qp,deps:[[new rt,Kp]]},JL={provide:sr,useFactory:YL,deps:[[new rt,Kp],Qn]};function fC(t,...e){return _e("angularfire",Xr.full,"rtdb"),Ht([JL,ZL,{provide:Kp,useFactory:QL(t),multi:!0,deps:[W,Ae,Fo,jo,[new rt,kc],[new rt,ko],...e]}])}var hC=Yn(lC,!0);var pC=Yn(cC,!0);var gC=Yn(aC,!0);var dl=class{constructor(e,n,r,i){this.Name="",this.Description="",this.ImageLink="",this.GameLink="",this.Name=e,this.Description=n,this.ImageLink=r,this.GameLink=i}};var fl=class{constructor(e,n,r,i){this.Name="",this.Description="",this.ImageLink="",this.ProjectLink="",this.Name=e,this.Description=n,this.ImageLink=r,this.ProjectLink=i}};var mC=(()=>{let e=class e{constructor(r){this.themeService=r,this.imageUrl="",this.title="",this.description="",this.link="",this.linkText="",this.currentTheme=""}ngOnInit(){this.themeService.currentTheme.subscribe(r=>{this.currentTheme=r})}};e.\u0275fac=function(i){return new(i||e)(de(Pe))},e.\u0275cmp=le({type:e,selectors:[["app-card"]],inputs:{imageUrl:"imageUrl",title:"title",description:"description",link:"link",linkText:"linkText"},decls:10,vars:8,consts:[[1,"container"],["alt","",3,"src"],[2,"width","90%"],[2,"text-align","center"],["target","_blank",3,"href"]],template:function(i,o){i&1&&(v(0,"div",0),D(1,"img",1),v(2,"div",2)(3,"h3",3),S(4),y(),v(5,"p"),S(6),y(),v(7,"a",4)(8,"div"),S(9,"READ MORE ->"),y()()()()),i&2&&(te("dark",o.currentTheme==="dark")("light",o.currentTheme==="light"),ue(),Wt("src",o.imageUrl,ld),ue(3),La(o.title),ue(2),La(o.description),ue(),Wt("href",o.link,ld))},styles:[".container[_ngcontent-%COMP%]{border-radius:10px;margin:40px;max-width:330px;width:95%;display:flex;justify-content:space-between;align-items:center;flex-direction:column;transition-duration:.1s;text-align:justify;box-shadow:0 0 50px #ffffff03;color:#ffffffb3;cursor:pointer}.container.dark[_ngcontent-%COMP%]{background-color:#121212;color:#fff}.container.light[_ngcontent-%COMP%]{background-color:#fff;color:#121212}.container[_ngcontent-%COMP%]:hover{transform:scale(1.05);background-color:#ffffff1a;box-shadow:0 0 50px #fff3}img[_ngcontent-%COMP%]{border-radius:10px 10px 0 0;width:100%;height:180px}a[_ngcontent-%COMP%]{text-decoration:none;color:inherit;text-align:end;background-color:#f0f8ff}a[_ngcontent-%COMP%]:hover{transform:scale(1.1)}p[_ngcontent-%COMP%]{font-size:100%}"]});let t=e;return t})();function t1(t,e){if(t&1&&(v(0,"div"),D(1,"app-card",8),y()),t&2){let n=e.$implicit;ue(),Wt("imageUrl",n.ImageLink)("title",n.Name)("description",n.Description)("link",n.GameLink)}}function n1(t,e){if(t&1&&(v(0,"div"),D(1,"app-card",8),y()),t&2){let n=e.$implicit;ue(),Wt("imageUrl",n.ImageLink)("title",n.Name)("description",n.Description)("link",n.ProjectLink)}}var vC=(()=>{let e=class e{constructor(r,i){this.dataBase=r,this.themeService=i,this.gameDetails=[],this.projectDetails=[],this.currentTheme="",this.getProjectsFromFirebase()}ngOnInit(){this.themeService.currentTheme.subscribe(r=>{this.currentTheme=r})}getProjectsFromFirebase(){let r=gC(this.dataBase,"project");pC(r,i=>{let o=i.val();o?(Object.keys(o).forEach(s=>{let a=o[s];a.ProjectCategoryu==="Game"?this.gameDetails.unshift(new dl(a.ProjectName,a.ProjectDescription,a.ProjectImageLink,a.ProjectLink)):this.projectDetails.unshift(new fl(a.ProjectName,a.ProjectDescription,a.ProjectImageLink,a.ProjectLink))}),console.log("Game Details:",this.gameDetails),console.log("Project Details:",this.projectDetails)):console.log("No data available")})}};e.\u0275fac=function(i){return new(i||e)(de(sr),de(Pe))},e.\u0275cmp=le({type:e,selectors:[["app-projects"]],decls:13,vars:6,consts:[[1,"container"],["id","games"],[2,"text-align","center","margin-top","200px"],[2,"width","30%","height","3px","background-color","rgba(255, 255, 255, 0.2)","border-radius","20px"],[2,"display","flex","justify-content","center","flex-wrap","wrap","width","98%"],[4,"ngFor","ngForOf"],["id","projects"],[2,"width","30%","height","3px","background-color","rgba(255, 255, 255, 0.2)","margin-bottom","50px","border-radius","20px"],[3,"imageUrl","title","description","link"]],template:function(i,o){i&1&&(v(0,"div",0),D(1,"div",1),v(2,"h1",2),S(3,"GAMES"),y(),D(4,"div",3),v(5,"div",4),ka(6,t1,2,4,"div",5),y(),D(7,"div",6),v(8,"h1",2),S(9,"PROJECTS"),y(),D(10,"div",7),v(11,"div",4),ka(12,n1,2,4,"div",5),y()()),i&2&&(te("dark",o.currentTheme==="dark")("light",o.currentTheme==="light"),ue(6),Wt("ngForOf",o.gameDetails),ue(6),Wt("ngForOf",o.projectDetails))},dependencies:[n_,mC],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;transition:background-color .5s ease,color .5s ease}.container.dark[_ngcontent-%COMP%]{background-color:#121212;color:#fff}.container.light[_ngcontent-%COMP%]{background-color:#fff;color:#121212}"]});let t=e;return t})();var yC=(()=>{let e=class e{constructor(){this.title="portfolio2"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=le({type:e,selectors:[["app-root"]],decls:7,vars:0,consts:[["id","home"],["id","services"],["id","contact"]],template:function(i,o){i&1&&D(0,"app-navbar")(1,"app-home",0)(2,"app-projects")(3,"app-services",1)(4,"app-me")(5,"div",2)(6,"app-contact")},dependencies:[mw,vw,yw,_w,ww,vC]});let t=e;return t})();var _C=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=qe({type:t});static \u0275inj=Ge({imports:[za]})}return t})();var wC="AIzaSyCyO9aapJzt7ebk62P6QbKfc1ayy_pywsc";var IC=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=qe({type:e,bootstrap:[yC]}),e.\u0275inj=Ge({providers:[b_(),Jw(()=>Xw({projectId:"portfolio-projects-83398",appId:"1:890483621302:web:994c5cbaadb2f1d8381517",databaseURL:"https://portfolio-projects-83398-default-rtdb.firebaseio.com",storageBucket:"portfolio-projects-83398.appspot.com",apiKey:wC,authDomain:"portfolio-projects-83398.firebaseapp.com",messagingSenderId:"890483621302",measurementId:"G-4B9GFJ0WH8"})),fC(()=>hC())],imports:[E_,pw,_C]});let t=e;return t})();I_().bootstrapModule(IC).catch(t=>console.error(t));

var kb=Object.defineProperty,Lb=Object.defineProperties;var Fb=Object.getOwnPropertyDescriptors;var ys=Object.getOwnPropertySymbols;var ig=Object.prototype.hasOwnProperty,og=Object.prototype.propertyIsEnumerable;var rg=(t,e,n)=>e in t?kb(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,w=(t,e)=>{for(var n in e||={})ig.call(e,n)&&rg(t,n,e[n]);if(ys)for(var n of ys(e))og.call(e,n)&&rg(t,n,e[n]);return t},ae=(t,e)=>Lb(t,Fb(e));var sg=(t,e)=>{var n={};for(var r in t)ig.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&ys)for(var r of ys(t))e.indexOf(r)<0&&og.call(t,r)&&(n[r]=t[r]);return n};var _=(t,e,n)=>new Promise((r,i)=>{var o=c=>{try{a(n.next(c))}catch(l){i(l)}},s=c=>{try{a(n.throw(c))}catch(l){i(l)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(o,s);a((n=n.apply(t,e)).next())});var ag=null;var El=1,cg=Symbol("SIGNAL");function Q(t){let e=ag;return ag=t,e}var lg={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function jb(t){if(!(Dl(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===El)){if(!t.producerMustRecompute(t)&&!bl(t)){t.dirty=!1,t.lastCleanEpoch=El;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=El}}function ug(t){return t&&(t.nextProducerIndex=0),Q(t)}function dg(t,e){if(Q(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Dl(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Cl(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function bl(t){_s(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(jb(n),r!==n.version))return!0}return!1}function fg(t){if(_s(t),Dl(t))for(let e=0;e<t.producerNode.length;e++)Cl(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function Cl(t,e){if(Ub(t),_s(t),t.liveConsumerNode.length===1)for(let r=0;r<t.producerNode.length;r++)Cl(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];_s(i),i.producerIndexOfThis[r]=e}}function Dl(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function _s(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function Ub(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function Vb(){throw new Error}var $b=Vb;function hg(t){$b=t}function x(t){return typeof t=="function"}function mr(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Is=mr(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Mn(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var de=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(x(r))try{r()}catch(o){e=o instanceof Is?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{pg(o)}catch(s){e=e??[],s instanceof Is?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Is(e)}}add(e){var n;if(e&&e!==this)if(this.closed)pg(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Mn(n,e)}remove(e){let{_finalizers:n}=this;n&&Mn(n,e),e instanceof t&&e._removeParent(this)}};de.EMPTY=(()=>{let t=new de;return t.closed=!0,t})();var Tl=de.EMPTY;function ws(t){return t instanceof de||t&&"closed"in t&&x(t.remove)&&x(t.add)&&x(t.unsubscribe)}function pg(t){x(t)?t():t.unsubscribe()}var ft={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var vr={setTimeout(t,e,...n){let{delegate:r}=vr;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=vr;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Es(t){vr.setTimeout(()=>{let{onUnhandledError:e}=ft;if(e)e(t);else throw t})}function Ci(){}var gg=Sl("C",void 0,void 0);function mg(t){return Sl("E",void 0,t)}function vg(t){return Sl("N",t,void 0)}function Sl(t,e,n){return{kind:t,value:e,error:n}}var Nn=null;function yr(t){if(ft.useDeprecatedSynchronousErrorHandling){let e=!Nn;if(e&&(Nn={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Nn;if(Nn=null,n)throw r}}else t()}function yg(t){ft.useDeprecatedSynchronousErrorHandling&&Nn&&(Nn.errorThrown=!0,Nn.error=t)}var xn=class extends de{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,ws(e)&&e.add(this)):this.destination=Wb}static create(e,n,r){return new _r(e,n,r)}next(e){this.isStopped?Ml(vg(e),this):this._next(e)}error(e){this.isStopped?Ml(mg(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ml(gg,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Bb=Function.prototype.bind;function Al(t,e){return Bb.call(t,e)}var Nl=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){bs(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){bs(r)}else bs(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){bs(n)}}},_r=class extends xn{constructor(e,n,r){super();let i;if(x(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&ft.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Al(e.next,o),error:e.error&&Al(e.error,o),complete:e.complete&&Al(e.complete,o)}):i=e}this.destination=new Nl(i)}};function bs(t){ft.useDeprecatedSynchronousErrorHandling?yg(t):Es(t)}function Hb(t){throw t}function Ml(t,e){let{onStoppedNotification:n}=ft;n&&vr.setTimeout(()=>n(t,e))}var Wb={closed:!0,next:Ci,error:Hb,complete:Ci};var Ir=typeof Symbol=="function"&&Symbol.observable||"@@observable";function We(t){return t}function xl(...t){return Rl(t)}function Rl(t){return t.length===0?We:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var K=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=Gb(n)?n:new _r(n,r,i);return yr(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=_g(r),new r((i,o)=>{let s=new _r({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ir](){return this}pipe(...n){return Rl(n)(this)}toPromise(n){return n=_g(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function _g(t){var e;return(e=t??ft.Promise)!==null&&e!==void 0?e:Promise}function zb(t){return t&&x(t.next)&&x(t.error)&&x(t.complete)}function Gb(t){return t&&t instanceof xn||zb(t)&&ws(t)}function Ol(t){return x(t?.lift)}function z(t){return e=>{if(Ol(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function G(t,e,n,r,i){return new Pl(t,e,n,r,i)}var Pl=class extends xn{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function wr(){return z((t,e)=>{let n=null;t._refCount++;let r=G(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Er=class extends K{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Ol(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new de;let n=this.getSubject();e.add(this.source.subscribe(G(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=de.EMPTY)}return e}refCount(){return wr()(this)}};var Ig=mr(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ne=(()=>{class t extends K{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Cs(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new Ig}next(n){yr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){yr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){yr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Tl:(this.currentObservers=null,o.push(n),new de(()=>{this.currentObservers=null,Mn(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new K;return n.source=this,n}}return t.create=(e,n)=>new Cs(e,n),t})(),Cs=class extends Ne{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Tl}};var ve=class extends Ne{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var kl={now(){return(kl.delegate||Date).now()},delegate:void 0};var Ds=class extends de{constructor(e,n){super()}schedule(e,n=0){return this}};var Di={setInterval(t,e,...n){let{delegate:r}=Di;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Di;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var br=class extends Ds{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Di.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Di.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Mn(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Cr=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Cr.now=kl.now;var Dr=class extends Cr{constructor(e,n=Cr.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Ll=new Dr(br);var Ts=class extends br{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Ss=class extends Dr{};var Fl=new Ss(Ts);var ze=new K(t=>t.complete());function wg(t){return t&&x(t.schedule)}function Eg(t){return t[t.length-1]}function bg(t){return x(Eg(t))?t.pop():void 0}function on(t){return wg(Eg(t))?t.pop():void 0}function jl(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Dg(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(u){try{l(r.next(u))}catch(d){s(d)}}function c(u){try{l(r.throw(u))}catch(d){s(d)}}function l(u){u.done?o(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function Cg(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Rn(t){return this instanceof Rn?(this.v=t,this):new Rn(t)}function Tg(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(h){return function(p){return Promise.resolve(p).then(h,d)}}function a(h,p){r[h]&&(i[h]=function(I){return new Promise(function(R,j){o.push([h,I,R,j])>1||c(h,I)})},p&&(i[h]=p(i[h])))}function c(h,p){try{l(r[h](p))}catch(I){f(o[0][3],I)}}function l(h){h.value instanceof Rn?Promise.resolve(h.value.v).then(u,d):f(o[0][2],h)}function u(h){c("next",h)}function d(h){c("throw",h)}function f(h,p){h(p),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Sg(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Cg=="function"?Cg(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,c){s=t[o](s),i(a,c,s.done,s.value)})}}function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}}var As=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ms(t){return x(t?.then)}function Ns(t){return x(t[Ir])}function xs(t){return Symbol.asyncIterator&&x(t?.[Symbol.asyncIterator])}function Rs(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function qb(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Os=qb();function Ps(t){return x(t?.[Os])}function ks(t){return Tg(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Rn(n.read());if(i)return yield Rn(void 0);yield yield Rn(r)}}finally{n.releaseLock()}})}function Ls(t){return x(t?.getReader)}function we(t){if(t instanceof K)return t;if(t!=null){if(Ns(t))return Kb(t);if(As(t))return Yb(t);if(Ms(t))return Qb(t);if(xs(t))return Ag(t);if(Ps(t))return Zb(t);if(Ls(t))return Jb(t)}throw Rs(t)}function Kb(t){return new K(e=>{let n=t[Ir]();if(x(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Yb(t){return new K(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function Qb(t){return new K(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Es)})}function Zb(t){return new K(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Ag(t){return new K(e=>{Xb(t,e).catch(n=>e.error(n))})}function Jb(t){return Ag(ks(t))}function Xb(t,e){var n,r,i,o;return Dg(this,void 0,void 0,function*(){try{for(n=Sg(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Le(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function sn(t,e=0){return z((n,r)=>{n.subscribe(G(r,i=>Le(r,t,()=>r.next(i),e),()=>Le(r,t,()=>r.complete(),e),i=>Le(r,t,()=>r.error(i),e)))})}function an(t,e=0){return z((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Mg(t,e){return we(t).pipe(an(e),sn(e))}function Ng(t,e){return we(t).pipe(an(e),sn(e))}function xg(t,e){return new K(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Rg(t,e){return new K(n=>{let r;return Le(n,e,()=>{r=t[Os](),Le(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>x(r?.return)&&r.return()})}function Fs(t,e){if(!t)throw new Error("Iterable cannot be null");return new K(n=>{Le(n,e,()=>{let r=t[Symbol.asyncIterator]();Le(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Og(t,e){return Fs(ks(t),e)}function Pg(t,e){if(t!=null){if(Ns(t))return Mg(t,e);if(As(t))return xg(t,e);if(Ms(t))return Ng(t,e);if(xs(t))return Fs(t,e);if(Ps(t))return Rg(t,e);if(Ls(t))return Og(t,e)}throw Rs(t)}function ce(t,e){return e?Pg(t,e):we(t)}function M(...t){let e=on(t);return ce(t,e)}function Tr(t,e){let n=x(t)?t:()=>t,r=i=>i.error(n());return new K(e?i=>e.schedule(r,0,i):r)}function Ul(t){return!!t&&(t instanceof K||x(t.lift)&&x(t.subscribe))}var Bt=mr(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function W(t,e){return z((n,r)=>{let i=0;n.subscribe(G(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:eC}=Array;function tC(t,e){return eC(e)?t(...e):t(e)}function kg(t){return W(e=>tC(t,e))}var{isArray:nC}=Array,{getPrototypeOf:rC,prototype:iC,keys:oC}=Object;function Lg(t){if(t.length===1){let e=t[0];if(nC(e))return{args:e,keys:null};if(sC(e)){let n=oC(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function sC(t){return t&&typeof t=="object"&&rC(t)===iC}function Fg(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Ti(...t){let e=on(t),n=bg(t),{args:r,keys:i}=Lg(t);if(r.length===0)return ce([],e);let o=new K(aC(r,e,i?s=>Fg(i,s):We));return n?o.pipe(kg(n)):o}function aC(t,e,n=We){return r=>{jg(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let c=0;c<i;c++)jg(e,()=>{let l=ce(t[c],e),u=!1;l.subscribe(G(r,d=>{o[c]=d,u||(u=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function jg(t,e,n){t?Le(n,t,e):e()}function Ug(t,e,n,r,i,o,s,a){let c=[],l=0,u=0,d=!1,f=()=>{d&&!c.length&&!l&&e.complete()},h=I=>l<r?p(I):c.push(I),p=I=>{o&&e.next(I),l++;let R=!1;we(n(I,u++)).subscribe(G(e,j=>{i?.(j),o?h(j):e.next(j)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;c.length&&l<r;){let j=c.shift();s?Le(e,s,()=>p(j)):p(j)}f()}catch(j){e.error(j)}}))};return t.subscribe(G(e,h,()=>{d=!0,f()})),()=>{a?.()}}function me(t,e,n=1/0){return x(e)?me((r,i)=>W((o,s)=>e(r,o,i,s))(we(t(r,i))),n):(typeof e=="number"&&(n=e),z((r,i)=>Ug(r,i,t,n)))}function Sr(t=1/0){return me(We,t)}function Vg(){return Sr(1)}function Ar(...t){return Vg()(ce(t,on(t)))}function js(t){return new K(e=>{we(t()).subscribe(e)})}function Ge(t,e){return z((n,r)=>{let i=0;n.subscribe(G(r,o=>t.call(e,o,i++)&&r.next(o)))})}function cn(t){return z((e,n)=>{let r=null,i=!1,o;r=e.subscribe(G(n,void 0,void 0,s=>{o=we(t(s,cn(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function $g(t,e,n,r,i){return(o,s)=>{let a=n,c=e,l=0;o.subscribe(G(s,u=>{let d=l++;c=a?t(c,u,d):(a=!0,u),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}function ln(t,e){return x(e)?me(t,e,1):me(t,1)}function un(t){return z((e,n)=>{let r=!1;e.subscribe(G(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Ht(t){return t<=0?()=>ze:z((e,n)=>{let r=0;e.subscribe(G(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Vl(t){return W(()=>t)}function Us(t=cC){return z((e,n)=>{let r=!1;e.subscribe(G(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function cC(){return new Bt}function Mr(t){return z((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function ht(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ge((i,o)=>t(i,o,r)):We,Ht(1),n?un(e):Us(()=>new Bt))}function Nr(t){return t<=0?()=>ze:z((e,n)=>{let r=[];e.subscribe(G(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function $l(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ge((i,o)=>t(i,o,r)):We,Nr(1),n?un(e):Us(()=>new Bt))}function Bl(t,e){return z($g(t,e,arguments.length>=2,!0))}function Hl(...t){let e=on(t);return z((n,r)=>{(e?Ar(t,n,e):Ar(t,n)).subscribe(r)})}function qe(t,e){return z((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(G(r,c=>{i?.unsubscribe();let l=0,u=o++;we(t(c,u)).subscribe(i=G(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Wl(t){return z((e,n)=>{we(t).subscribe(G(n,()=>n.complete(),Ci)),!n.closed&&e.subscribe(n)})}function fe(t,e,n){let r=x(t)||e||n?{next:t,error:e,complete:n}:t;return r?z((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(G(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;a=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;a&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):We}var Tm="https://g.co/ng/security#xss",C=class extends Error{constructor(e,n){super(wa(e,n)),this.code=e}};function wa(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Hi(t){return{toString:t}.toString()}var Vs="__parameters__";function lC(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function Sm(t,e,n){return Hi(()=>{let r=lC(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(c,l,u){let d=c.hasOwnProperty(Vs)?c[Vs]:Object.defineProperty(c,Vs,{value:[]})[Vs];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Ke=globalThis;function ne(t){for(let e in t)if(t[e]===ne)return e;throw Error("Could not find renamed property on target object.")}function je(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(je).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Bg(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var uC=ne({__forward_ref__:ne});function Am(t){return t.__forward_ref__=Am,t.toString=function(){return je(this())},t}function it(t){return Mm(t)?t():t}function Mm(t){return typeof t=="function"&&t.hasOwnProperty(uC)&&t.__forward_ref__===Am}function b(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Je(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ea(t){return Hg(t,xm)||Hg(t,Rm)}function Nm(t){return Ea(t)!==null}function Hg(t,e){return t.hasOwnProperty(e)?t[e]:null}function dC(t){let e=t&&(t[xm]||t[Rm]);return e||null}function Wg(t){return t&&(t.hasOwnProperty(zg)||t.hasOwnProperty(fC))?t[zg]:null}var xm=ne({\u0275prov:ne}),zg=ne({\u0275inj:ne}),Rm=ne({ngInjectableDef:ne}),fC=ne({ngInjectorDef:ne}),D=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=b({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Om(t){return t&&!!t.\u0275providers}var hC=ne({\u0275cmp:ne}),pC=ne({\u0275dir:ne}),gC=ne({\u0275pipe:ne}),mC=ne({\u0275mod:ne}),Qs=ne({\u0275fac:ne}),Ai=ne({__NG_ELEMENT_ID__:ne}),Gg=ne({__NG_ENV_ID__:ne});function Gu(t){return typeof t=="string"?t:t==null?"":String(t)}function vC(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Gu(t)}function yC(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new C(-200,t)}function qu(t,e){throw new C(-201,!1)}var U=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(U||{}),ou;function Pm(){return ou}function Fe(t){let e=ou;return ou=t,e}function km(t,e,n){let r=Ea(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&U.Optional)return null;if(e!==void 0)return e;qu(t,"Injector")}var _C={},Ni=_C,su="__NG_DI_FLAG__",Zs="ngTempTokenPath",IC="ngTokenPath",wC=/\n/gm,EC="\u0275",qg="__source",kr;function bC(){return kr}function dn(t){let e=kr;return kr=t,e}function CC(t,e=U.Default){if(kr===void 0)throw new C(-203,!1);return kr===null?km(t,void 0,e):kr.get(t,e&U.Optional?null:void 0,e)}function T(t,e=U.Default){return(Pm()||CC)(it(t),e)}function g(t,e=U.Default){return T(t,ba(e))}function ba(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function au(t){let e=[];for(let n=0;n<t.length;n++){let r=it(t[n]);if(Array.isArray(r)){if(r.length===0)throw new C(900,!1);let i,o=U.Default;for(let s=0;s<r.length;s++){let a=r[s],c=DC(a);typeof c=="number"?c===-1?i=a.token:o|=c:i=a}e.push(T(i,o))}else e.push(T(r))}return e}function Lm(t,e){return t[su]=e,t.prototype[su]=e,t}function DC(t){return t[su]}function TC(t,e,n,r){let i=t[Zs];throw e[qg]&&i.unshift(e[qg]),t.message=SC(`
`+t.message,i,n,r),t[IC]=i,t[Zs]=null,t}function SC(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==EC?t.slice(2):t;let i=je(e);if(Array.isArray(e))i=e.map(je).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):je(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(wC,`
  `)}`}var at=Lm(Sm("Optional"),8);var Ku=Lm(Sm("SkipSelf"),4);function Pn(t,e){let n=t.hasOwnProperty(Qs);return n?t[Qs]:null}function Yu(t,e){t.forEach(n=>Array.isArray(n)?Yu(n,e):e(n))}function Fm(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Js(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function AC(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function MC(t,e,n){let r=Wi(t,e);return r>=0?t[r|1]=n:(r=~r,AC(t,r,e,n)),r}function zl(t,e){let n=Wi(t,e);if(n>=0)return t[n|1]}function Wi(t,e){return NC(t,e,1)}function NC(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var xi={},ot=[],kn=new D(""),jm=new D("",-1),Um=new D(""),Xs=class{get(e,n=Ni){if(n===Ni){let r=new Error(`NullInjectorError: No provider for ${je(e)}!`);throw r.name="NullInjectorError",r}return n}},Vm=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Vm||{}),Tt=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Tt||{}),pn=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(pn||{});function xC(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function cu(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];OC(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function RC(t){return t===3||t===4||t===6}function OC(t){return t.charCodeAt(0)===64}function Qu(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Kg(t,n,i,null,e[++r]):Kg(t,n,i,null,null))}}return t}function Kg(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var $m="ng-template";function PC(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&xC(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Zu(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Zu(t){return t.type===4&&t.value!==$m}function kC(t,e,n){let r=t.type===4&&!n?$m:t.value;return e===r}function LC(t,e,n){let r=4,i=t.attrs,o=i!==null?UC(i):0,s=!1;for(let a=0;a<e.length;a++){let c=e[a];if(typeof c=="number"){if(!s&&!pt(r)&&!pt(c))return!1;if(s&&pt(c))continue;s=!1,r=c|r&1;continue}if(!s)if(r&4){if(r=2|r&1,c!==""&&!kC(t,c,n)||c===""&&e.length===1){if(pt(r))return!1;s=!0}}else if(r&8){if(i===null||!PC(t,i,c,n)){if(pt(r))return!1;s=!0}}else{let l=e[++a],u=FC(c,i,Zu(t),n);if(u===-1){if(pt(r))return!1;s=!0;continue}if(l!==""){let d;if(u>o?d="":d=i[u+1].toLowerCase(),r&2&&l!==d){if(pt(r))return!1;s=!0}}}}return pt(r)||s}function pt(t){return(t&1)===0}function FC(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return VC(e,t)}function jC(t,e,n=!1){for(let r=0;r<e.length;r++)if(LC(t,e[r],n))return!0;return!1}function UC(t){for(let e=0;e<t.length;e++){let n=t[e];if(RC(n))return e}return t.length}function VC(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Yg(t,e){return t?":not("+e.trim()+")":e}function $C(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!pt(s)&&(e+=Yg(o,i),i=""),r=s,o=o||!pt(r);n++}return i!==""&&(e+=Yg(o,i)),e}function BC(t){return t.map($C).join(",")}function HC(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!pt(i))break;i=o}r++}return{attrs:e,classes:n}}function ge(t){return Hi(()=>{let e=Gm(t),n=ae(w({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Vm.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Tt.Emulated,styles:t.styles||ot,_:null,schemas:t.schemas||null,tView:null,id:""});qm(n);let r=t.dependencies;return n.directiveDefs=Zg(r,!1),n.pipeDefs=Zg(r,!0),n.id=GC(n),n})}function WC(t){return gn(t)||Bm(t)}function zC(t){return t!==null}function Xe(t){return Hi(()=>({type:t.type,bootstrap:t.bootstrap||ot,declarations:t.declarations||ot,imports:t.imports||ot,exports:t.exports||ot,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Qg(t,e){if(t==null)return xi;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=pn.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==pn.None?[r,a]:r,e[o]=s):n[o]=r}return n}function zi(t){return Hi(()=>{let e=Gm(t);return qm(e),e})}function Ca(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function gn(t){return t[hC]||null}function Bm(t){return t[pC]||null}function Hm(t){return t[gC]||null}function Wm(t){let e=gn(t)||Bm(t)||Hm(t);return e!==null?e.standalone:!1}function zm(t,e){let n=t[mC]||null;if(!n&&e===!0)throw new Error(`Type ${je(t)} does not have '\u0275mod' property.`);return n}function Gm(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||xi,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||ot,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Qg(t.inputs,e),outputs:Qg(t.outputs),debugInfo:null}}function qm(t){t.features?.forEach(e=>e(t))}function Zg(t,e){if(!t)return null;let n=e?Hm:WC;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(zC)}function GC(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function qt(t){return{\u0275providers:t}}function qC(...t){return{\u0275providers:Km(!0,t),\u0275fromNgModule:!0}}function Km(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Yu(e,s=>{let a=s;lu(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&Ym(i,o),n}function Ym(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Ju(i,o=>{e(o,r)})}}function lu(t,e,n,r){if(t=it(t),!t)return!1;let i=null,o=Wg(t),s=!o&&gn(t);if(!o&&!s){let c=t.ngModule;if(o=Wg(c),o)i=c;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let c=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of c)lu(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Yu(o.imports,u=>{lu(u,e,n,r)&&(l||=[],l.push(u))})}finally{}l!==void 0&&Ym(l,e)}if(!a){let l=Pn(i)||(()=>new i);e({provide:i,useFactory:l,deps:ot},i),e({provide:Um,useValue:i,multi:!0},i),e({provide:kn,useValue:()=>T(i),multi:!0},i)}let c=o.providers;if(c!=null&&!a){let l=t;Ju(c,u=>{e(u,l)})}}else return!1;return i!==t&&t.providers!==void 0}function Ju(t,e){for(let n of t)Om(n)&&(n=n.\u0275providers),Array.isArray(n)?Ju(n,e):e(n)}var KC=ne({provide:String,useValue:ne});function Qm(t){return t!==null&&typeof t=="object"&&KC in t}function YC(t){return!!(t&&t.useExisting)}function QC(t){return!!(t&&t.useFactory)}function uu(t){return typeof t=="function"}var Da=new D(""),zs={},ZC={},Gl;function Xu(){return Gl===void 0&&(Gl=new Xs),Gl}var Qe=class{},Ri=class extends Qe{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,fu(e,s=>this.processProvider(s)),this.records.set(jm,xr(void 0,this)),i.has("environment")&&this.records.set(Qe,xr(void 0,this));let o=this.records.get(Da);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Um,ot,U.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Q(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Q(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=dn(this),r=Fe(void 0),i;try{return e()}finally{dn(n),Fe(r)}}get(e,n=Ni,r=U.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Gg))return e[Gg](this);r=ba(r);let i,o=dn(this),s=Fe(void 0);try{if(!(r&U.SkipSelf)){let c=this.records.get(e);if(c===void 0){let l=rD(e)&&Ea(e);l&&this.injectableDefInScope(l)?c=xr(du(e),zs):c=null,this.records.set(e,c)}if(c!=null)return this.hydrate(e,c)}let a=r&U.Self?Xu():this.parent;return n=r&U.Optional&&n===Ni?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Zs]=a[Zs]||[]).unshift(je(e)),o)throw a;return TC(a,e,"R3InjectorError",this.source)}else throw a}finally{Fe(s),dn(o)}}resolveInjectorInitializers(){let e=Q(null),n=dn(this),r=Fe(void 0),i;try{let o=this.get(kn,ot,U.Self);for(let s of o)s()}finally{dn(n),Fe(r),Q(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(je(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new C(205,!1)}processProvider(e){e=it(e);let n=uu(e)?e:it(e&&e.provide),r=XC(e);if(!uu(e)&&e.multi===!0){let i=this.records.get(n);i||(i=xr(void 0,zs,!0),i.factory=()=>au(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Q(null);try{return n.value===zs&&(n.value=ZC,n.value=n.factory()),typeof n.value=="object"&&n.value&&nD(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Q(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=it(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function du(t){let e=Ea(t),n=e!==null?e.factory:Pn(t);if(n!==null)return n;if(t instanceof D)throw new C(204,!1);if(t instanceof Function)return JC(t);throw new C(204,!1)}function JC(t){if(t.length>0)throw new C(204,!1);let n=dC(t);return n!==null?()=>n.factory(t):()=>new t}function XC(t){if(Qm(t))return xr(void 0,t.useValue);{let e=eD(t);return xr(e,zs)}}function eD(t,e,n){let r;if(uu(t)){let i=it(t);return Pn(i)||du(i)}else if(Qm(t))r=()=>it(t.useValue);else if(QC(t))r=()=>t.useFactory(...au(t.deps||[]));else if(YC(t))r=()=>T(it(t.useExisting));else{let i=it(t&&(t.useClass||t.provide));if(tD(t))r=()=>new i(...au(t.deps));else return Pn(i)||du(i)}return r}function xr(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function tD(t){return!!t.deps}function nD(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function rD(t){return typeof t=="function"||typeof t=="object"&&t instanceof D}function fu(t,e){for(let n of t)Array.isArray(n)?fu(n,e):n&&Om(n)?fu(n.\u0275providers,e):e(n)}function At(t,e){t instanceof Ri&&t.assertNotDestroyed();let n,r=dn(t),i=Fe(void 0);try{return e()}finally{dn(r),Fe(i)}}function Zm(){return Pm()!==void 0||bC()!=null}function iD(t){if(!Zm())throw new C(-203,!1)}function oD(t){let e=Ke.ng;if(e&&e.\u0275compilerFacade)return e.\u0275compilerFacade;throw new Error("JIT compiler unavailable")}function sD(t){return typeof t=="function"}var Ze=0,$=1,N=2,De=3,gt=4,_t=5,mt=6,Oi=7,Wt=8,Fr=9,vt=10,he=11,Pi=12,Jg=13,Gi=14,st=15,Ta=16,Rr=17,jr=18,Sa=19,Jm=20,fn=21,ql=22,Ln=23,Re=25,Xm=1,ki=6,zt=7,ea=8,ta=9,Ye=10,ed=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(ed||{});function hn(t){return Array.isArray(t)&&typeof t[Xm]=="object"}function Mt(t){return Array.isArray(t)&&t[Xm]===!0}function ev(t){return(t.flags&4)!==0}function qi(t){return t.componentOffset>-1}function td(t){return(t.flags&1)===1}function Ki(t){return!!t.template}function tv(t){return(t[N]&512)!==0}var hu=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function nv(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Yi(){return rv}function rv(t){return t.type.prototype.ngOnChanges&&(t.setInput=cD),aD}Yi.ngInherit=!0;function aD(){let t=ov(this),e=t?.current;if(e){let n=t.previous;if(n===xi)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function cD(t,e,n,r,i){let o=this.declaredInputs[r],s=ov(t)||lD(t,{previous:xi,current:null}),a=s.current||(s.current={}),c=s.previous,l=c[o];a[o]=new hu(l&&l.currentValue,n,c===xi),nv(t,e,i,n)}var iv="__ngSimpleChanges__";function ov(t){return t[iv]||null}function lD(t,e){return t[iv]=e}var Xg=null;var Ct=function(t,e,n){Xg?.(t,e,n)},uD="svg",dD="math",fD=!1;function hD(){return fD}function yt(t){for(;Array.isArray(t);)t=t[Ze];return t}function sv(t,e){return yt(e[t])}function ct(t,e){return yt(e[t.index])}function av(t,e){return t.data[e]}function pD(t,e){return t[e]}function $n(t,e){let n=e[t];return hn(n)?n:n[Ze]}function nd(t){return(t[N]&128)===128}function gD(t){return Mt(t[De])}function na(t,e){return e==null?null:t[e]}function cv(t){t[Rr]=0}function mD(t){t[N]&1024||(t[N]|=1024,nd(t)&&Li(t))}function rd(t){return!!(t[N]&9216||t[Ln]?.dirty)}function pu(t){t[vt].changeDetectionScheduler?.notify(1),rd(t)?Li(t):t[N]&64&&(hD()?(t[N]|=1024,Li(t)):t[vt].changeDetectionScheduler?.notify())}function Li(t){t[vt].changeDetectionScheduler?.notify();let e=Fi(t);for(;e!==null&&!(e[N]&8192||(e[N]|=8192,!nd(e)));)e=Fi(e)}function lv(t,e){if((t[N]&256)===256)throw new C(911,!1);t[fn]===null&&(t[fn]=[]),t[fn].push(e)}function vD(t,e){if(t[fn]===null)return;let n=t[fn].indexOf(e);n!==-1&&t[fn].splice(n,1)}function Fi(t){let e=t[De];return Mt(e)?e[De]:e}var q={lFrame:vv(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function yD(){return q.lFrame.elementDepthCount}function _D(){q.lFrame.elementDepthCount++}function ID(){q.lFrame.elementDepthCount--}function uv(){return q.bindingsEnabled}function Qi(){return q.skipHydrationRootTNode!==null}function wD(t){return q.skipHydrationRootTNode===t}function ED(t){q.skipHydrationRootTNode=t}function bD(){q.skipHydrationRootTNode=null}function pe(){return q.lFrame.lView}function Kt(){return q.lFrame.tView}function Nt(){let t=dv();for(;t!==null&&t.type===64;)t=t.parent;return t}function dv(){return q.lFrame.currentTNode}function CD(){let t=q.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Zi(t,e){let n=q.lFrame;n.currentTNode=t,n.isParent=e}function fv(){return q.lFrame.isParent}function DD(){q.lFrame.isParent=!1}function TD(){let t=q.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function SD(t){return q.lFrame.bindingIndex=t}function hv(){return q.lFrame.bindingIndex++}function AD(t){let e=q.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function MD(){return q.lFrame.inI18n}function ND(t,e){let n=q.lFrame;n.bindingIndex=n.bindingRootIndex=t,gu(e)}function xD(){return q.lFrame.currentDirectiveIndex}function gu(t){q.lFrame.currentDirectiveIndex=t}function RD(t){let e=q.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function pv(t){q.lFrame.currentQueryIndex=t}function OD(t){let e=t[$];return e.type===2?e.declTNode:e.type===1?t[_t]:null}function gv(t,e,n){if(n&U.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&U.Host);)if(i=OD(o),i===null||(o=o[Gi],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=q.lFrame=mv();return r.currentTNode=e,r.lView=t,!0}function id(t){let e=mv(),n=t[$];q.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function mv(){let t=q.lFrame,e=t===null?null:t.child;return e===null?vv(t):e}function vv(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function yv(){let t=q.lFrame;return q.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var _v=yv;function od(){let t=yv();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function $r(){return q.lFrame.selectedIndex}function Fn(t){q.lFrame.selectedIndex=t}function PD(){let t=q.lFrame;return av(t.tView,t.selectedIndex)}function Iv(){return q.lFrame.currentNamespace}var wv=!0;function sd(){return wv}function xt(t){wv=t}function kD(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=rv(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function ad(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),u!=null&&(t.destroyHooks??=[]).push(n,u)}}function Gs(t,e,n){Ev(t,e,3,n)}function qs(t,e,n,r){(t[N]&3)===n&&Ev(t,e,n,r)}function Kl(t,e){let n=t[N];(n&3)===e&&(n&=16383,n+=1,t[N]=n)}function Ev(t,e,n,r){let i=r!==void 0?t[Rr]&65535:0,o=r??-1,s=e.length-1,a=0;for(let c=i;c<s;c++)if(typeof e[c+1]=="number"){if(a=e[c],r!=null&&a>=r)break}else e[c]<0&&(t[Rr]+=65536),(a<o||o==-1)&&(LD(t,n,e,c),t[Rr]=(t[Rr]&4294901760)+c+2),c++}function em(t,e){Ct(4,t,e);let n=Q(null);try{e.call(t)}finally{Q(n),Ct(5,t,e)}}function LD(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[N]>>14<t[Rr]>>16&&(t[N]&3)===e&&(t[N]+=16384,em(a,o)):em(a,o)}var Lr=-1,ji=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function FD(t){return t instanceof ji}function jD(t){return(t.flags&8)!==0}function UD(t){return(t.flags&16)!==0}function bv(t){return t!==Lr}function ra(t){return t&32767}function VD(t){return t>>16}function ia(t,e){let n=VD(t),r=e;for(;n>0;)r=r[Gi],n--;return r}var mu=!0;function oa(t){let e=mu;return mu=t,e}var $D=256,Cv=$D-1,Dv=5,BD=0,Dt={};function HD(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ai)&&(r=n[Ai]),r==null&&(r=n[Ai]=BD++);let i=r&Cv,o=1<<i;e.data[t+(i>>Dv)]|=o}function Tv(t,e){let n=Sv(t,e);if(n!==-1)return n;let r=e[$];r.firstCreatePass&&(t.injectorIndex=e.length,Yl(r.data,t),Yl(e,null),Yl(r.blueprint,null));let i=cd(t,e),o=t.injectorIndex;if(bv(i)){let s=ra(i),a=ia(i,e),c=a[$].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|c[s+l]}return e[o+8]=i,o}function Yl(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Sv(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function cd(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=Rv(i),r===null)return Lr;if(n++,i=i[Gi],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Lr}function WD(t,e,n){HD(t,e,n)}function Av(t,e,n){if(n&U.Optional||t!==void 0)return t;qu(e,"NodeInjector")}function Mv(t,e,n,r){if(n&U.Optional&&r===void 0&&(r=null),!(n&(U.Self|U.Host))){let i=t[Fr],o=Fe(void 0);try{return i?i.get(e,r,n&U.Optional):km(e,r,n&U.Optional)}finally{Fe(o)}}return Av(r,e,n)}function Nv(t,e,n,r=U.Default,i){if(t!==null){if(e[N]&2048&&!(r&U.Self)){let s=YD(t,e,n,r,Dt);if(s!==Dt)return s}let o=xv(t,e,n,r,Dt);if(o!==Dt)return o}return Mv(e,n,r,i)}function xv(t,e,n,r,i){let o=qD(n);if(typeof o=="function"){if(!gv(e,t,r))return r&U.Host?Av(i,n,r):Mv(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&U.Optional))qu(n);else return s}finally{_v()}}else if(typeof o=="number"){let s=null,a=Sv(t,e),c=Lr,l=r&U.Host?e[st][_t]:null;for((a===-1||r&U.SkipSelf)&&(c=a===-1?cd(t,e):e[a+8],c===Lr||!nm(r,!1)?a=-1:(s=e[$],a=ra(c),e=ia(c,e)));a!==-1;){let u=e[$];if(tm(o,a,u.data)){let d=zD(a,e,n,s,r,l);if(d!==Dt)return d}c=e[a+8],c!==Lr&&nm(r,e[$].data[a+8]===l)&&tm(o,a,e)?(s=u,a=ra(c),e=ia(c,e)):a=-1}}return i}function zD(t,e,n,r,i,o){let s=e[$],a=s.data[t+8],c=r==null?qi(a)&&mu:r!=s&&(a.type&3)!==0,l=i&U.Host&&o===a,u=GD(a,s,n,c,l);return u!==null?Ui(e,s,u,a):Dt}function GD(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,c=t.directiveStart,l=t.directiveEnd,u=o>>20,d=r?a:a+u,f=i?a+u:l;for(let h=d;h<f;h++){let p=s[h];if(h<c&&n===p||h>=c&&p.type===n)return h}if(i){let h=s[c];if(h&&Ki(h)&&h.type===n)return c}return null}function Ui(t,e,n,r){let i=t[n],o=e.data;if(FD(i)){let s=i;s.resolving&&yC(vC(o[n]));let a=oa(s.canSeeViewProviders);s.resolving=!0;let c,l=s.injectImpl?Fe(s.injectImpl):null,u=gv(t,r,U.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&kD(n,o[n],e)}finally{l!==null&&Fe(l),oa(a),s.resolving=!1,_v()}}return i}function qD(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ai)?t[Ai]:void 0;return typeof e=="number"?e>=0?e&Cv:KD:e}function tm(t,e,n){let r=1<<t;return!!(n[e+(t>>Dv)]&r)}function nm(t,e){return!(t&U.Self)&&!(t&U.Host&&e)}var On=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return Nv(this._tNode,this._lView,e,ba(r),n)}};function KD(){return new On(Nt(),pe())}function ld(t){return Hi(()=>{let e=t.prototype.constructor,n=e[Qs]||vu(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[Qs]||vu(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function vu(t){return Mm(t)?()=>{let e=vu(it(t));return e&&e()}:Pn(t)}function YD(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[N]&2048&&!(s[N]&512);){let a=xv(o,s,n,r|U.Self,Dt);if(a!==Dt)return a;let c=o.parent;if(!c){let l=s[Jm];if(l){let u=l.get(n,Dt,r);if(u!==Dt)return u}c=Rv(s),s=s[Gi]}o=c}return i}function Rv(t){let e=t[$],n=e.type;return n===2?e.declTNode:n===1?t[_t]:null}function rm(t,e=null,n=null,r){let i=Ov(t,e,n,r);return i.resolveInjectorInitializers(),i}function Ov(t,e=null,n=null,r,i=new Set){let o=[n||ot,qC(t)];return r=r||(typeof t=="object"?void 0:je(t)),new Ri(o,e||Xu(),r||null,i)}var Oe=(()=>{let e=class e{static create(r,i){if(Array.isArray(r))return rm({name:""},i,r,"");{let o=r.name??"";return rm({name:o},r.parent,r.providers,o)}}};e.THROW_IF_NOT_FOUND=Ni,e.NULL=new Xs,e.\u0275prov=b({token:e,providedIn:"any",factory:()=>T(jm)}),e.__NG_ELEMENT_ID__=-1;let t=e;return t})();var QD="ngOriginalError";function Ql(t){return t[QD]}var St=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Ql(e);for(;n&&Ql(n);)n=Ql(n);return n||null}},Pv=new D("",{providedIn:"root",factory:()=>g(St).handleError.bind(void 0)}),ud=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=ZD,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),yu=class extends ud{constructor(e){super(),this._lView=e}onDestroy(e){return lv(this._lView,e),()=>vD(this._lView,e)}};function ZD(){return new yu(pe())}function JD(){return Aa(Nt(),pe())}function Aa(t,e){return new Ma(ct(t,e))}var Ma=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=JD;let t=e;return t})();var _u=class extends Ne{constructor(e=!1){super(),this.destroyRef=void 0,this.__isAsync=e,Zm()&&(this.destroyRef=g(ud,{optional:!0})??void 0)}emit(e){let n=Q(null);try{super.next(e)}finally{Q(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let c=e;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=Zl(o),i&&(i=Zl(i)),s&&(s=Zl(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof de&&e.add(a),a}};function Zl(t){return e=>{setTimeout(t,void 0,e)}}var xe=_u;var XD="ngSkipHydration",e0="ngskiphydration";function kv(t){let e=t.mergedAttrs;if(e===null)return!1;for(let n=0;n<e.length;n+=2){let r=e[n];if(typeof r=="number")return!1;if(typeof r=="string"&&r.toLowerCase()===e0)return!0}return!1}function Lv(t){return t.hasAttribute(XD)}function sa(t){return(t.flags&128)===128}function t0(t){if(sa(t))return!0;let e=t.parent;for(;e;){if(sa(t)||kv(e))return!0;e=e.parent}return!1}var Fv=new Map,n0=0;function r0(){return n0++}function i0(t){Fv.set(t[Sa],t)}function o0(t){Fv.delete(t[Sa])}var im="__ngContext__";function jn(t,e){hn(e)?(t[im]=e[Sa],i0(e)):t[im]=e}function jv(t){return Vv(t[Pi])}function Uv(t){return Vv(t[gt])}function Vv(t){for(;t!==null&&!Mt(t);)t=t[gt];return t}var Iu;function $v(t){Iu=t}function Na(){if(Iu!==void 0)return Iu;if(typeof document<"u")return document;throw new C(210,!1)}var Ji=new D("",{providedIn:"root",factory:()=>s0}),s0="ng",dd=new D(""),et=new D("",{providedIn:"platform",factory:()=>"unknown"});var fd=new D("",{providedIn:"root",factory:()=>Na().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function a0(){let t=new Bn;return g(et)==="browser"&&(t.store=c0(Na(),g(Ji))),t}var Bn=(()=>{let e=class e{constructor(){this.store={},this.onSerializeCallbacks={}}get(r,i){return this.store[r]!==void 0?this.store[r]:i}set(r,i){this.store[r]=i}remove(r){delete this.store[r]}hasKey(r){return this.store.hasOwnProperty(r)}get isEmpty(){return Object.keys(this.store).length===0}onSerialize(r,i){this.onSerializeCallbacks[r]=i}toJson(){for(let r in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(r))try{this.store[r]=this.onSerializeCallbacks[r]()}catch(i){console.warn("Exception in onSerialize callback: ",i)}return JSON.stringify(this.store).replace(/</g,"\\u003C")}};e.\u0275prov=b({token:e,providedIn:"root",factory:a0});let t=e;return t})();function c0(t,e){let n=t.getElementById(e+"-state");if(n?.textContent)try{return JSON.parse(n.textContent)}catch(r){console.warn("Exception while restoring TransferState for app "+e,r)}return{}}var Bv="h",Hv="b",wu=function(t){return t.FirstChild="f",t.NextSibling="n",t}(wu||{}),l0="e",u0="t",hd="c",Wv="x",aa="r",d0="i",f0="n",h0="d",p0="__nghData__",zv=p0,Jl="ngh",g0="nghm",Gv=()=>null;function m0(t,e,n=!1){let r=t.getAttribute(Jl);if(r==null)return null;let[i,o]=r.split("|");if(r=n?o:i,!r)return null;let s=o?`|${o}`:"",a=n?i:s,c={};if(r!==""){let u=e.get(Bn,null,{optional:!0});u!==null&&(c=u.get(zv,[])[Number(r)])}let l={data:c,firstChild:t.firstChild??null};return n&&(l.firstChild=t,xa(l,0,t.nextSibling)),a?t.setAttribute(Jl,a):t.removeAttribute(Jl),l}function v0(){Gv=m0}function pd(t,e,n=!1){return Gv(t,e,n)}function y0(t){let e=t._lView;return e[$].type===2?null:(tv(e)&&(e=e[Re]),e)}function _0(t){return t.textContent?.replace(/\s/gm,"")}function I0(t){let e=Na(),n=e.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode(o){let s=_0(o);return s==="ngetn"||s==="ngtns"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_REJECT}}),r,i=[];for(;r=n.nextNode();)i.push(r);for(let o of i)o.textContent==="ngetn"?o.replaceWith(e.createTextNode("")):o.remove()}function xa(t,e,n){t.segmentHeads??={},t.segmentHeads[e]=n}function Eu(t,e){return t.segmentHeads?.[e]??null}function w0(t,e){let n=t.data,r=n[l0]?.[e]??null;return r===null&&n[hd]?.[e]&&(r=gd(t,e)),r}function qv(t,e){return t.data[hd]?.[e]??null}function gd(t,e){let n=qv(t,e)??[],r=0;for(let i of n)r+=i[aa]*(i[Wv]??1);return r}function Ra(t,e){if(typeof t.disconnectedNodes>"u"){let n=t.data[h0];t.disconnectedNodes=n?new Set(n):null}return!!t.disconnectedNodes?.has(e)}var $s=new D(""),Kv=!1,Yv=new D("",{providedIn:"root",factory:()=>Kv}),E0=new D("");var ca=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Tm})`}};function Oa(t){return t instanceof ca?t.changingThisBreaksApplicationSecurity:t}function Qv(t,e){let n=b0(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${Tm})`)}return n===e}function b0(t){return t instanceof ca&&t.getTypeName()||null}var C0=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Zv(t){return t=String(t),t.match(C0)?t:"unsafe:"+t}var md=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(md||{});function vd(t){let e=D0();return e?e.sanitize(md.URL,t)||"":Qv(t,"URL")?Oa(t):Zv(Gu(t))}function D0(){let t=pe();return t&&t[vt].sanitizer}var T0=/^>|^->|<!--|-->|--!>|<!-$/g,S0=/(<|>)/g,A0="\u200B$1\u200B";function M0(t){return t.replace(T0,e=>e.replace(S0,A0))}function N0(t){return t.ownerDocument.body}function Jv(t){return t instanceof Function?t():t}function Si(t){return(t??g(Oe)).get(et)==="browser"}var Gt=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Gt||{}),x0;function yd(t,e){return x0(t,e)}function Or(t,e,n,r,i){if(r!=null){let o,s=!1;Mt(r)?o=r:hn(r)&&(s=!0,r=r[Ze]);let a=yt(r);t===0&&n!==null?i==null?ny(e,n,a):la(e,n,a,i||null,!0):t===1&&n!==null?la(e,n,a,i||null,!0):t===2?bd(e,a,s):t===3&&e.destroyNode(a),o!=null&&K0(e,t,o,n,i)}}function _d(t,e){return t.createText(e)}function R0(t,e,n){t.setValue(e,n)}function Id(t,e){return t.createComment(M0(e))}function Pa(t,e,n){return t.createElement(e,n)}function O0(t,e){Xv(t,e),e[Ze]=null,e[_t]=null}function P0(t,e,n,r,i,o){r[Ze]=i,r[_t]=e,ka(t,r,n,1,i,o)}function Xv(t,e){e[vt].changeDetectionScheduler?.notify(1),ka(t,e,e[he],2,null,null)}function k0(t){let e=t[Pi];if(!e)return Xl(t[$],t);for(;e;){let n=null;if(hn(e))n=e[Pi];else{let r=e[Ye];r&&(n=r)}if(!n){for(;e&&!e[gt]&&e!==t;)hn(e)&&Xl(e[$],e),e=e[De];e===null&&(e=t),hn(e)&&Xl(e[$],e),n=e&&e[gt]}e=n}}function L0(t,e,n,r){let i=Ye+r,o=n.length;r>0&&(n[i-1][gt]=e),r<o-Ye?(e[gt]=n[i],Fm(n,Ye+r,e)):(n.push(e),e[gt]=null),e[De]=n;let s=e[Ta];s!==null&&n!==s&&F0(s,e);let a=e[jr];a!==null&&a.insertView(t),pu(e),e[N]|=128}function F0(t,e){let n=t[ta],i=e[De][De][st];e[st]!==i&&(t[N]|=ed.HasTransplantedViews),n===null?t[ta]=[e]:n.push(e)}function ey(t,e){let n=t[ta],r=n.indexOf(e);n.splice(r,1)}function bu(t,e){if(t.length<=Ye)return;let n=Ye+e,r=t[n];if(r){let i=r[Ta];i!==null&&i!==t&&ey(i,r),e>0&&(t[n-1][gt]=r[gt]);let o=Js(t,Ye+e);O0(r[$],r);let s=o[jr];s!==null&&s.detachView(o[$]),r[De]=null,r[gt]=null,r[N]&=-129}return r}function ty(t,e){if(!(e[N]&256)){let n=e[he];n.destroyNode&&ka(t,e,n,3,null,null),k0(e)}}function Xl(t,e){if(e[N]&256)return;let n=Q(null);try{e[N]&=-129,e[N]|=256,e[Ln]&&fg(e[Ln]),U0(t,e),j0(t,e),e[$].type===1&&e[he].destroy();let r=e[Ta];if(r!==null&&Mt(e[De])){r!==e[De]&&ey(r,e);let i=e[jr];i!==null&&i.detachView(t)}o0(e)}finally{Q(n)}}function j0(t,e){let n=t.cleanup,r=e[Oi];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[Oi]=null);let i=e[fn];if(i!==null){e[fn]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function U0(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof ji)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],c=o[s+1];Ct(4,a,c);try{c.call(a)}finally{Ct(5,a,c)}}else{Ct(4,i,o);try{o.call(i)}finally{Ct(5,i,o)}}}}}function V0(t,e,n){return $0(t,e.parent,n)}function $0(t,e,n){let r=e;for(;r!==null&&r.type&40;)e=r,r=e.parent;if(r===null)return n[Ze];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===Tt.None||o===Tt.Emulated)return null}return ct(r,n)}}function la(t,e,n,r,i){t.insertBefore(e,n,r,i)}function ny(t,e,n){t.appendChild(e,n)}function om(t,e,n,r,i){r!==null?la(t,e,n,r,i):ny(t,e,n)}function B0(t,e,n,r){t.removeChild(e,n,r)}function wd(t,e){return t.parentNode(e)}function H0(t,e){return t.nextSibling(e)}function W0(t,e,n){return G0(t,e,n)}function z0(t,e,n){return t.type&40?ct(t,n):null}var G0=z0,sm;function Ed(t,e,n,r){let i=V0(t,r,e),o=e[he],s=r.parent||e[_t],a=W0(s,r,e);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)om(o,i,n[c],a,!1);else om(o,i,n,a,!1);sm!==void 0&&sm(o,r,e,n,i)}function Ks(t,e){if(e!==null){let n=e.type;if(n&3)return ct(e,t);if(n&4)return Cu(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ks(t,r);{let i=t[e.index];return Mt(i)?Cu(-1,i):yt(i)}}else{if(n&32)return yd(e,t)()||yt(t[e.index]);{let r=ry(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Fi(t[st]);return Ks(i,r)}else return Ks(t,e.next)}}}return null}function ry(t,e){if(e!==null){let r=t[st][_t],i=e.projection;return r.projection[i]}return null}function Cu(t,e){let n=Ye+t+1;if(n<e.length){let r=e[n],i=r[$].firstChild;if(i!==null)return Ks(r,i)}return e[zt]}function bd(t,e,n){let r=wd(t,e);r&&B0(t,r,e,n)}function iy(t){t.textContent=""}function Cd(t,e,n,r,i,o,s){for(;n!=null;){let a=r[n.index],c=n.type;if(s&&e===0&&(a&&jn(yt(a),r),n.flags|=2),(n.flags&32)!==32)if(c&8)Cd(t,e,n.child,r,i,o,!1),Or(e,t,i,a,o);else if(c&32){let l=yd(n,r),u;for(;u=l();)Or(e,t,i,u,o);Or(e,t,i,a,o)}else c&16?q0(t,e,r,n,i,o):Or(e,t,i,a,o);n=s?n.projectionNext:n.next}}function ka(t,e,n,r,i,o){Cd(n,r,t.firstChild,e,i,o,!1)}function q0(t,e,n,r,i,o){let s=n[st],c=s[_t].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let u=c[l];Or(e,t,i,u,o)}else{let l=c,u=s[De];sa(r)&&(l.flags|=128),Cd(t,e,l,u,i,o,!0)}}function K0(t,e,n,r,i){let o=n[zt],s=yt(n);o!==s&&Or(e,t,r,o,i);for(let a=Ye;a<n.length;a++){let c=n[a];ka(c[$],c,t,e,r,o)}}function Y0(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Gt.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Gt.Important),t.setStyle(n,r,i,o))}}function Q0(t,e,n){t.setAttribute(e,"style",n)}function oy(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function sy(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&cu(t,e,r),i!==null&&oy(t,e,i),o!==null&&Q0(t,e,o)}var Hn={};function E(t=1){ay(Kt(),pe(),$r()+t,!1)}function ay(t,e,n,r){if(!r)if((e[N]&3)===3){let o=t.preOrderCheckHooks;o!==null&&Gs(e,o,n)}else{let o=t.preOrderHooks;o!==null&&qs(e,o,0,n)}Fn(n)}function re(t,e=U.Default){let n=pe();if(n===null)return T(t,e);let r=Nt();return Nv(r,n,it(t),e)}function cy(){let t="invalid";throw new Error(t)}function ly(t,e,n,r,i,o){let s=Q(null);try{let a=null;i&pn.SignalBased&&(a=e[r][cg]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&pn.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):nv(e,a,r,o)}finally{Q(s)}}function Z0(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Fn(~i);else{let o=i,s=n[++r],a=n[++r];ND(s,o);let c=e[o];a(2,c)}}}finally{Fn(-1)}}function La(t,e,n,r,i,o,s,a,c,l,u){let d=e.blueprint.slice();return d[Ze]=i,d[N]=r|4|128|8|64,(l!==null||t&&t[N]&2048)&&(d[N]|=2048),cv(d),d[De]=d[Gi]=t,d[Wt]=n,d[vt]=s||t&&t[vt],d[he]=a||t&&t[he],d[Fr]=c||t&&t[Fr]||null,d[_t]=o,d[Sa]=r0(),d[mt]=u,d[Jm]=l,d[st]=e.type==2?t[st]:d,d}function Fa(t,e,n,r,i){let o=t.data[e];if(o===null)o=J0(t,e,n,r,i),MD()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=CD();o.injectorIndex=s===null?-1:s.injectorIndex}return Zi(o,!0),o}function J0(t,e,n,r,i){let o=dv(),s=fv(),a=s?o:o&&o.parent,c=t.data[e]=iT(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=c),o!==null&&(s?o.child==null&&c.parent!==null&&(o.child=c):o.next===null&&(o.next=c,c.prev=o)),c}function uy(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function dy(t,e,n,r,i){let o=$r(),s=r&2;try{Fn(-1),s&&e.length>Re&&ay(t,e,Re,!1),Ct(s?2:0,i),n(r,i)}finally{Fn(o),Ct(s?3:1,i)}}function fy(t,e,n){if(ev(e)){let r=Q(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let c=n[s];a.contentQueries(1,c,s)}}}finally{Q(r)}}}function hy(t,e,n){uv()&&(dT(t,e,n,ct(n,e)),(n.flags&64)===64&&_y(t,e,n))}function py(t,e,n=ct){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function gy(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Dd(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Dd(t,e,n,r,i,o,s,a,c,l,u){let d=Re+r,f=d+i,h=X0(d,f),p=typeof l=="function"?l():l;return h[$]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:c,consts:p,incompleteFirstPass:!1,ssrId:u}}function X0(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Hn);return n}function eT(t,e,n,r){let o=r.get(Yv,Kv)||n===Tt.ShadowDom,s=t.selectRootElement(e,o);return tT(s),s}function tT(t){my(t)}var my=()=>null;function nT(t){Lv(t)?iy(t):I0(t)}function rT(){my=nT}function iT(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return Qi()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function am(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,c=pn.None;Array.isArray(s)?(a=s[0],c=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?cm(r,n,l,a,c):cm(r,n,l,a)}return r}function cm(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function oT(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],c=null,l=null;for(let u=r;u<i;u++){let d=o[u],f=n?n.get(d):null,h=f?f.inputs:null,p=f?f.outputs:null;c=am(0,d.inputs,u,c,h),l=am(1,d.outputs,u,l,p);let I=c!==null&&s!==null&&!Zu(e)?IT(c,u,s):null;a.push(I)}c!==null&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}function sT(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function aT(t,e,n,r,i,o,s,a){let c=ct(e,n),l=e.inputs,u;!a&&l!=null&&(u=l[r])?(Td(t,n,u,r,i),qi(e)&&cT(n,e.index)):e.type&3?(r=sT(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(c,r,i)):e.type&12}function cT(t,e){let n=$n(e,t);n[N]&16||(n[N]|=64)}function vy(t,e,n,r){if(uv()){let i=r===null?null:{"":-1},o=hT(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&yy(t,e,n,s,i,a),i&&pT(n,r,i)}n.mergedAttrs=Qu(n.mergedAttrs,n.attrs)}function yy(t,e,n,r,i,o){for(let l=0;l<r.length;l++)WD(Tv(n,e),t,r[l].type);mT(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let u=r[l];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,c=uy(t,e,r.length,null);for(let l=0;l<r.length;l++){let u=r[l];n.mergedAttrs=Qu(n.mergedAttrs,u.hostAttrs),vT(t,n,e,c,u),gT(c,u,i),u.contentQueries!==null&&(n.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(n.flags|=64);let d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}oT(t,n,o)}function lT(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;uT(s)!=a&&s.push(a),s.push(n,r,o)}}function uT(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function dT(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;qi(n)&&yT(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Tv(n,e),jn(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let c=t.data[a],l=Ui(e,t,a,n);if(jn(l,e),s!==null&&_T(e,a-i,l,c,n,s),Ki(c)){let u=$n(n.index,e);u[Wt]=Ui(e,t,a,n)}}}function _y(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=xD();try{Fn(o);for(let a=r;a<i;a++){let c=t.data[a],l=e[a];gu(a),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&fT(c,l)}}finally{Fn(-1),gu(s)}}function fT(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function hT(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(jC(e,s.selectors,!1))if(r||(r=[]),Ki(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let c=a.length;Du(t,e,c)}else r.unshift(s),Du(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Du(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function pT(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new C(-301,!1);r.push(e[i],o)}}}function gT(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Ki(e)&&(n[""]=t)}}function mT(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function vT(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Pn(i.type,!0)),s=new ji(o,Ki(i),re);t.blueprint[r]=s,n[r]=s,lT(t,e,r,uy(t,n,i.hostVars,Hn),i)}function yT(t,e,n){let r=ct(e,t),i=gy(n),o=t[vt].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=ja(t,La(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function _T(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let c=s[a++],l=s[a++],u=s[a++],d=s[a++];ly(r,n,c,l,u,d)}}function IT(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function Iy(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function wy(t,e){let n=t.contentQueries;if(n!==null){let r=Q(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];pv(o),a.contentQueries(2,e[s],s)}}}finally{Q(r)}}}function ja(t,e){return t[Pi]?t[Jg][gt]=e:t[Pi]=e,t[Jg]=e,e}function Tu(t,e,n){pv(0);let r=Q(null);try{e(t,n)}finally{Q(r)}}function wT(t){return t[Oi]||(t[Oi]=[])}function ET(t){return t.cleanup||(t.cleanup=[])}function Ey(t,e){let n=t[Fr],r=n?n.get(St,null):null;r&&r.handleError(e)}function Td(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],c=n[o++],l=e[s],u=t.data[s];ly(u,l,r,a,c,i)}}function bT(t,e,n){let r=sv(e,t);R0(t[he],r,n)}function CT(t,e){let n=$n(e,t),r=n[$];DT(r,n);let i=n[Ze];i!==null&&n[mt]===null&&(n[mt]=pd(i,n[Fr])),Sd(r,n,n[Wt])}function DT(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Sd(t,e,n){id(e);try{let r=t.viewQuery;r!==null&&Tu(1,r,n);let i=t.template;i!==null&&dy(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[jr]?.finishViewCreation(t),t.staticContentQueries&&wy(t,e),t.staticViewQueries&&Tu(2,t.viewQuery,n);let o=t.components;o!==null&&TT(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[N]&=-5,od()}}function TT(t,e){for(let n=0;n<e.length;n++)CT(t,e[n])}function ST(t,e,n,r){let i=Q(null);try{let o=e.tView,a=t[N]&4096?4096:16,c=La(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];c[Ta]=l;let u=t[jr];return u!==null&&(c[jr]=u.createEmbeddedView(o)),Sd(o,c,n),c}finally{Q(i)}}function lm(t,e){return!e||e.firstChild===null||sa(t)}function AT(t,e,n,r=!0){let i=e[$];if(L0(i,e,t,n),r){let s=Cu(n,t),a=e[he],c=wd(a,t[zt]);c!==null&&P0(i,t[_t],a,e,c,s)}let o=e[mt];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function ua(t,e,n,r,i=!1){for(;n!==null;){let o=e[n.index];o!==null&&r.push(yt(o)),Mt(o)&&MT(o,r);let s=n.type;if(s&8)ua(t,e,n.child,r);else if(s&32){let a=yd(n,e),c;for(;c=a();)r.push(c)}else if(s&16){let a=ry(e,n);if(Array.isArray(a))r.push(...a);else{let c=Fi(e[st]);ua(c[$],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function MT(t,e){for(let n=Ye;n<t.length;n++){let r=t[n],i=r[$].firstChild;i!==null&&ua(r[$],r,i,e)}t[zt]!==t[Ze]&&e.push(t[zt])}var by=[];function NT(t){return t[Ln]??xT(t)}function xT(t){let e=by.pop()??Object.create(OT);return e.lView=t,e}function RT(t){t.lView[Ln]!==t&&(t.lView=null,by.push(t))}var OT=ae(w({},lg),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Li(t.lView)},consumerOnSignalRead(){this.lView[Ln]=this}}),Cy=100;function Dy(t,e=!0,n=0){let r=t[vt],i=r.rendererFactory,o=!1;o||i.begin?.();try{PT(t,n)}catch(s){throw e&&Ey(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function PT(t,e){Su(t,e);let n=0;for(;rd(t);){if(n===Cy)throw new C(103,!1);n++,Su(t,1)}}function kT(t,e,n,r){let i=e[N];if((i&256)===256)return;let o=!1;!o&&e[vt].inlineEffectRunner?.flush(),id(e);let s=null,a=null;!o&&LT(t)&&(a=NT(e),s=ug(a));try{cv(e),SD(t.bindingStartIndex),n!==null&&dy(t,e,n,2,r);let c=(i&3)===3;if(!o)if(c){let d=t.preOrderCheckHooks;d!==null&&Gs(e,d,null)}else{let d=t.preOrderHooks;d!==null&&qs(e,d,0,null),Kl(e,0)}if(FT(e),Ty(e,0),t.contentQueries!==null&&wy(t,e),!o)if(c){let d=t.contentCheckHooks;d!==null&&Gs(e,d)}else{let d=t.contentHooks;d!==null&&qs(e,d,1),Kl(e,1)}Z0(t,e);let l=t.components;l!==null&&Ay(e,l,0);let u=t.viewQuery;if(u!==null&&Tu(2,u,r),!o)if(c){let d=t.viewCheckHooks;d!==null&&Gs(e,d)}else{let d=t.viewHooks;d!==null&&qs(e,d,2),Kl(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[ql]){for(let d of e[ql])d();e[ql]=null}o||(e[N]&=-73)}catch(c){throw Li(e),c}finally{a!==null&&(dg(a,s),RT(a)),od()}}function LT(t){return t.type!==2}function Ty(t,e){for(let n=jv(t);n!==null;n=Uv(n))for(let r=Ye;r<n.length;r++){let i=n[r];Sy(i,e)}}function FT(t){for(let e=jv(t);e!==null;e=Uv(e)){if(!(e[N]&ed.HasTransplantedViews))continue;let n=e[ta];for(let r=0;r<n.length;r++){let i=n[r],o=i[De];mD(i)}}}function jT(t,e,n){let r=$n(e,t);Sy(r,n)}function Sy(t,e){nd(t)&&Su(t,e)}function Su(t,e){let r=t[$],i=t[N],o=t[Ln],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&bl(o)),o&&(o.dirty=!1),t[N]&=-9217,s)kT(r,t,r.template,t[Wt]);else if(i&8192){Ty(t,1);let a=r.components;a!==null&&Ay(t,a,1)}}function Ay(t,e,n){for(let r=0;r<e.length;r++)jT(t,e[r],n)}function Ad(t){for(t[vt].changeDetectionScheduler?.notify();t;){t[N]|=64;let e=Fi(t);if(tv(t)&&!e)return t;t=e}return null}var Un=class{get rootNodes(){let e=this._lView,n=e[$];return ua(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Wt]}set context(e){this._lView[Wt]=e}get destroyed(){return(this._lView[N]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[De];if(Mt(e)){let n=e[ea],r=n?n.indexOf(this):-1;r>-1&&(bu(e,r),Js(n,r))}this._attachedToViewContainer=!1}ty(this._lView[$],this._lView)}onDestroy(e){lv(this._lView,e)}markForCheck(){Ad(this._cdRefInjectingView||this._lView)}detach(){this._lView[N]&=-129}reattach(){pu(this._lView),this._lView[N]|=128}detectChanges(){this._lView[N]|=1024,Dy(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new C(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,Xv(this._lView[$],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new C(902,!1);this._appRef=e,pu(this._lView)}},Md=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=$T;let t=e;return t})(),UT=Md,VT=class extends UT{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=ST(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Un(i)}};function $T(){return BT(Nt(),pe())}function BT(t,e){return t.type&4?new VT(e,t,Aa(t,e)):null}function My(t){let e=t[ki]??[],r=t[De][he];for(let i of e)HT(i,r);t[ki]=ot}function HT(t,e){let n=0,r=t.firstChild;if(r){let i=t.data[aa];for(;n<i;){let o=r.nextSibling;bd(e,r,!1),r=o,n++}}}function Ny(t){My(t);for(let e=Ye;e<t.length;e++)da(t[e])}function WT(t){let e=t[mt]?.i18nNodes;if(e){let n=t[he];for(let r of e.values())bd(n,r,!1);t[mt].i18nNodes=void 0}}function da(t){WT(t);let e=t[$];for(let n=Re;n<e.bindingStartIndex;n++)if(Mt(t[n])){let r=t[n];Ny(r)}else hn(t[n])&&da(t[n])}function zT(t){let e=t._views;for(let n of e){let r=y0(n);if(r!==null&&r[Ze]!==null)if(hn(r))da(r);else{let i=r[Ze];da(i),Ny(r)}}}var GT=new RegExp(`^(\\d+)*(${Hv}|${Bv})*(.*)`);function qT(t){let e=t.match(GT),[n,r,i,o]=e,s=r?parseInt(r,10):i,a=[];for(let[c,l,u]of o.matchAll(/(f|n)(\d*)/g)){let d=parseInt(u,10)||1;a.push(l,d)}return[s,...a]}function KT(t){return!t.prev&&t.parent?.type===8}function eu(t){return t.index-Re}function YT(t,e){let n=t.i18nNodes;if(n){let r=n.get(e);return r&&n.delete(e),r}return null}function Ua(t,e,n,r){let i=eu(r),o=YT(t,i);if(!o){let s=t.data[f0];if(s?.[i])o=ZT(s[i],n);else if(e.firstChild===r)o=t.firstChild;else{let a=r.prev===null,c=r.prev??r.parent;if(KT(r)){let l=eu(r.parent);o=Eu(t,l)}else{let l=ct(c,n);if(a)o=l.firstChild;else{let u=eu(c),d=Eu(t,u);if(c.type===2&&d){let h=gd(t,u)+1;o=Va(h,d)}else o=l.nextSibling}}}}return o}function Va(t,e){let n=e;for(let r=0;r<t;r++)n=n.nextSibling;return n}function QT(t,e){let n=t;for(let r=0;r<e.length;r+=2){let i=e[r],o=e[r+1];for(let s=0;s<o;s++)switch(i){case wu.FirstChild:n=n.firstChild;break;case wu.NextSibling:n=n.nextSibling;break}}return n}function ZT(t,e){let[n,...r]=qT(t),i;if(n===Bv)i=e[st][Ze];else if(n===Hv)i=N0(e[st][Ze]);else{let o=Number(n);i=yt(e[o+Re])}return QT(i,r)}function JT(t,e){let n=[];for(let r of e)for(let i=0;i<(r[Wv]??1);i++){let o={data:r,firstChild:null};r[aa]>0&&(o.firstChild=t,t=Va(r[aa],t)),n.push(o)}return[t,n]}var xy=()=>null;function XT(t,e){let n=t[ki];return!e||n===null||n.length===0?null:n[0].data[d0]===e?n.shift():(My(t),null)}function eS(){xy=XT}function um(t,e){return xy(t,e)}var fa=class{},Au=class{},ha=class{};function tS(t){let e=Error(`No component factory found for ${je(t)}.`);return e[nS]=t,e}var nS="ngComponent";var Mu=class{resolveComponentFactory(e){throw tS(e)}},$a=(()=>{let e=class e{};e.NULL=new Mu;let t=e;return t})(),Vi=class{};var rS=(()=>{let e=class e{};e.\u0275prov=b({token:e,providedIn:"root",factory:()=>null});let t=e;return t})(),tu={};var dm=new Set;function Br(t){dm.has(t)||(dm.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function fm(...t){}function iS(){let t=typeof Ke.requestAnimationFrame=="function",e=Ke[t?"requestAnimationFrame":"setTimeout"],n=Ke[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){let r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);let i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}var Y=class t{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xe(!1),this.onMicrotaskEmpty=new xe(!1),this.onStable=new xe(!1),this.onError=new xe(!1),typeof Zone>"u")throw new C(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=iS().nativeRequestAnimationFrame,aS(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get("isAngularZone")===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new C(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new C(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,oS,fm,fm);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},oS={};function Nd(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function sS(t){t.isCheckStableRunning||t.lastRequestAnimationFrameId!==-1||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Ke,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Nu(t),t.isCheckStableRunning=!0,Nd(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Nu(t))}function aS(t){let e=()=>{sS(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{if(cS(a))return n.invokeTask(i,o,s,a);try{return hm(t),n.invokeTask(i,o,s,a)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),pm(t)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return hm(t),n.invoke(i,o,s,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),pm(t)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Nu(t),Nd(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Nu(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.lastRequestAnimationFrameId!==-1?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function hm(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function pm(t){t._nesting--,Nd(t)}var xu=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xe,this.onMicrotaskEmpty=new xe,this.onStable=new xe,this.onError=new xe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function cS(t){return!Array.isArray(t)||t.length!==1?!1:t[0].data?.__ignore_ng_zone__===!0}function lS(t="zone.js",e){return t==="noop"?new xu:t==="zone.js"?new Y(e):t}var Pr=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Pr||{}),uS={destroy(){}};function xd(t,e){!e&&iD(xd);let n=e?.injector??g(Oe);if(!Si(n))return uS;Br("NgAfterNextRender");let r=n.get(Rd),i=r.handler??=new Ou,o=e?.phase??Pr.MixedReadWrite,s=()=>{i.unregister(c),a()},a=n.get(ud).onDestroy(s),c=At(n,()=>new Ru(o,()=>{s(),t()}));return i.register(c),{destroy:s}}var Ru=class{constructor(e,n){this.phase=e,this.callbackFn=n,this.zone=g(Y),this.errorHandler=g(St,{optional:!0}),g(fa,{optional:!0})?.notify(1)}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}},Ou=class{constructor(){this.executingCallbacks=!1,this.buckets={[Pr.EarlyRead]:new Set,[Pr.Write]:new Set,[Pr.MixedReadWrite]:new Set,[Pr.Read]:new Set},this.deferredCallbacks=new Set}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(let e of Object.values(this.buckets))for(let n of e)n.invoke();this.executingCallbacks=!1;for(let e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(let e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}},Rd=(()=>{let e=class e{constructor(){this.handler=null,this.internalCallbacks=[]}execute(){this.executeInternalCallbacks(),this.handler?.execute()}executeInternalCallbacks(){let r=[...this.internalCallbacks];this.internalCallbacks.length=0;for(let i of r)i()}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}};e.\u0275prov=b({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();function Pu(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Bg(i,a);else if(o==2){let c=a,l=e[++s];r=Bg(r,c+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var pa=class extends $a{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=gn(e);return new Ur(n,this.ngModule)}};function gm(t){let e=[];for(let n in t){if(!t.hasOwnProperty(n))continue;let r=t[n];r!==void 0&&e.push({propName:Array.isArray(r)?r[0]:r,templateName:n})}return e}function dS(t){let e=t.toLowerCase();return e==="svg"?uD:e==="math"?dD:null}var ku=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=ba(r);let i=this.injector.get(e,tu,r);return i!==tu||n===tu?i:this.parentInjector.get(e,n,r)}},Ur=class extends ha{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=gm(e.inputs);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return gm(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=BC(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=Q(null);try{i=i||this.ngModule;let s=i instanceof Qe?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new ku(e,s):e,c=a.get(Vi,null);if(c===null)throw new C(407,!1);let l=a.get(rS,null),u=a.get(Rd,null),d=a.get(fa,null),f={rendererFactory:c,sanitizer:l,inlineEffectRunner:null,afterRenderEventManager:u,changeDetectionScheduler:d},h=c.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",I=r?eT(h,r,this.componentDef.encapsulation,a):Pa(h,p,dS(p)),R=512;this.componentDef.signals?R|=4096:this.componentDef.onPush||(R|=16);let j=null;I!==null&&(j=pd(I,a,!0));let ue=Dd(0,null,null,1,0,null,null,null,null,null,null),oe=La(null,ue,null,R,null,null,f,h,a,null,j);id(oe);let ke,Vt;try{let Me=this.componentDef,$t,Ei=null;Me.findHostDirectiveDefs?($t=[],Ei=new Map,Me.findHostDirectiveDefs(Me,$t,Ei),$t.push(Me)):$t=[Me];let bi=fS(oe,I),wl=hS(bi,I,Me,$t,oe,f,h);Vt=av(ue,Re),I&&mS(h,Me,I,r),n!==void 0&&vS(Vt,this.ngContentSelectors,n),ke=gS(wl,Me,$t,Ei,oe,[yS]),Sd(ue,oe,null)}finally{od()}return new Lu(this.componentType,ke,Aa(Vt,oe),oe,Vt)}finally{Q(o)}}},Lu=class extends Au{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Un(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Td(o[$],o,i,e,n),this.previousInputValues.set(e,n);let s=$n(this._tNode.index,o);Ad(s)}}get injector(){return new On(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function fS(t,e){let n=t[$],r=Re;return t[r]=e,Fa(n,r,2,"#host",null)}function hS(t,e,n,r,i,o,s){let a=i[$];pS(r,t,e,s);let c=null;e!==null&&(c=pd(e,i[Fr]));let l=o.rendererFactory.createRenderer(e,n),u=16;n.signals?u=4096:n.onPush&&(u=64);let d=La(i,gy(n),null,u,i[t.index],t,o,l,null,null,c);return a.firstCreatePass&&Du(a,t,r.length-1),ja(i,d),i[t.index]=d}function pS(t,e,n,r){for(let i of t)e.mergedAttrs=Qu(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Pu(e,e.mergedAttrs,!0),n!==null&&sy(r,n,e))}function gS(t,e,n,r,i,o){let s=Nt(),a=i[$],c=ct(s,i);yy(a,i,s,n,null,r);for(let u=0;u<n.length;u++){let d=s.directiveStart+u,f=Ui(i,a,d,s);jn(f,i)}_y(a,i,s),c&&jn(c,i);let l=Ui(i,a,s.directiveStart+s.componentOffset,s);if(t[Wt]=i[Wt]=l,o!==null)for(let u of o)u(l,e);return fy(a,s,i),l}function mS(t,e,n,r){if(r)cu(t,n,["ng-version","17.3.6"]);else{let{attrs:i,classes:o}=HC(e.selectors[0]);i&&cu(t,n,i),o&&o.length>0&&oy(t,n,o.join(" "))}}function vS(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function yS(){let t=Nt();ad(pe()[$],t)}var Xi=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=_S;let t=e;return t})();function _S(){let t=Nt();return wS(t,pe())}var IS=Xi,Ry=class extends IS{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Aa(this._hostTNode,this._hostLView)}get injector(){return new On(this._hostTNode,this._hostLView)}get parentInjector(){let e=cd(this._hostTNode,this._hostLView);if(bv(e)){let n=ia(e,this._hostLView),r=ra(e),i=n[$].data[r+8];return new On(i,n)}else return new On(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=mm(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ye}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=um(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,lm(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!sD(e),a;if(s)a=n;else{let p=n||{};a=p.index,r=p.injector,i=p.projectableNodes,o=p.environmentInjector||p.ngModuleRef}let c=s?e:new Ur(gn(e)),l=r||this.parentInjector;if(!o&&c.ngModule==null){let I=(s?l:this.parentInjector).get(Qe,null);I&&(o=I)}let u=gn(c.componentType??{}),d=um(this._lContainer,u?.id??null),f=d?.firstChild??null,h=c.create(l,i,f,o);return this.insertImpl(h.hostView,a,lm(this._hostTNode,d)),h}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(gD(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let c=i[De],l=new Ry(c,c[_t],c[De]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return AT(s,i,o,r),e.attachToViewContainerRef(),Fm(nu(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=mm(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=bu(this._lContainer,n);r&&(Js(nu(this._lContainer),n),ty(r[$],r))}detach(e){let n=this._adjustIndex(e,-1),r=bu(this._lContainer,n);return r&&Js(nu(this._lContainer),n)!=null?new Un(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function mm(t){return t[ea]}function nu(t){return t[ea]||(t[ea]=[])}function wS(t,e){let n,r=e[t.index];return Mt(r)?n=r:(n=Iy(r,e,null,t),e[t.index]=n,ja(e,n)),Oy(n,e,t,r),new Ry(n,t,e)}function ES(t,e){let n=t[he],r=n.createComment(""),i=ct(e,t),o=wd(n,i);return la(n,o,r,H0(n,i),!1),r}var Oy=Py,Od=()=>!1;function bS(t,e,n){return Od(t,e,n)}function Py(t,e,n,r){if(t[zt])return;let i;n.type&8?i=yt(r):i=ES(e,n),t[zt]=i}function CS(t,e,n){if(t[zt]&&t[ki])return!0;let r=n[mt],i=e.index-Re;if(!r||t0(e)||Ra(r,i))return!1;let s=Eu(r,i),a=r.data[hd]?.[i],[c,l]=JT(s,a);return t[zt]=c,t[ki]=l,!0}function DS(t,e,n,r){Od(t,n,e)||Py(t,e,n,r)}function TS(){Oy=DS,Od=CS}function SS(t){let e=[],n=new Map;function r(i){let o=n.get(i);if(!o){let s=t(i);n.set(i,o=s.then(xS))}return o}return ga.forEach((i,o)=>{let s=[];i.templateUrl&&s.push(r(i.templateUrl).then(l=>{i.template=l}));let a=typeof i.styles=="string"?[i.styles]:i.styles||[];if(i.styles=a,i.styleUrl&&i.styleUrls?.length)throw new Error("@Component cannot define both `styleUrl` and `styleUrls`. Use `styleUrl` if the component has one stylesheet, or `styleUrls` if it has multiple");if(i.styleUrls?.length){let l=i.styles.length,u=i.styleUrls;i.styleUrls.forEach((d,f)=>{a.push(""),s.push(r(d).then(h=>{a[l+f]=h,u.splice(u.indexOf(d),1),u.length==0&&(i.styleUrls=void 0)}))})}else i.styleUrl&&s.push(r(i.styleUrl).then(l=>{a.push(l),i.styleUrl=void 0}));let c=Promise.all(s).then(()=>RS(o));e.push(c)}),MS(),Promise.all(e).then(()=>{})}var ga=new Map,AS=new Set;function MS(){let t=ga;return ga=new Map,t}function NS(){return ga.size===0}function xS(t){return typeof t=="string"?t:t.text()}function RS(t){AS.delete(t)}var mn=class{},$i=class{};var ma=class extends mn{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new pa(this);let i=zm(e);this._bootstrapComponents=Jv(i.bootstrap),this._r3Injector=Ov(e,n,[{provide:mn,useValue:this},{provide:$a,useValue:this.componentFactoryResolver},...r],je(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},va=class extends $i{constructor(e){super(),this.moduleType=e}create(e){return new ma(this.moduleType,e,[])}};function OS(t,e,n){return new ma(t,e,n)}var Fu=class extends mn{constructor(e){super(),this.componentFactoryResolver=new pa(this),this.instance=null;let n=new Ri([...e.providers,{provide:mn,useValue:this},{provide:$a,useValue:this.componentFactoryResolver}],e.parent||Xu(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Ba(t,e,n=null){return new Fu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var eo=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new ve(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ky(t){return kS(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function PS(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function kS(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function LS(t,e,n){return t[e]=n}function Ha(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function to(t){return(t.flags&32)===32}function FS(t,e,n,r,i,o,s,a,c){let l=e.consts,u=Fa(e,t,4,s||null,na(l,a));vy(e,n,u,na(l,c)),ad(e,u);let d=u.tView=Dd(2,u,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}function Wa(t,e,n,r,i,o,s,a){let c=pe(),l=Kt(),u=t+Re,d=l.firstCreatePass?FS(u,l,c,e,n,r,i,o,s):l.data[u];Zi(d,!1);let f=Ly(l,c,d,t);sd()&&Ed(l,c,f,d),jn(f,c);let h=Iy(f,c,f,d);return c[u]=h,ja(c,h),bS(h,d,c),td(d)&&hy(l,c,d),s!=null&&py(c,d,a),Wa}var Ly=Fy;function Fy(t,e,n,r){return xt(!0),e[he].createComment("")}function jS(t,e,n,r){let i=e[mt],o=!i||Qi()||to(n)||Ra(i,r);if(xt(o),o)return Fy(t,e,n,r);let s=i.data[u0]?.[r]??null;s!==null&&n.tView!==null&&n.tView.ssrId===null&&(n.tView.ssrId=s);let a=Ua(i,t,e,n);xa(i,r,a);let c=gd(i,r);return Va(c,a)}function US(){Ly=jS}function VS(t,e,n,r){return Ha(t,hv(),n)?e+Gu(n)+r:Hn}function Bs(t,e){return t<<17|e<<2}function Vn(t){return t>>17&32767}function $S(t){return(t&2)==2}function BS(t,e){return t&131071|e<<17}function ju(t){return t|2}function Vr(t){return(t&131068)>>2}function ru(t,e){return t&-131069|e<<2}function HS(t){return(t&1)===1}function Uu(t){return t|1}function WS(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Vn(s),c=Vr(s);t[r]=n;let l=!1,u;if(Array.isArray(n)){let d=n;u=d[1],(u===null||Wi(d,u)>0)&&(l=!0)}else u=n;if(i)if(c!==0){let f=Vn(t[a+1]);t[r+1]=Bs(f,a),f!==0&&(t[f+1]=ru(t[f+1],r)),t[a+1]=BS(t[a+1],r)}else t[r+1]=Bs(a,0),a!==0&&(t[a+1]=ru(t[a+1],r)),a=r;else t[r+1]=Bs(c,0),a===0?a=r:t[c+1]=ru(t[c+1],r),c=r;l&&(t[r+1]=ju(t[r+1])),vm(t,u,r,!0),vm(t,u,r,!1),zS(e,u,t,r,o),s=Bs(a,c),o?e.classBindings=s:e.styleBindings=s}function zS(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Wi(o,e)>=0&&(n[r+1]=Uu(n[r+1]))}function vm(t,e,n,r){let i=t[n+1],o=e===null,s=r?Vn(i):Vr(i),a=!1;for(;s!==0&&(a===!1||o);){let c=t[s],l=t[s+1];GS(c,e)&&(a=!0,t[s+1]=r?Uu(l):ju(l)),s=r?Vn(l):Vr(l)}a&&(t[n+1]=r?ju(i):Uu(i))}function GS(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Wi(t,e)>=0:!1}function Yt(t,e,n){let r=pe(),i=hv();if(Ha(r,i,e)){let o=Kt(),s=PD();aT(o,s,r,t,e,r[he],n,!1)}return Yt}function ym(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Td(t,n,o[s],s,r)}function se(t,e){return qS(t,e,null,!0),se}function qS(t,e,n,r){let i=pe(),o=Kt(),s=AD(2);if(o.firstUpdatePass&&YS(o,t,s,r),e!==Hn&&Ha(i,s,e)){let a=o.data[$r()];eA(o,a,i,i[he],t,i[s+1]=tA(e,n),r,s)}}function KS(t,e){return e>=t.expandoStartIndex}function YS(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[$r()],s=KS(t,n);nA(o,r)&&e===null&&!s&&(e=!1),e=QS(i,o,e,r),WS(i,o,e,n,s,r)}}function QS(t,e,n,r){let i=RD(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=iu(null,t,e,n,r),n=Bi(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=iu(i,t,e,n,r),o===null){let c=ZS(t,e,r);c!==void 0&&Array.isArray(c)&&(c=iu(null,t,e,c[1],r),c=Bi(c,e.attrs,r),JS(t,e,r,c))}else o=XS(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function ZS(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Vr(r)!==0)return t[Vn(r)]}function JS(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Vn(i)]=r}function XS(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Bi(r,s,n)}return Bi(r,e.attrs,n)}function iu(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Bi(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Bi(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),MC(t,s,n?!0:e[++o]))}return t===void 0?null:t}function eA(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let c=t.data,l=c[a+1],u=HS(l)?_m(c,e,n,i,Vr(l),s):void 0;if(!ya(u)){ya(o)||$S(l)&&(o=_m(c,null,n,i,a,s));let d=sv($r(),n);Y0(r,s,d,i,o)}}function _m(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=u===null,f=n[i+1];f===Hn&&(f=d?ot:void 0);let h=d?zl(f,r):u===r?f:void 0;if(l&&!ya(h)&&(h=zl(c,r)),ya(h)&&(a=h,s))return a;let p=t[i+1];i=s?Vn(p):Vr(p)}if(e!==null){let c=o?e.residualClasses:e.residualStyles;c!=null&&(a=zl(c,r))}return a}function ya(t){return t!==void 0}function tA(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=je(Oa(t)))),t}function nA(t,e){return(t.flags&(e?8:16))!==0}function rA(t,e,n,r,i,o){let s=e.consts,a=na(s,i),c=Fa(e,t,2,r,a);return vy(e,n,c,na(s,o)),c.attrs!==null&&Pu(c,c.attrs,!1),c.mergedAttrs!==null&&Pu(c,c.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,c),c}function v(t,e,n,r){let i=pe(),o=Kt(),s=Re+t,a=i[he],c=o.firstCreatePass?rA(s,o,i,e,n,r):o.data[s],l=jy(o,i,c,a,e,t);i[s]=l;let u=td(c);return Zi(c,!0),sy(a,l,c),!to(c)&&sd()&&Ed(o,i,l,c),yD()===0&&jn(l,i),_D(),u&&(hy(o,i,c),fy(o,c,i)),r!==null&&py(i,c),v}function y(){let t=Nt();fv()?DD():(t=t.parent,Zi(t,!1));let e=t;wD(e)&&bD(),ID();let n=Kt();return n.firstCreatePass&&(ad(n,t),ev(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&jD(e)&&ym(n,e,pe(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&UD(e)&&ym(n,e,pe(),e.stylesWithoutHost,!1),y}function S(t,e,n,r){return v(t,e,n,r),y(),S}var jy=(t,e,n,r,i,o)=>(xt(!0),Pa(r,i,Iv()));function iA(t,e,n,r,i,o){let s=e[mt],a=!s||Qi()||to(n)||Ra(s,o);if(xt(a),a)return Pa(r,i,Iv());let c=Ua(s,t,e,n);return qv(s,o)&&xa(s,o,c.nextSibling),s&&(kv(n)||Lv(c))&&qi(n)&&(ED(n),iy(c)),c}function oA(){jy=iA}var sA=(t,e,n,r)=>(xt(!0),Id(e[he],""));function aA(t,e,n,r){let i,o=e[mt],s=!o||Qi()||to(n);if(xt(s),s)return Id(e[he],"");let a=Ua(o,t,e,n),c=w0(o,r);return xa(o,r,a),i=Va(c,a),i}function cA(){sA=aA}var _a="en-US";var lA=_a;function uA(t){typeof t=="string"&&(lA=t.toLowerCase().replace(/_/g,"-"))}function Uy(t,e,n){let r=t[he];switch(n){case Node.COMMENT_NODE:return Id(r,e);case Node.TEXT_NODE:return _d(r,e);case Node.ELEMENT_NODE:return Pa(r,e,null)}}var dA=(t,e,n,r)=>(xt(!0),Uy(t,n,r));function fA(t,e,n,r){return xt(!0),Uy(t,n,r)}function hA(){dA=fA}function Ee(t,e,n,r){let i=pe(),o=Kt(),s=Nt();return gA(o,i,i[he],s,t,e,r),Ee}function pA(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[Oi],c=i[o+2];return a.length>c?a[c]:null}typeof s=="string"&&(o+=2)}return null}function gA(t,e,n,r,i,o,s){let a=td(r),l=t.firstCreatePass&&ET(t),u=e[Wt],d=wT(e),f=!0;if(r.type&3||s){let I=ct(r,e),R=s?s(I):I,j=d.length,ue=s?ke=>s(yt(ke[r.index])):r.index,oe=null;if(!s&&a&&(oe=pA(t,e,i,r.index)),oe!==null){let ke=oe.__ngLastListenerFn__||oe;ke.__ngNextListenerFn__=o,oe.__ngLastListenerFn__=o,f=!1}else{o=wm(r,e,u,o,!1);let ke=n.listen(R,i,o);d.push(o,ke),l&&l.push(i,ue,j,j+1)}}else o=wm(r,e,u,o,!1);let h=r.outputs,p;if(f&&h!==null&&(p=h[i])){let I=p.length;if(I)for(let R=0;R<I;R+=2){let j=p[R],ue=p[R+1],Vt=e[j][ue].subscribe(o),Me=d.length;d.push(o,Vt),l&&l.push(i,r.index,Me,-(Me+1))}}}function Im(t,e,n,r){let i=Q(null);try{return Ct(6,e,n),n(r)!==!1}catch(o){return Ey(t,o),!1}finally{Ct(7,e,n),Q(i)}}function wm(t,e,n,r,i){return function o(s){if(s===Function)return r;let a=t.componentOffset>-1?$n(t.index,e):e;Ad(a);let c=Im(e,n,r,s),l=o.__ngNextListenerFn__;for(;l;)c=Im(e,n,l,s)&&c,l=l.__ngNextListenerFn__;return i&&c===!1&&s.preventDefault(),c}}function mA(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function A(t,e=""){let n=pe(),r=Kt(),i=t+Re,o=r.firstCreatePass?Fa(r,i,1,e,null):r.data[i],s=Vy(r,n,o,e,t);n[i]=s,sd()&&Ed(r,n,s,o),Zi(o,!1)}var Vy=(t,e,n,r,i)=>(xt(!0),_d(e[he],r));function vA(t,e,n,r,i){let o=e[mt],s=!o||Qi()||to(n)||Ra(o,i);return xt(s),s?_d(e[he],r):Ua(o,t,e,n)}function yA(){Vy=vA}function O(t){return Wn("",t,""),O}function Wn(t,e,n){let r=pe(),i=VS(r,t,e,n);return i!==Hn&&bT(r,$r(),i),Wn}var _A=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=Km(!1,r.type),o=i.length>0?Ba([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=b({token:e,providedIn:"environment",factory:()=>new e(T(Qe))});let t=e;return t})();function $y(t){Br("NgStandalone"),t.getStandaloneInjector=e=>e.get(_A).getOrCreateStandaloneInjector(t)}function IA(t,e){let n=t[e];return n===Hn?void 0:n}function wA(t,e,n,r,i,o){let s=e+n;return Ha(t,s,i)?LS(t,s+1,o?r.call(o,i):r(i)):IA(t,s+1)}function L(t,e){let n=Kt(),r,i=t+Re;n.firstCreatePass?(r=EA(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Pn(r.type,!0)),s,a=Fe(re);try{let c=oa(!1),l=o();return oa(c),mA(n,pe(),i,l),l}finally{Fe(a)}}function EA(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function F(t,e,n){let r=t+Re,i=pe(),o=pD(i,r);return bA(i,r)?wA(i,TD(),e,o.transform,n,o):o.transform(n)}function bA(t,e){return t[$].data[e].pure}var Hs=null;function CA(t){Hs!==null&&(t.defaultEncapsulation!==Hs.defaultEncapsulation||t.preserveWhitespaces!==Hs.preserveWhitespaces)||(Hs=t)}var vn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},By=new vn("17.3.6"),za=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var Pd=new D(""),no=new D(""),Ga=(()=>{let e=class e{constructor(r,i,o){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,kd||(DA(o),o.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Y.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&this._pendingCount===0&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb()}});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>i.updateCb&&i.updateCb(r)?(clearTimeout(i.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,o){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==s),r()},i)),this._callbacks.push({doneCb:r,timeoutId:s,updateCb:o})}whenStable(r,i,o){if(o&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,o),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,o){return[]}};e.\u0275fac=function(i){return new(i||e)(T(Y),T(qa),T(no))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),qa=(()=>{let e=class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return kd?.findTestabilityInTree(this,r,i)??null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();function DA(t){kd=t}var kd;function ro(t){return!!t&&typeof t.then=="function"}function Hy(t){return!!t&&typeof t.subscribe=="function"}var Ka=new D(""),Wy=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=g(Ka,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(ro(s))r.push(s);else if(Hy(s)){let a=new Promise((c,l)=>{s.subscribe({complete:c,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Hr=new D("");function TA(){hg(()=>{throw new C(600,!1)})}function SA(t){return t.isBoundToModule}function AA(t,e,n){try{let r=n();return ro(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}function zy(t,e){return Array.isArray(e)?e.reduce(zy,t):w(w({},t),e)}var Qt=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=g(Pv),this.afterRenderEffectManager=g(Rd),this.externalTestViews=new Set,this.beforeRender=new Ne,this.afterTick=new Ne,this.componentTypes=[],this.components=[],this.isStable=g(eo).hasPendingTasks.pipe(W(r=>!r)),this._injector=g(Qe)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof ha;if(!this._injector.get(Wy).done){let h=!o&&Wm(r),p=!1;throw new C(405,p)}let a;o?a=r:a=this._injector.get($a).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let c=SA(a)?void 0:this._injector.get(mn),l=i||a.selector,u=a.create(Oe.NULL,[],l,c),d=u.location.nativeElement,f=u.injector.get(Pd,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),Ys(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this._tick(!0)}_tick(r){if(this._runningTick)throw new C(101,!1);let i=Q(null);try{this._runningTick=!0,this.detectChangesInAttachedViews(r)}catch(o){this.internalErrorHandler(o)}finally{this.afterTick.next(),this._runningTick=!1,Q(i)}}detectChangesInAttachedViews(r){let i=0,o=this.afterRenderEffectManager;for(;;){if(i===Cy)throw new C(103,!1);if(r){let s=i===0;this.beforeRender.next(s);for(let{_lView:a,notifyErrorHandler:c}of this._views)MA(a,s,c)}if(i++,o.executeInternalCallbacks(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Vu(s))&&(o.execute(),![...this.externalTestViews.keys(),...this._views].some(({_lView:s})=>Vu(s))))break}}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;Ys(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Hr,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>Ys(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new C(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function Ys(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var Ws;function Ld(t){Ws??=new WeakMap;let e=Ws.get(t);if(e)return e;let n=t.isStable.pipe(ht(r=>r)).toPromise().then(()=>{});return Ws.set(t,n),t.onDestroy(()=>Ws?.delete(t)),n}function MA(t,e,n){!e&&!Vu(t)||NA(t,n,e)}function Vu(t){return rd(t)}function NA(t,e,n){let r;n?(r=0,t[N]|=1024):t[N]&64?r=0:r=1,Dy(t,e,r)}var $u=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Ya=(()=>{let e=class e{compileModuleSync(r){return new va(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=zm(r),s=Jv(o.declarations).reduce((a,c)=>{let l=gn(c);return l&&a.push(new Ur(l)),a},[]);return new $u(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xA=new D("");function RA(t,e,n){let r=new va(n);return Promise.resolve(r)}function Em(t){for(let e=t.length-1;e>=0;e--)if(t[e]!==void 0)return t[e]}var OA=(()=>{let e=class e{constructor(){this.zone=g(Y),this.applicationRef=g(Qt)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function PA(t){return[{provide:Y,useFactory:t},{provide:kn,multi:!0,useFactory:()=>{let e=g(OA,{optional:!0});return()=>e.initialize()}},{provide:kn,multi:!0,useFactory:()=>{let e=g(FA);return()=>{e.initialize()}}},{provide:Pv,useFactory:kA}]}function kA(){let t=g(Y),e=g(St);return n=>t.runOutsideAngular(()=>e.handleError(n))}function LA(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var FA=(()=>{let e=class e{constructor(){this.subscription=new de,this.initialized=!1,this.zone=g(Y),this.pendingTasks=g(eo)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Y.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Y.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function jA(){return typeof $localize<"u"&&$localize.locale||_a}var Fd=new D("",{providedIn:"root",factory:()=>g(Fd,U.Optional|U.SkipSelf)||jA()});var Gy=new D(""),qy=(()=>{let e=class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){let o=lS(i?.ngZone,LA({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return o.run(()=>{let s=OS(r.moduleType,this.injector,PA(()=>o)),a=s.injector.get(St,null);return o.runOutsideAngular(()=>{let c=o.onError.subscribe({next:l=>{a.handleError(l)}});s.onDestroy(()=>{Ys(this._modules,s),c.unsubscribe()})}),AA(a,o,()=>{let c=s.injector.get(Wy);return c.runInitializers(),c.donePromise.then(()=>{let l=s.injector.get(Fd,_a);return uA(l||_a),this._moduleDoBootstrap(s),s})})})}bootstrapModule(r,i=[]){let o=zy({},i);return RA(this.injector,o,r).then(s=>this.bootstrapModuleFactory(s,o))}_moduleDoBootstrap(r){let i=r.injector.get(Qt);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(o=>i.bootstrap(o));else if(r.instance.ngDoBootstrap)r.instance.ngDoBootstrap(i);else throw new C(-403,!1);this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new C(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());let r=this._injector.get(Gy,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}};e.\u0275fac=function(i){return new(i||e)(T(Oe))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})(),Mi=null,Ky=new D("");function UA(t){if(Mi&&!Mi.get(Ky,!1))throw new C(400,!1);TA(),Mi=t;let e=t.get(qy);return BA(t),e}function jd(t,e,n=[]){let r=`Platform: ${e}`,i=new D(r);return(o=[])=>{let s=Yy();if(!s||s.injector.get(Ky,!1)){let a=[...n,...o,{provide:i,useValue:!0}];t?t(a):UA(VA(a,r))}return $A(i)}}function VA(t=[],e){return Oe.create({name:e,providers:[{provide:Da,useValue:"platform"},{provide:Gy,useValue:new Set([()=>Mi=null])},...t]})}function $A(t){let e=Yy();if(!e)throw new C(401,!1);return e}function Yy(){return Mi?.get(qy)??null}function BA(t){t.get(dd,null)?.forEach(n=>n())}var zn=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=HA;let t=e;return t})();function HA(t){return WA(Nt(),pe(),(t&16)===16)}function WA(t,e,n){if(qi(t)&&!n){let r=$n(t.index,e);return new Un(r,r)}else if(t.type&47){let r=e[st];return new Un(r,e)}return null}var Bu=class{constructor(){}supports(e){return ky(e)}create(e){return new Hu(e)}},zA=(t,e)=>e,Hu=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||zA}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<bm(r,i,o)?n:r,a=bm(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,u=c-i;if(l!=u){for(let f=0;f<l;f++){let h=f<o.length?o[f]:o[f]=0,p=h+f;u<=p&&p<l&&(o[f]=h+1)}let d=s.previousIndex;o[d]=u-l}}a!==c&&e(s,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!ky(e))throw new C(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,PS(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Wu(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Ia),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ia),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Wu=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},zu=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Ia=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new zu,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function bm(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function Cm(){return new Ud([new Bu])}var Ud=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||Cm()),deps:[[e,new Ku,new at]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new C(901,!1)}};e.\u0275prov=b({token:e,providedIn:"root",factory:Cm});let t=e;return t})();var Qy=jd(null,"core",[]),Zy=(()=>{let e=class e{constructor(r){}};e.\u0275fac=function(i){return new(i||e)(T(Qt))},e.\u0275mod=Xe({type:e}),e.\u0275inj=Je({});let t=e;return t})();var Dm=!1,GA=!1;function qA(){Dm||(Dm=!0,v0(),oA(),yA(),cA(),US(),TS(),eS(),rT(),hA())}function KA(t,e){return Ld(t)}function Jy(){return qt([{provide:$s,useFactory:()=>{let t=!0;return Si()&&(t=!!g(Bn,{optional:!0})?.get(zv,null)),t&&Br("NgHydration"),t}},{provide:kn,useValue:()=>{GA=!!g(E0,{optional:!0}),Si()&&g($s)&&(YA(),qA())},multi:!0},{provide:Yv,useFactory:()=>Si()&&g($s)},{provide:Hr,useFactory:()=>{if(Si()&&g($s)){let t=g(Qt),e=g(Oe);return()=>{KA(t,e).then(()=>{zT(t)})}}return()=>{}},multi:!0}])}function YA(){let t=Na(),e;for(let n of t.body.childNodes)if(n.nodeType===Node.COMMENT_NODE&&n.textContent?.trim()===g0){e=n;break}if(!e)throw new C(-507,!1)}function Xy(t){let e=gn(t);if(!e)return null;let n=new Ur(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var i_=null;function Gn(){return i_}function o_(t){i_??=t}var Qa=class{};var Pe=new D(""),Hd=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>g(XA),providedIn:"platform"});let t=e;return t})(),s_=new D(""),XA=(()=>{let e=class e extends Hd{constructor(){super(),this._doc=g(Pe),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Gn().getBaseHref(this._doc)}onPopState(r){let i=Gn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Gn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function Wd(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function e_(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Zt(t){return t&&t[0]!=="?"?"?"+t:t}var qn=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>g(zd),providedIn:"root"});let t=e;return t})(),a_=new D(""),zd=(()=>{let e=class e extends qn{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??g(Pe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return Wd(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Zt(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Zt(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Zt(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(T(Hd),T(a_,8))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),c_=(()=>{let e=class e extends qn{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(r){let i=Wd(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Zt(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Zt(s));a.length==0&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(T(Hd),T(a_,8))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),Wr=(()=>{let e=class e{constructor(r){this._subject=new xe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=nM(e_(t_(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Zt(i))}normalize(r){return e.stripTrailingSlash(tM(this._basePath,t_(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Zt(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Zt(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=Zt,e.joinWithSlash=Wd,e.stripTrailingSlash=e_,e.\u0275fac=function(i){return new(i||e)(T(qn))},e.\u0275prov=b({token:e,factory:()=>eM(),providedIn:"root"});let t=e;return t})();function eM(){return new Wr(T(qn))}function tM(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function t_(t){return t.replace(/\/index.html$/,"")}function nM(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function Gd(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Vd=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},l_=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new Vd(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let c=i.get(s);i.move(c,a),n_(c,o)}});for(let o=0,s=i.length;o<s;o++){let c=i.get(o).context;c.index=o,c.count=s,c.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);n_(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(re(Xi),re(Md),re(Ud))},e.\u0275dir=zi({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function n_(t,e){t.context.$implicit=e.item}function rM(t,e){return new C(2100,!1)}var u_=(()=>{let e=class e{transform(r){if(r==null)return null;if(typeof r!="string")throw rM(e,r);return r.toUpperCase()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275pipe=Ca({name:"uppercase",type:e,pure:!0,standalone:!0});let t=e;return t})();var Ja=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Xe({type:e}),e.\u0275inj=Je({});let t=e;return t})(),qd="browser",iM="server";function oM(t){return t===qd}function zr(t){return t===iM}var d_=(()=>{let e=class e{};e.\u0275prov=b({token:e,providedIn:"root",factory:()=>oM(g(et))?new $d(g(Pe),window):new Bd});let t=e;return t})(),$d=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=sM(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function sM(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Bd=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Za=class{};var ec=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=i.toLowerCase(),s=n.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=e.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let s=this.headers.get(n);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,s)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var I_=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(I_||{}),Kd=class{constructor(e,n=w_.Ok,r="OK"){this.headers=e.headers||new ec,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}};var tc=class t extends Kd{constructor(e={}){super(e),this.type=I_.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}};var w_=function(t){return t[t.Continue=100]="Continue",t[t.SwitchingProtocols=101]="SwitchingProtocols",t[t.Processing=102]="Processing",t[t.EarlyHints=103]="EarlyHints",t[t.Ok=200]="Ok",t[t.Created=201]="Created",t[t.Accepted=202]="Accepted",t[t.NonAuthoritativeInformation=203]="NonAuthoritativeInformation",t[t.NoContent=204]="NoContent",t[t.ResetContent=205]="ResetContent",t[t.PartialContent=206]="PartialContent",t[t.MultiStatus=207]="MultiStatus",t[t.AlreadyReported=208]="AlreadyReported",t[t.ImUsed=226]="ImUsed",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.Found=302]="Found",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.Unused=306]="Unused",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.LengthRequired=411]="LengthRequired",t[t.PreconditionFailed=412]="PreconditionFailed",t[t.PayloadTooLarge=413]="PayloadTooLarge",t[t.UriTooLong=414]="UriTooLong",t[t.UnsupportedMediaType=415]="UnsupportedMediaType",t[t.RangeNotSatisfiable=416]="RangeNotSatisfiable",t[t.ExpectationFailed=417]="ExpectationFailed",t[t.ImATeapot=418]="ImATeapot",t[t.MisdirectedRequest=421]="MisdirectedRequest",t[t.UnprocessableEntity=422]="UnprocessableEntity",t[t.Locked=423]="Locked",t[t.FailedDependency=424]="FailedDependency",t[t.TooEarly=425]="TooEarly",t[t.UpgradeRequired=426]="UpgradeRequired",t[t.PreconditionRequired=428]="PreconditionRequired",t[t.TooManyRequests=429]="TooManyRequests",t[t.RequestHeaderFieldsTooLarge=431]="RequestHeaderFieldsTooLarge",t[t.UnavailableForLegalReasons=451]="UnavailableForLegalReasons",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout",t[t.HttpVersionNotSupported=505]="HttpVersionNotSupported",t[t.VariantAlsoNegotiates=506]="VariantAlsoNegotiates",t[t.InsufficientStorage=507]="InsufficientStorage",t[t.LoopDetected=508]="LoopDetected",t[t.NotExtended=510]="NotExtended",t[t.NetworkAuthenticationRequired=511]="NetworkAuthenticationRequired",t}(w_||{});var cM=new D("");var h_="b",p_="h",g_="s",m_="st",v_="u",y_="rt",Xa=new D(""),lM=["GET","HEAD"];function uM(t,e){let d=g(Xa),{isCacheActive:n}=d,r=sg(d,["isCacheActive"]),{transferCache:i,method:o}=t;if(!n||o==="POST"&&!r.includePostRequests&&!i||o!=="POST"&&!lM.includes(o)||i===!1||r.filter?.(t)===!1)return e(t);let s=g(Bn),a=fM(t),c=s.get(a,null),l=r.includeHeaders;if(typeof i=="object"&&i.includeHeaders&&(l=i.includeHeaders),c){let{[h_]:f,[y_]:h,[p_]:p,[g_]:I,[m_]:R,[v_]:j}=c,ue=f;switch(h){case"arraybuffer":ue=new TextEncoder().encode(f).buffer;break;case"blob":ue=new Blob([f]);break}let oe=new ec(p);return M(new tc({body:ue,headers:oe,status:I,statusText:R,url:j}))}let u=zr(g(et));return e(t).pipe(fe(f=>{f instanceof tc&&u&&s.set(a,{[h_]:f.body,[p_]:dM(f.headers,l),[g_]:f.status,[m_]:f.statusText,[v_]:f.url||"",[y_]:t.responseType})}))}function dM(t,e){if(!e)return{};let n={};for(let r of e){let i=t.getAll(r);i!==null&&(n[r]=i)}return n}function __(t){return[...t.keys()].sort().map(e=>`${e}=${t.getAll(e)}`).join("&")}function fM(t){let{params:e,method:n,responseType:r,url:i}=t,o=__(e),s=t.serializeBody();s instanceof URLSearchParams?s=__(s):typeof s!="string"&&(s="");let a=[n,r,i,s,o].join("|"),c=hM(a);return c}function hM(t){let e=0;for(let n of t)e=Math.imul(31,e)+n.charCodeAt(0)<<0;return e+=2147483648,e.toString()}function E_(t){return[{provide:Xa,useFactory:()=>(Br("NgHttpTransferCache"),w({isCacheActive:!0},t))},{provide:cM,useValue:uM,multi:!0,deps:[Bn,Xa]},{provide:Hr,multi:!0,useFactory:()=>{let e=g(Qt),n=g(Xa);return()=>{Ld(e).then(()=>{n.isCacheActive=!1})}}}]}var Zd=class extends Qa{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Jd=class t extends Zd{static makeCurrent(){o_(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=pM();return n==null?null:gM(n)}resetBaseElement(){io=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Gd(document.cookie,e)}},io=null;function pM(){return io=io||document.querySelector("base"),io?io.getAttribute("href"):null}function gM(t){return new URL(t,document.baseURI).pathname}var Xd=class{addToWindow(e){Ke.getAngularTestability=(r,i=!0)=>{let o=e.findTestabilityInTree(r,i);if(o==null)throw new C(5103,!1);return o},Ke.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ke.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=Ke.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};Ke.frameworkStabilizers||(Ke.frameworkStabilizers=[]),Ke.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?Gn().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},mM=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),ef=new D(""),T_=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new C(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(T(ef),T(Y))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),nc=class{constructor(e){this._doc=e}},Yd="ng-app-id",S_=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=zr(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Yd}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(Yd),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(Yd,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(T(Pe),T(Ji),T(fd,8),T(et))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),Qd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},rf=/%COMP%/g,A_="%COMP%",vM=`_nghost-${A_}`,yM=`_ngcontent-${A_}`,_M=!0,IM=new D("",{providedIn:"root",factory:()=>_M});function wM(t){return yM.replace(rf,t)}function EM(t){return vM.replace(rf,t)}function M_(t,e){return e.map(n=>n.replace(rf,t))}var b_=(()=>{let e=class e{constructor(r,i,o,s,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=zr(c),this.defaultRenderer=new oo(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Tt.ShadowDom&&(i=ae(w({},i),{encapsulation:Tt.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof rc?o.applyToHost(r):o instanceof so&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case Tt.Emulated:s=new rc(l,u,i,this.appId,d,a,c,f);break;case Tt.ShadowDom:return new tf(l,u,r,i,a,c,this.nonce,f);default:s=new so(l,u,i,d,a,c,f);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(T(T_),T(S_),T(Ji),T(IM),T(Pe),T(et),T(Y),T(fd))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),oo=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Qd[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(C_(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(C_(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new C(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Qd[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Qd[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Gt.DashCase|Gt.Important)?e.style.setProperty(n,r,i&Gt.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Gt.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Gn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function C_(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var tf=class extends oo{constructor(e,n,r,i,o,s,a,c){super(e,o,s,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=M_(i.id,i.styles);for(let u of l){let d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},so=class extends oo{constructor(e,n,r,i,o,s,a,c){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?M_(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},rc=class extends so{constructor(e,n,r,i,o,s,a,c){let l=i+"-"+r.id;super(e,n,r,o,s,a,c,l),this.contentAttr=wM(l),this.hostAttr=EM(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},bM=(()=>{let e=class e extends nc{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(T(Pe))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})(),D_=["alt","control","meta","shift"],CM={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},DM={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},TM=(()=>{let e=class e extends nc{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Gn().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),D_.forEach(u=>{let d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=CM[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),D_.forEach(a=>{if(a!==o){let c=DM[a];c(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(T(Pe))},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})();function SM(){Jd.makeCurrent()}function AM(){return new St}function MM(){return $v(document),document}var NM=[{provide:et,useValue:qd},{provide:dd,useValue:SM,multi:!0},{provide:Pe,useFactory:MM,deps:[]}],N_=jd(Qy,"browser",NM),xM=new D(""),RM=[{provide:no,useClass:Xd,deps:[]},{provide:Pd,useClass:Ga,deps:[Y,qa,no]},{provide:Ga,useClass:Ga,deps:[Y,qa,no]}],OM=[{provide:Da,useValue:"root"},{provide:St,useFactory:AM,deps:[]},{provide:ef,useClass:bM,multi:!0,deps:[Pe,Y,et]},{provide:ef,useClass:TM,multi:!0,deps:[Pe]},b_,S_,T_,{provide:Vi,useExisting:b_},{provide:Za,useClass:mM,deps:[]},[]],x_=(()=>{let e=class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:Ji,useValue:r.appId}]}}};e.\u0275fac=function(i){return new(i||e)(T(xM,12))},e.\u0275mod=Xe({type:e}),e.\u0275inj=Je({providers:[...OM,...RM],imports:[Ja,Zy]});let t=e;return t})();var R_=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(T(Pe))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var nf=function(t){return t[t.NoHttpTransferCache=0]="NoHttpTransferCache",t[t.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",t}(nf||{});function O_(...t){let e=[],n=new Set,r=n.has(nf.HttpTransferCacheOptions);for(let{\u0275providers:i,\u0275kind:o}of t)n.add(o),i.length&&e.push(i);return qt([[],Jy(),n.has(nf.NoHttpTransferCache)||r?[]:E_({}),e])}var P="primary",Eo=Symbol("RouteTitle"),lf=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Qr(t){return new lf(t)}function PM(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function kM(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Rt(t[n],e[n]))return!1;return!0}function Rt(t,e){let n=t?uf(t):void 0,r=e?uf(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!H_(t[i],e[i]))return!1;return!0}function uf(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function H_(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function W_(t){return t.length>0?t[t.length-1]:null}function wn(t){return Ul(t)?t:ro(t)?ce(Promise.resolve(t)):M(t)}var LM={exact:G_,subset:q_},z_={exact:FM,subset:jM,ignored:()=>!0};function k_(t,e,n){return LM[n.paths](t.root,e.root,n.matrixParams)&&z_[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function FM(t,e){return Rt(t,e)}function G_(t,e,n){if(!Yn(t.segments,e.segments)||!sc(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!G_(t.children[r],e.children[r],n))return!1;return!0}function jM(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>H_(t[n],e[n]))}function q_(t,e,n){return K_(t,e,e.segments,n)}function K_(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Yn(i,n)||e.hasChildren()||!sc(i,n,r))}else if(t.segments.length===n.length){if(!Yn(t.segments,n)||!sc(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!q_(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Yn(t.segments,i)||!sc(t.segments,i,r)||!t.children[P]?!1:K_(t.children[P],e,o,r)}}function sc(t,e,n){return e.every((r,i)=>z_[n](t[i].parameters,r.parameters))}var yn=class{constructor(e=new X([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Qr(this.queryParams),this._queryParamMap}toString(){return $M.serialize(this)}},X=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ac(this)}},Kn=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Qr(this.parameters),this._parameterMap}toString(){return Q_(this)}};function UM(t,e){return Yn(t,e)&&t.every((n,r)=>Rt(n.parameters,e[r].parameters))}function Yn(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function VM(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===P&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==P&&(n=n.concat(e(i,r)))}),n}var bo=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>new po,providedIn:"root"});let t=e;return t})(),po=class{parse(e){let n=new ff(e);return new yn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${ao(e.root,!0)}`,r=WM(e.queryParams),i=typeof e.fragment=="string"?`#${BM(e.fragment)}`:"";return`${n}${r}${i}`}},$M=new po;function ac(t){return t.segments.map(e=>Q_(e)).join("/")}function ao(t,e){if(!t.hasChildren())return ac(t);if(e){let n=t.children[P]?ao(t.children[P],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==P&&r.push(`${i}:${ao(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=VM(t,(r,i)=>i===P?[ao(t.children[P],!1)]:[`${i}:${ao(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[P]!=null?`${ac(t)}/${n[0]}`:`${ac(t)}/(${n.join("//")})`}}function Y_(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ic(t){return Y_(t).replace(/%3B/gi,";")}function BM(t){return encodeURI(t)}function df(t){return Y_(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function cc(t){return decodeURIComponent(t)}function L_(t){return cc(t.replace(/\+/g,"%20"))}function Q_(t){return`${df(t.path)}${HM(t.parameters)}`}function HM(t){return Object.entries(t).map(([e,n])=>`;${df(e)}=${df(n)}`).join("")}function WM(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${ic(n)}=${ic(i)}`).join("&"):`${ic(n)}=${ic(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var zM=/^[^\/()?;#]+/;function of(t){let e=t.match(zM);return e?e[0]:""}var GM=/^[^\/()?;=#]+/;function qM(t){let e=t.match(GM);return e?e[0]:""}var KM=/^[^=?&#]+/;function YM(t){let e=t.match(KM);return e?e[0]:""}var QM=/^[^&#]+/;function ZM(t){let e=t.match(QM);return e?e[0]:""}var ff=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new X([],{}):new X([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[P]=new X(e,n)),r}parseSegment(){let e=of(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new C(4009,!1);return this.capture(e),new Kn(cc(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=qM(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=of(this.remaining);i&&(r=i,this.capture(r))}e[cc(n)]=cc(r)}parseQueryParam(e){let n=YM(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=ZM(this.remaining);s&&(r=s,this.capture(r))}let i=L_(n),o=L_(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=of(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new C(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=P);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[P]:new X([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new C(4011,!1)}};function Z_(t){return t.segments.length>0?new X([],{[P]:t}):t}function J_(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=J_(i);if(r===P&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new X(t.segments,e);return JM(n)}function JM(t){if(t.numberOfChildren===1&&t.children[P]){let e=t.children[P];return new X(t.segments.concat(e.segments),e.children)}return t}function Zr(t){return t instanceof yn}function XM(t,e,n=null,r=null){let i=X_(t);return eI(i,e,n,r)}function X_(t){let e;function n(o){let s={};for(let c of o.children){let l=n(c);s[c.outlet]=l}let a=new X(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=Z_(r);return e??i}function eI(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return sf(i,i,i,n,r);let o=eN(e);if(o.toRoot())return sf(i,i,new X([],{}),n,r);let s=tN(o,i,t),a=s.processChildren?uo(s.segmentGroup,s.index,o.commands):nI(s.segmentGroup,s.index,o.commands);return sf(i,s.segmentGroup,a,n,r)}function lc(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function go(t){return typeof t=="object"&&t!=null&&t.outlets}function sf(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`});let s;t===e?s=n:s=tI(t,e,n);let a=Z_(J_(s));return new yn(a,o,i)}function tI(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=tI(o,e,n)}),new X(t.segments,r)}var uc=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&lc(r[0]))throw new C(4003,!1);let i=r.find(go);if(i&&i!==W_(r))throw new C(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function eN(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new uc(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([c,l])=>{a[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,c)=>{c==0&&a==="."||(c==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new uc(n,e,r)}var Kr=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function tN(t,e,n){if(t.isAbsolute)return new Kr(e,!0,0);if(!n)return new Kr(e,!1,NaN);if(n.parent===null)return new Kr(n,!0,0);let r=lc(t.commands[0])?0:1,i=n.segments.length-1+r;return nN(n,i,t.numberOfDoubleDots)}function nN(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new C(4005,!1);i=r.segments.length}return new Kr(r,!1,i-o)}function rN(t){return go(t[0])?t[0].outlets:{[P]:t}}function nI(t,e,n){if(t??=new X([],{}),t.segments.length===0&&t.hasChildren())return uo(t,e,n);let r=iN(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new X(t.segments.slice(0,r.pathIndex),{});return o.children[P]=new X(t.segments.slice(r.pathIndex),t.children),uo(o,0,i)}else return r.match&&i.length===0?new X(t.segments,{}):r.match&&!t.hasChildren()?hf(t,e,n):r.match?uo(t,0,i):hf(t,e,n)}function uo(t,e,n){if(n.length===0)return new X(t.segments,{});{let r=rN(n),i={};if(Object.keys(r).some(o=>o!==P)&&t.children[P]&&t.numberOfChildren===1&&t.children[P].segments.length===0){let o=uo(t.children[P],e,n);return new X(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=nI(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new X(t.segments,i)}}function iN(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(go(a))break;let c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!j_(c,l,s))return o;r+=2}else{if(!j_(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function hf(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(go(o)){let c=oN(o.outlets);return new X(r,c)}if(i===0&&lc(n[0])){let c=t.segments[e];r.push(new Kn(c.path,F_(n[0]))),i++;continue}let s=go(o)?o.outlets[P]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&lc(a)?(r.push(new Kn(s,F_(a))),i+=2):(r.push(new Kn(s,{})),i++)}return new X(r,{})}function oN(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=hf(new X([],{}),0,r))}),e}function F_(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function j_(t,e,n){return t==n.path&&Rt(e,n.parameters)}var fo="imperative",be=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(be||{}),lt=class{constructor(e,n){this.id=e,this.url=n}},Jr=class extends lt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=be.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Jt=class extends lt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=be.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},nt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(nt||{}),dc=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(dc||{}),_n=class extends lt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=be.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},In=class extends lt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=be.NavigationSkipped}},mo=class extends lt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=be.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},fc=class extends lt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=be.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pf=class extends lt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=be.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gf=class extends lt{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=be.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},mf=class extends lt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=be.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vf=class extends lt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=be.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yf=class{constructor(e){this.route=e,this.type=be.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},_f=class{constructor(e){this.route=e,this.type=be.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},If=class{constructor(e){this.snapshot=e,this.type=be.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wf=class{constructor(e){this.snapshot=e,this.type=be.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ef=class{constructor(e){this.snapshot=e,this.type=be.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bf=class{constructor(e){this.snapshot=e,this.type=be.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hc=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=be.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},vo=class{},yo=class{constructor(e){this.url=e}};var Cf=class{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Co,this.attachRef=null}},Co=(()=>{let e=class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Cf,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),pc=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Df(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Df(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Tf(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Tf(e,this._root).map(n=>n.value)}};function Df(t,e){if(t===e.value)return e;for(let n of e.children){let r=Df(t,n);if(r)return r}return null}function Tf(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Tf(t,n);if(r.length)return r.unshift(e),r}return[]}var tt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function qr(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var gc=class extends pc{constructor(e,n){super(e),this.snapshot=n,Lf(this,e)}toString(){return this.snapshot.toString()}};function rI(t){let e=sN(t),n=new ve([new Kn("",{})]),r=new ve({}),i=new ve({}),o=new ve({}),s=new ve(""),a=new Xr(n,r,o,s,i,P,t,e.root);return a.snapshot=e.root,new gc(new tt(a,[]),e)}function sN(t){let e={},n={},r={},i="",o=new _o([],e,r,i,n,P,t,null,{});return new mc("",new tt(o,[]))}var Xr=class{constructor(e,n,r,i,o,s,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(W(l=>l[Eo]))??M(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(W(e=>Qr(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(W(e=>Qr(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function kf(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:w(w({},e.params),t.params),data:w(w({},e.data),t.data),resolve:w(w(w(w({},t.data),e.data),i?.data),t._resolvedData)}:r={params:w({},t.params),data:w({},t.data),resolve:w(w({},t.data),t._resolvedData??{})},i&&oI(i)&&(r.resolve[Eo]=i.title),r}var _o=class{get title(){return this.data?.[Eo]}constructor(e,n,r,i,o,s,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Qr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Qr(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},mc=class extends pc{constructor(e,n){super(n),this.url=e,Lf(this,n)}toString(){return iI(this._root)}};function Lf(t,e){e.value._routerState=t,e.children.forEach(n=>Lf(t,n))}function iI(t){let e=t.children.length>0?` { ${t.children.map(iI).join(", ")} } `:"";return`${t.value}${e}`}function af(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Rt(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Rt(e.params,n.params)||t.paramsSubject.next(n.params),kM(e.url,n.url)||t.urlSubject.next(n.url),Rt(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Sf(t,e){let n=Rt(t.params,e.params)&&UM(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Sf(t.parent,e.parent))}function oI(t){return typeof t.title=="string"||t.title===null}var aN=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=P,this.activateEvents=new xe,this.deactivateEvents=new xe,this.attachEvents=new xe,this.detachEvents=new xe,this.parentContexts=g(Co),this.location=g(Xi),this.changeDetector=g(zn),this.environmentInjector=g(Qe),this.inputBinder=g(wc,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new C(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new Af(r,c,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=zi({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Yi]});let t=e;return t})(),Af=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Xr?this.route:e===Co?this.childContexts:this.parent.get(e,n)}},wc=new D(""),U_=(()=>{let e=class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){let{activatedRoute:i}=r,o=Ti([i.queryParams,i.params,i.data]).pipe(qe(([s,a,c],l)=>(c=w(w(w({},s),a),c),l===0?M(c):Promise.resolve(c)))).subscribe(s=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(r);return}let a=Xy(i.component);if(!a){this.unsubscribeFromRouteData(r);return}for(let{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(r,o)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})();function cN(t,e,n){let r=Io(t,e._root,n?n._root:void 0);return new gc(r,e)}function Io(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=lN(t,e,n);return new tt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Io(t,a)),s}}let r=uN(e.value),i=e.children.map(o=>Io(t,o));return new tt(r,i)}}function lN(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Io(t,r,i);return Io(t,r)})}function uN(t){return new Xr(new ve(t.url),new ve(t.params),new ve(t.queryParams),new ve(t.fragment),new ve(t.data),t.outlet,t.component,t)}var sI="ngNavigationCancelingError";function aI(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Zr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=cI(!1,nt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function cI(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[sI]=!0,n.cancellationCode=e,n}function dN(t){return lI(t)&&Zr(t.url)}function lI(t){return!!t&&t[sI]}var fN=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ge({type:e,selectors:[["ng-component"]],standalone:!0,features:[$y],decls:1,vars:0,template:function(i,o){i&1&&S(0,"router-outlet")},dependencies:[aN],encapsulation:2});let t=e;return t})();function hN(t,e){return t.providers&&!t._injector&&(t._injector=Ba(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Ff(t){let e=t.children&&t.children.map(Ff),n=e?ae(w({},t),{children:e}):w({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==P&&(n.component=fN),n}function Ot(t){return t.outlet||P}function pN(t,e){let n=t.filter(r=>Ot(r)===e);return n.push(...t.filter(r=>Ot(r)!==e)),n}function Do(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var gN=(t,e,n,r)=>W(i=>(new Mf(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Mf=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),af(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=qr(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=qr(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=qr(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=qr(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new bf(o.value.snapshot))}),e.children.length&&this.forwardEvent(new wf(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(af(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),af(a.route.value),this.activateChildRoutes(e,null,s.children)}else{let a=Do(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,r)}},vc=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Yr=class{constructor(e,n){this.component=e,this.route=n}};function mN(t,e,n){let r=t._root,i=e?e._root:null;return co(r,i,n,[r.value])}function vN(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ti(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!Nm(t)?t:e.get(t):r}function co(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=qr(e);return t.children.forEach(s=>{yN(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>ho(a,n.getContext(s),i)),i}function yN(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let c=_N(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new vc(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?co(t,e,a?a.children:null,r,i):co(t,e,n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Yr(a.outlet.component,s))}else s&&ho(e,a,i),i.canActivateChecks.push(new vc(r)),o.component?co(t,null,a?a.children:null,r,i):co(t,null,n,r,i);return i}function _N(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Yn(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Yn(t.url,e.url)||!Rt(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Sf(t,e)||!Rt(t.queryParams,e.queryParams);case"paramsChange":default:return!Sf(t,e)}}function ho(t,e,n){let r=qr(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?ho(s,e.children.getContext(o),n):ho(s,null,n):ho(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Yr(e.outlet.component,i)):n.canDeactivateChecks.push(new Yr(null,i)):n.canDeactivateChecks.push(new Yr(null,i))}function To(t){return typeof t=="function"}function IN(t){return typeof t=="boolean"}function wN(t){return t&&To(t.canLoad)}function EN(t){return t&&To(t.canActivate)}function bN(t){return t&&To(t.canActivateChild)}function CN(t){return t&&To(t.canDeactivate)}function DN(t){return t&&To(t.canMatch)}function uI(t){return t instanceof Bt||t?.name==="EmptyError"}var oc=Symbol("INITIAL_VALUE");function ei(){return qe(t=>Ti(t.map(e=>e.pipe(Ht(1),Hl(oc)))).pipe(W(e=>{for(let n of e)if(n!==!0){if(n===oc)return oc;if(n===!1||n instanceof yn)return n}return!0}),Ge(e=>e!==oc),Ht(1)))}function TN(t,e){return me(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?M(ae(w({},n),{guardsResult:!0})):SN(s,r,i,t).pipe(me(a=>a&&IN(a)?AN(r,o,t,e):M(a)),W(a=>ae(w({},n),{guardsResult:a})))})}function SN(t,e,n,r){return ce(t).pipe(me(i=>ON(i.component,i.route,n,e,r)),ht(i=>i!==!0,!0))}function AN(t,e,n,r){return ce(e).pipe(ln(i=>Ar(NN(i.route.parent,r),MN(i.route,r),RN(t,i.path,n),xN(t,i.route,n))),ht(i=>i!==!0,!0))}function MN(t,e){return t!==null&&e&&e(new Ef(t)),M(!0)}function NN(t,e){return t!==null&&e&&e(new If(t)),M(!0)}function xN(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return M(!0);let i=r.map(o=>js(()=>{let s=Do(e)??n,a=ti(o,s),c=EN(a)?a.canActivate(e,t):At(s,()=>a(e,t));return wn(c).pipe(ht())}));return M(i).pipe(ei())}function RN(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>vN(s)).filter(s=>s!==null).map(s=>js(()=>{let a=s.guards.map(c=>{let l=Do(s.node)??n,u=ti(c,l),d=bN(u)?u.canActivateChild(r,t):At(l,()=>u(r,t));return wn(d).pipe(ht())});return M(a).pipe(ei())}));return M(o).pipe(ei())}function ON(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return M(!0);let s=o.map(a=>{let c=Do(e)??i,l=ti(a,c),u=CN(l)?l.canDeactivate(t,e,n,r):At(c,()=>l(t,e,n,r));return wn(u).pipe(ht())});return M(s).pipe(ei())}function PN(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return M(!0);let o=i.map(s=>{let a=ti(s,t),c=wN(a)?a.canLoad(e,n):At(t,()=>a(e,n));return wn(c)});return M(o).pipe(ei(),dI(r))}function dI(t){return xl(fe(e=>{if(Zr(e))throw aI(t,e)}),W(e=>e===!0))}function kN(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return M(!0);let o=i.map(s=>{let a=ti(s,t),c=DN(a)?a.canMatch(e,n):At(t,()=>a(e,n));return wn(c)});return M(o).pipe(ei(),dI(r))}var wo=class{constructor(e){this.segmentGroup=e||null}},yc=class extends Error{constructor(e){super(),this.urlTree=e}};function Gr(t){return Tr(new wo(t))}function LN(t){return Tr(new C(4e3,!1))}function FN(t){return Tr(cI(!1,nt.GuardRejected))}var Nf=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return M(r);if(i.numberOfChildren>1||!i.children[P])return LN(e.redirectTo);i=i.children[P]}}applyRedirectCommands(e,n,r){let i=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n.startsWith("/"))throw new yc(i);return i}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new yn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o.startsWith(":")){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(e,c,r,i)}),new X(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new C(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},xf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function jN(t,e,n,r,i){let o=jf(t,e,n);return o.matched?(r=hN(e,r),kN(r,e,n,i).pipe(W(s=>s===!0?o:w({},xf)))):M(o)}function jf(t,e,n){if(e.path==="**")return UN(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?w({},xf):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||PM)(n,t,e);if(!i)return w({},xf);let o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});let s=i.consumed.length>0?w(w({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function UN(t){return{matched:!0,parameters:t.length>0?W_(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function V_(t,e,n,r){return n.length>0&&BN(t,n,r)?{segmentGroup:new X(e,$N(r,new X(n,t.children))),slicedSegments:[]}:n.length===0&&HN(t,n,r)?{segmentGroup:new X(t.segments,VN(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new X(t.segments,t.children),slicedSegments:n}}function VN(t,e,n,r){let i={};for(let o of n)if(Ec(t,e,o)&&!r[Ot(o)]){let s=new X([],{});i[Ot(o)]=s}return w(w({},r),i)}function $N(t,e){let n={};n[P]=e;for(let r of t)if(r.path===""&&Ot(r)!==P){let i=new X([],{});n[Ot(r)]=i}return n}function BN(t,e,n){return n.some(r=>Ec(t,e,r)&&Ot(r)!==P)}function HN(t,e,n){return n.some(r=>Ec(t,e,r))}function Ec(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function WN(t,e,n,r){return Ot(t)!==r&&(r===P||!Ec(e,n,t))?!1:jf(e,t,n).matched}function zN(t,e,n){return e.length===0&&!t.children[n]}var Rf=class{};function GN(t,e,n,r,i,o,s="emptyOnly"){return new Of(t,e,n,r,i,s,o).recognize()}var qN=31,Of=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Nf(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new C(4002,`'${e.segmentGroup}'`)}recognize(){let e=V_(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(W(n=>{let r=new _o([],Object.freeze({}),Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,{},P,this.rootComponentType,null,{}),i=new tt(r,n),o=new mc("",i),s=XM(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root,null),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,P).pipe(cn(r=>{if(r instanceof yc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof wo?this.noMatchError(r):r}))}inheritParamsAndData(e,n){let r=e.value,i=kf(r,n,this.paramsInheritanceStrategy);r.params=Object.freeze(i.params),r.data=Object.freeze(i.data),e.children.forEach(o=>this.inheritParamsAndData(o,r))}processSegmentGroup(e,n,r,i){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0).pipe(W(o=>o instanceof tt?[o]:[]))}processChildren(e,n,r){let i=[];for(let o of Object.keys(r.children))o==="primary"?i.unshift(o):i.push(o);return ce(i).pipe(ln(o=>{let s=r.children[o],a=pN(n,o);return this.processSegmentGroup(e,a,s,o)}),Bl((o,s)=>(o.push(...s),o)),un(null),$l(),me(o=>{if(o===null)return Gr(r);let s=fI(o);return KN(s),M(s)}))}processSegment(e,n,r,i,o,s){return ce(n).pipe(ln(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,o,s).pipe(cn(c=>{if(c instanceof wo)return M(null);throw c}))),ht(a=>!!a),cn(a=>{if(uI(a))return zN(r,i,o)?M(new Rf):Gr(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,o,s,a){return WN(r,i,o,s)?r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s):Gr(i):Gr(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s){let{matched:a,consumedSegments:c,positionalParamSegments:l,remainingSegments:u}=jf(n,i,o);if(!a)return Gr(n);i.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>qN&&(this.allowRedirects=!1));let d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,l);return this.applyRedirects.lineralizeSegments(i,d).pipe(me(f=>this.processSegment(e,r,n,f.concat(u),s,!1)))}matchSegmentAgainstRoute(e,n,r,i,o){let s=jN(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(qe(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(qe(({routes:c})=>{let l=r._loadedInjector??e,{consumedSegments:u,remainingSegments:d,parameters:f}=a,h=new _o(u,f,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,QN(r),Ot(r),r.component??r._loadedComponent??null,r,ZN(r)),{segmentGroup:p,slicedSegments:I}=V_(n,u,d,c);if(I.length===0&&p.hasChildren())return this.processChildren(l,c,p).pipe(W(j=>j===null?null:new tt(h,j)));if(c.length===0&&I.length===0)return M(new tt(h,[]));let R=Ot(r)===o;return this.processSegment(l,c,p,I,R?P:o,!0).pipe(W(j=>new tt(h,j instanceof tt?[j]:[])))}))):Gr(n)))}getChildConfig(e,n,r){return n.children?M({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?M({routes:n._loadedRoutes,injector:n._loadedInjector}):PN(e,n,r,this.urlSerializer).pipe(me(i=>i?this.configLoader.loadChildren(e,n).pipe(fe(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):FN(n))):M({routes:[],injector:e})}};function KN(t){t.sort((e,n)=>e.value.outlet===P?-1:n.value.outlet===P?1:e.value.outlet.localeCompare(n.value.outlet))}function YN(t){let e=t.value.routeConfig;return e&&e.path===""}function fI(t){let e=[],n=new Set;for(let r of t){if(!YN(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=fI(r.children);e.push(new tt(r.value,i))}return e.filter(r=>!n.has(r))}function QN(t){return t.data||{}}function ZN(t){return t.resolve||{}}function JN(t,e,n,r,i,o){return me(s=>GN(t,e,n,r,s.extractedUrl,i,o).pipe(W(({state:a,tree:c})=>ae(w({},s),{targetSnapshot:a,urlAfterRedirects:c}))))}function XN(t,e){return me(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return M(n);let o=new Set(i.map(c=>c.route)),s=new Set;for(let c of o)if(!s.has(c))for(let l of hI(c))s.add(l);let a=0;return ce(s).pipe(ln(c=>o.has(c)?ex(c,r,t,e):(c.data=kf(c,c.parent,t).resolve,M(void 0))),fe(()=>a++),Nr(1),me(c=>a===s.size?M(n):ze))})}function hI(t){let e=t.children.map(n=>hI(n)).flat();return[t,...e]}function ex(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!oI(i)&&(o[Eo]=i.title),tx(o,t,e,r).pipe(W(s=>(t._resolvedData=s,t.data=kf(t,t.parent,n).resolve,null)))}function tx(t,e,n,r){let i=uf(t);if(i.length===0)return M({});let o={};return ce(i).pipe(me(s=>nx(t[s],e,n,r).pipe(ht(),fe(a=>{o[s]=a}))),Nr(1),Vl(o),cn(s=>uI(s)?ze:Tr(s)))}function nx(t,e,n,r){let i=Do(e)??r,o=ti(t,i),s=o.resolve?o.resolve(e,n):At(i,()=>o(e,n));return wn(s)}function cf(t){return qe(e=>{let n=t(e);return n?ce(n).pipe(W(()=>e)):M(e)})}var pI=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===P);return i}getResolvedTitleForRoute(r){return r.data[Eo]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>g(rx),providedIn:"root"});let t=e;return t})(),rx=(()=>{let e=class e extends pI{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(T(R_))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),So=new D("",{providedIn:"root",factory:()=>({})}),_c=new D(""),Uf=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=g(Ya)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return M(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=wn(r.loadComponent()).pipe(W(gI),fe(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Mr(()=>{this.componentLoaders.delete(r)})),o=new Er(i,()=>new Ne).pipe(wr());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return M({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=ix(i,this.compiler,r,this.onLoadEndListener).pipe(Mr(()=>{this.childrenLoaders.delete(i)})),a=new Er(s,()=>new Ne).pipe(wr());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ix(t,e,n,r){return wn(t.loadChildren()).pipe(W(gI),me(i=>i instanceof $i||Array.isArray(i)?M(i):ce(e.compileModuleAsync(i))),W(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(_c,[],{optional:!0,self:!0}).flat()),{routes:s.map(Ff),injector:o}}))}function ox(t){return t&&typeof t=="object"&&"default"in t}function gI(t){return ox(t)?t.default:t}var Vf=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>g(sx),providedIn:"root"});let t=e;return t})(),sx=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),mI=new D(""),vI=new D("");function ax(t,e,n){let r=t.get(vI),i=t.get(Pe);return t.get(Y).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,Promise.resolve();let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),cx(t))),{onViewTransitionCreated:c}=r;return c&&At(t,()=>c({transition:a,from:e,to:n})),s})}function cx(t){return new Promise(e=>{xd(e,{injector:t})})}var $f=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Ne,this.transitionAbortSubject=new Ne,this.configLoader=g(Uf),this.environmentInjector=g(Qe),this.urlSerializer=g(bo),this.rootContexts=g(Co),this.location=g(Wr),this.inputBindingEnabled=g(wc,{optional:!0})!==null,this.titleStrategy=g(pI),this.options=g(So,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=g(Vf),this.createViewTransition=g(mI,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>M(void 0),this.rootComponentType=null;let r=o=>this.events.next(new yf(o)),i=o=>this.events.next(new _f(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ae(w(w({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new ve({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:fo,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ge(s=>s.id!==0),W(s=>ae(w({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),qe(s=>{let a=!1,c=!1;return M(s).pipe(qe(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",nt.SupersededByNewNavigation),ze;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?ae(w({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!u&&d!=="reload"){let f="";return this.events.next(new In(l.id,this.urlSerializer.serialize(l.rawUrl),f,dc.IgnoredSameUrlNavigation)),l.resolve(null),ze}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return M(l).pipe(qe(f=>{let h=this.transitions?.getValue();return this.events.next(new Jr(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?ze:Promise.resolve(f)}),JN(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),fe(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=ae(w({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let h=new fc(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:f,extractedUrl:h,source:p,restoredState:I,extras:R}=l,j=new Jr(f,this.urlSerializer.serialize(h),p,I);this.events.next(j);let ue=rI(this.rootComponentType).snapshot;return this.currentTransition=s=ae(w({},l),{targetSnapshot:ue,urlAfterRedirects:h,extras:ae(w({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=h,M(s)}else{let f="";return this.events.next(new In(l.id,this.urlSerializer.serialize(l.extractedUrl),f,dc.IgnoredByUrlHandlingStrategy)),l.resolve(null),ze}}),fe(l=>{let u=new pf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),W(l=>(this.currentTransition=s=ae(w({},l),{guards:mN(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),TN(this.environmentInjector,l=>this.events.next(l)),fe(l=>{if(s.guardsResult=l.guardsResult,Zr(l.guardsResult))throw aI(this.urlSerializer,l.guardsResult);let u=new gf(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Ge(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",nt.GuardRejected),!1)),cf(l=>{if(l.guards.canActivateChecks.length)return M(l).pipe(fe(u=>{let d=new mf(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),qe(u=>{let d=!1;return M(u).pipe(XN(this.paramsInheritanceStrategy,this.environmentInjector),fe({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",nt.NoDataFromResolver)}}))}),fe(u=>{let d=new vf(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),cf(l=>{let u=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(fe(h=>{d.component=h}),W(()=>{})));for(let h of d.children)f.push(...u(h));return f};return Ti(u(l.targetSnapshot.root)).pipe(un(null),Ht(1))}),cf(()=>this.afterPreactivation()),qe(()=>{let{currentSnapshot:l,targetSnapshot:u}=s,d=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return d?ce(d).pipe(W(()=>s)):M(s)}),W(l=>{let u=cN(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=ae(w({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),fe(()=>{this.events.next(new vo)}),gN(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Ht(1),fe({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Jt(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Wl(this.transitionAbortSubject.pipe(fe(l=>{throw l}))),Mr(()=>{!a&&!c&&this.cancelNavigationTransition(s,"",nt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),cn(l=>{if(c=!0,lI(l))this.events.next(new _n(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),dN(l)?this.events.next(new yo(l.url)):s.resolve(!1);else{this.events.next(new mo(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(r.errorHandler(l))}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return ze}))}))}cancelNavigationTransition(r,i,o){let s=new _n(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function lx(t){return t!==fo}var ux=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>g(dx),providedIn:"root"});let t=e;return t})(),Pf=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},dx=(()=>{let e=class e extends Pf{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ld(e)))(o||e)}})(),e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),yI=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:()=>g(fx),providedIn:"root"});let t=e;return t})(),fx=(()=>{let e=class e extends yI{constructor(){super(...arguments),this.location=g(Wr),this.urlSerializer=g(bo),this.options=g(So,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=g(Vf),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new yn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=rI(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Jr)this.stateMemento=this.createStateMemento();else if(r instanceof In)this.rawUrlTree=i.initialUrl;else if(r instanceof fc){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(o,i)}}else r instanceof vo?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):r instanceof _n&&(r.code===nt.GuardRejected||r.code===nt.NoDataFromResolver)?this.restoreHistory(i):r instanceof mo?this.restoreHistory(i,!0):r instanceof Jt&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=w(w({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=w(w({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ld(e)))(o||e)}})(),e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),lo=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(lo||{});function _I(t,e){t.events.pipe(Ge(n=>n instanceof Jt||n instanceof _n||n instanceof mo||n instanceof In),W(n=>n instanceof Jt||n instanceof In?lo.COMPLETE:(n instanceof _n?n.code===nt.Redirect||n.code===nt.SupersededByNewNavigation:!1)?lo.REDIRECTING:lo.FAILED),Ge(n=>n!==lo.REDIRECTING),Ht(1)).subscribe(()=>{e()})}function hx(t){throw t}var px={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},gx={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Qn=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=g(za),this.stateManager=g(yI),this.options=g(So,{optional:!0})||{},this.pendingTasks=g(eo),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=g($f),this.urlSerializer=g(bo),this.location=g(Wr),this.urlHandlingStrategy=g(Vf),this._events=new Ne,this.errorHandler=this.options.errorHandler||hx,this.navigated=!1,this.routeReuseStrategy=g(ux),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=g(_c,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!g(wc,{optional:!0}),this.eventsSubscription=new de,this.isNgZoneEnabled=g(Y)instanceof Y&&Y.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof _n&&i.code!==nt.Redirect&&i.code!==nt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof Jt)this.navigated=!0;else if(i instanceof yo){let a=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),c={info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:this.urlUpdateStrategy==="eager"||lx(o.source)};this.scheduleNavigation(a,fo,null,c,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}vx(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),fo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=w({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(r);this.scheduleNavigation(c,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Ff),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a,d=null;switch(c){case"merge":d=w(w({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let h=o?o.snapshot:this.routerState.snapshot.root;f=X_(h)}catch{(typeof r[0]!="string"||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return eI(f,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=Zr(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,fo,null,i)}navigate(r,i={skipLocationChange:!1}){return mx(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=w({},px):i===!1?o=w({},gx):o=i,Zr(r))return k_(this.currentUrlTree,r,o);let s=this.parseUrl(r);return k_(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((f,h)=>{c=f,l=h});let d=this.pendingTasks.add();return _I(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function mx(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new C(4008,!1)}function vx(t){return!(t instanceof vo)&&!(t instanceof yo)}var Ic=class{};var yx=(()=>{let e=class e{constructor(r,i,o,s,a){this.router=r,this.injector=o,this.preloadingStrategy=s,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Ge(r=>r instanceof Jt),ln(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){let o=[];for(let s of i){s.providers&&!s._injector&&(s._injector=Ba(s.providers,r,`Route: ${s.path}`));let a=s._injector??r,c=s._loadedInjector??a;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&o.push(this.preloadConfig(a,s)),(s.children||s._loadedRoutes)&&o.push(this.processRoutes(c,s.children??s._loadedRoutes))}return ce(o).pipe(Sr())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let o;i.loadChildren&&i.canLoad===void 0?o=this.loader.loadChildren(r,i):o=M(null);let s=o.pipe(me(a=>a===null?M(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(i);return ce([s,a]).pipe(Sr())}else return s})}};e.\u0275fac=function(i){return new(i||e)(T(Qn),T(Ya),T(Qe),T(Ic),T(Uf))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),II=new D(""),_x=(()=>{let e=class e{constructor(r,i,o,s,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=o,this.zone=s,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof Jr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Jt?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof In&&r.code===dc.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof hc&&(r.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(r.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new hc(r,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}};e.\u0275fac=function(i){cy()},e.\u0275prov=b({token:e,factory:e.\u0275fac});let t=e;return t})();function Ix(t){return t.routerState.root}function Ao(t,e){return{\u0275kind:t,\u0275providers:e}}function wx(){let t=g(Oe);return e=>{let n=t.get(Qt);if(e!==n.components[0])return;let r=t.get(Qn),i=t.get(wI);t.get(Bf)===1&&r.initialNavigation(),t.get(EI,null,U.Optional)?.setUpPreloading(),t.get(II,null,U.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var wI=new D("",{factory:()=>new Ne}),Bf=new D("",{providedIn:"root",factory:()=>1});function Ex(){return Ao(2,[{provide:Bf,useValue:0},{provide:Ka,multi:!0,deps:[Oe],useFactory:e=>{let n=e.get(s_,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Qn),o=e.get(wI);_I(i,()=>{r(!0)}),e.get($f).afterPreactivation=()=>(r(!0),o.closed?M(void 0):o),i.initialNavigation()}))}}])}function bx(){return Ao(3,[{provide:Ka,multi:!0,useFactory:()=>{let e=g(Qn);return()=>{e.setUpLocationChangeListener()}}},{provide:Bf,useValue:2}])}var EI=new D("");function Cx(t){return Ao(0,[{provide:EI,useExisting:yx},{provide:Ic,useExisting:t}])}function Dx(){return Ao(8,[U_,{provide:wc,useExisting:U_}])}function Tx(t){let e=[{provide:mI,useValue:ax},{provide:vI,useValue:w({skipNextTransition:!!t?.skipInitialTransition},t)}];return Ao(9,e)}var $_=new D("ROUTER_FORROOT_GUARD"),Sx=[Wr,{provide:bo,useClass:po},Qn,Co,{provide:Xr,useFactory:Ix,deps:[Qn]},Uf,[]],Hf=(()=>{let e=class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[Sx,[],{provide:_c,multi:!0,useValue:r},{provide:$_,useFactory:xx,deps:[[Qn,new at,new Ku]]},{provide:So,useValue:i||{}},i?.useHash?Mx():Nx(),Ax(),i?.preloadingStrategy?Cx(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?Rx(i):[],i?.bindToComponentInputs?Dx().\u0275providers:[],i?.enableViewTransitions?Tx().\u0275providers:[],Ox()]}}static forChild(r){return{ngModule:e,providers:[{provide:_c,multi:!0,useValue:r}]}}};e.\u0275fac=function(i){return new(i||e)(T($_,8))},e.\u0275mod=Xe({type:e}),e.\u0275inj=Je({});let t=e;return t})();function Ax(){return{provide:II,useFactory:()=>{let t=g(d_),e=g(Y),n=g(So),r=g($f),i=g(bo);return n.scrollOffset&&t.setOffset(n.scrollOffset),new _x(i,r,t,e,n)}}}function Mx(){return{provide:qn,useClass:c_}}function Nx(){return{provide:qn,useClass:zd}}function xx(t){return"guarded"}function Rx(t){return[t.initialNavigation==="disabled"?bx().\u0275providers:[],t.initialNavigation==="enabledBlocking"?Ex().\u0275providers:[]]}var B_=new D("");function Ox(){return[{provide:B_,useFactory:wx},{provide:Hr,multi:!0,useExisting:B_}]}var Px=[],bI=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Xe({type:e}),e.\u0275inj=Je({imports:[Hf.forRoot(Px),Hf]});let t=e;return t})();var Wf={"navbar.button.home":"HOME","navbar.button.games":"GAMES","navbar.button.projects":"PROJECTS","navbar.button.services":"SERVICES","navbar.button.contacts":"CONTACTS","home.header.title":"Hola! I'm MIRO.\u{1F44B}","home.header.subtitle":"Computer Science Engineering Student & Software Engineer...","home.body.text":"I\u2019m a Computer Science Engineering student at the National School of Computer Science and a part-time Software Engineer at Expensya by Medius. I love using technology to create solutions that make a difference.Game development is my favorite hobby, and I enjoy building fun and immersive experiences. Join me on my journey as I combine my skills in software engineering and game development!","cards.button.text":"READ MORE ->","services.web.title":"Web Development","services.web.bodytext":"I can help you create the perfect responsive websites that are fast, easy to use, and built with best practices. With my expertise in full stack development, I can make something according to your needs.","services.game.title":"Game Development","services.game.bodytext":"I specialize in crafting immersive and responsive games, user-friendly, and built with industry best practices. With my expertise in game development, I can bring your vision to life and create something truly tailored to your needs.","services.skills.header":"MY SKILLS","services.skills.mean":"FULL STACK- MEAN","services.skills.game_engines":"GAME ENGINES AND DIVERSE TOOLS","contact.header.title":"Contact Me","contact.github.title":"GitHub:","contact.github.text":"-> My GitHub Profile","contact.linkedin.title":"LinkedIn:","contact.linkedin.text":"-> My LinkedIn Profile","contact.itchio.title":"Itch.io:","contact.itchio.text":"-> My Itch.io Profile","contact.youtube.title":"YouTube:","contact.youtube.text":"-> My YouTube Channel","contact.discord.title":"DISCORD:","contact.discord.text":"-> miro#3878","contact.gmail.title":"Email:","contact.gmail.text":"-> marwen.jlassi@ensi-uma.tn"};var CI={"navbar.button.home":"ACCUEIL","navbar.button.games":"JEUX","navbar.button.projects":"PROJETS","navbar.button.services":"SERVICES","navbar.button.contacts":"CONTACTS","home.header.title":"Hola! Je suis MIRO.\u{1F44B}","home.header.subtitle":"\xC9tudiant en Ing\xE9nierie Informatique & Ing\xE9nieur Logiciel...","home.body.text":"Je suis \xE9tudiant en Ing\xE9nierie Informatique \xE0 l'\xC9cole Nationale d'Informatique et ing\xE9nieur logiciel \xE0 temps partiel chez Expensya par Medius. J'adore utiliser la technologie pour cr\xE9er des solutions qui font la diff\xE9rence. Le d\xE9veloppement de jeux est mon passe-temps favori, et j'aime construire des exp\xE9riences amusantes et immersives. Rejoignez-moi dans mon parcours o\xF9 je combine mes comp\xE9tences en ing\xE9nierie logicielle et en d\xE9veloppement de jeux !","cards.button.text":"EN SAVOIR PLUS ->","services.web.title":"D\xE9veloppement Web","services.web.bodytext":"Je peux vous aider \xE0 cr\xE9er des sites web r\xE9actifs parfaits, rapides, faciles \xE0 utiliser et con\xE7us selon les meilleures pratiques. Avec mon expertise en d\xE9veloppement full stack, je peux r\xE9pondre \xE0 vos besoins.","services.game.title":"D\xE9veloppement de Jeux","services.game.bodytext":"Je suis sp\xE9cialis\xE9 dans la cr\xE9ation de jeux immersifs et r\xE9actifs, conviviaux et construits selon les meilleures pratiques de l'industrie. Gr\xE2ce \xE0 mon expertise en d\xE9veloppement de jeux, je peux concr\xE9tiser votre vision et cr\xE9er quelque chose v\xE9ritablement adapt\xE9 \xE0 vos besoins.","services.skills.header":"MES COMP\xC9TENCES","services.skills.mean":"FULL STACK- MEAN","services.skills.game_engines":"MOTEURS DE JEU ET OUTILS DIVERS","contact.header.title":"Contactez-moi","contact.github.title":"GitHub :","contact.github.text":"-> Mon profil GitHub","contact.linkedin.title":"LinkedIn :","contact.linkedin.text":"-> Mon profil LinkedIn","contact.itchio.title":"Itch.io :","contact.itchio.text":"-> Mon profil Itch.io","contact.youtube.title":"YouTube :","contact.youtube.text":"-> Ma cha\xEEne YouTube","contact.discord.title":"DISCORD :","contact.discord.text":"-> miro#3878","contact.gmail.title":"Email :","contact.gmail.text":"-> marwen.jlassi@ensi-uma.tn"};var DI={"navbar.button.home":"\u0627\u0644\u0635\u0641\u062D\u0629 \u0627\u0644\u0631\u0626\u064A\u0633\u064A\u0629","navbar.button.games":"\u0627\u0644\u0623\u0644\u0639\u0627\u0628","navbar.button.projects":"\u0627\u0644\u0645\u0634\u0627\u0631\u064A\u0639","navbar.button.services":"\u0627\u0644\u062E\u062F\u0645\u0627\u062A","navbar.button.contacts":"\u0627\u0644\u0627\u062A\u0635\u0627\u0644","home.header.title":"\u0645\u0631\u062D\u0628\u0627\u064B! \u0623\u0646\u0627 MIRO.\u{1F44B}","home.header.subtitle":"\u0637\u0627\u0644\u0628 \u0641\u064A \u0647\u0646\u062F\u0633\u0629 \u0627\u0644\u062D\u0627\u0633\u0648\u0628 \u0648 \u0645\u0647\u0646\u062F\u0633 \u0628\u0631\u0645\u062C\u064A\u0627\u062A...","home.body.text":"\u0623\u0646\u0627 \u0637\u0627\u0644\u0628 \u0641\u064A \u0647\u0646\u062F\u0633\u0629 \u0627\u0644\u062D\u0627\u0633\u0648\u0628 \u0641\u064A \u0627\u0644\u0645\u062F\u0631\u0633\u0629 \u0627\u0644\u0648\u0637\u0646\u064A\u0629 \u0644\u0644\u0645\u0639\u0644\u0648\u0645\u0627\u062A \u0648\u0623\u0646\u0627 \u0645\u0647\u0646\u062F\u0633 \u0628\u0631\u0645\u062C\u064A\u0627\u062A \u0628\u062F\u0648\u0627\u0645 \u062C\u0632\u0626\u064A \u0641\u064A Expensya \u0645\u0646 Medius. \u0623\u062D\u0628 \u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u0627\u0644\u062A\u0643\u0646\u0648\u0644\u0648\u062C\u064A\u0627 \u0644\u0625\u0646\u0634\u0627\u0621 \u062D\u0644\u0648\u0644 \u062A\u062D\u062F\u062B \u0641\u0631\u0642\u0627\u064B. \u062A\u0637\u0648\u064A\u0631 \u0627\u0644\u0623\u0644\u0639\u0627\u0628 \u0647\u0648 \u0647\u0648\u0627\u064A\u062A\u064A \u0627\u0644\u0645\u0641\u0636\u0644\u0629\u060C \u0648\u0623\u0633\u062A\u0645\u062A\u0639 \u0628\u0628\u0646\u0627\u0621 \u062A\u062C\u0627\u0631\u0628 \u0645\u0645\u062A\u0639\u0629 \u0648\u063A\u0627\u0645\u0631\u0629. \u0627\u0646\u0636\u0645 \u0625\u0644\u064A\u0651 \u0641\u064A \u0631\u062D\u0644\u062A\u064A \u062D\u064A\u062B \u0623\u062F\u0645\u062C \u0645\u0647\u0627\u0631\u0627\u062A\u064A \u0641\u064A \u0627\u0644\u0647\u0646\u062F\u0633\u0629 \u0627\u0644\u0628\u0631\u0645\u062C\u064A\u0629 \u0648\u062A\u0637\u0648\u064A\u0631 \u0627\u0644\u0623\u0644\u0639\u0627\u0628!","cards.button.text":"\u0627\u0642\u0631\u0623 \u0627\u0644\u0645\u0632\u064A\u062F ->","services.web.title":"\u062A\u0637\u0648\u064A\u0631 \u0627\u0644\u0645\u0648\u0627\u0642\u0639","services.web.bodytext":"\u064A\u0645\u0643\u0646\u0646\u064A \u0645\u0633\u0627\u0639\u062F\u062A\u0643 \u0641\u064A \u0625\u0646\u0634\u0627\u0621 \u0645\u0648\u0627\u0642\u0639 \u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A\u0629 \u0627\u0633\u062A\u062C\u0627\u0628\u0629 \u0648\u0633\u0631\u064A\u0639\u0629 \u0648\u0633\u0647\u0644\u0629 \u0627\u0644\u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u062A\u0645 \u0628\u0646\u0627\u0624\u0647\u0627 \u0648\u0641\u0642\u064B\u0627 \u0644\u0623\u0641\u0636\u0644 \u0627\u0644\u0645\u0645\u0627\u0631\u0633\u0627\u062A. \u0645\u0639 \u062E\u0628\u0631\u062A\u064A \u0641\u064A \u062A\u0637\u0648\u064A\u0631 \u0627\u0644\u0648\u064A\u0628 \u0627\u0644\u0643\u0627\u0645\u0644\u060C \u064A\u0645\u0643\u0646\u0646\u064A \u0625\u0646\u0634\u0627\u0621 \u0634\u064A\u0621 \u0648\u0641\u0642\u064B\u0627 \u0644\u0627\u062D\u062A\u064A\u0627\u062C\u0627\u062A\u0643.","services.game.title":"\u062A\u0637\u0648\u064A\u0631 \u0627\u0644\u0623\u0644\u0639\u0627\u0628","services.game.bodytext":"\u0623\u062A\u062E\u0635\u0635 \u0641\u064A \u0625\u0646\u0634\u0627\u0621 \u0623\u0644\u0639\u0627\u0628 \u063A\u0627\u0645\u0631\u0629 \u0648\u0627\u0633\u062A\u062C\u0627\u0628\u0629\u060C \u0633\u0647\u0644\u0629 \u0627\u0644\u0627\u0633\u062A\u062E\u062F\u0627\u0645\u060C \u0648\u0645\u0628\u0646\u064A\u0629 \u0648\u0641\u0642\u064B\u0627 \u0644\u0623\u0641\u0636\u0644 \u0627\u0644\u0645\u0645\u0627\u0631\u0633\u0627\u062A \u0641\u064A \u0627\u0644\u0635\u0646\u0627\u0639\u0629. \u0645\u0639 \u062E\u0628\u0631\u062A\u064A \u0641\u064A \u062A\u0637\u0648\u064A\u0631 \u0627\u0644\u0623\u0644\u0639\u0627\u0628\u060C \u064A\u0645\u0643\u0646\u0646\u064A \u062A\u062D\u0648\u064A\u0644 \u0631\u0624\u064A\u062A\u0643 \u0625\u0644\u0649 \u062D\u0642\u064A\u0642\u0629 \u0648\u0625\u0646\u0634\u0627\u0621 \u0634\u064A\u0621 \u0645\u062E\u0635\u0635 \u062A\u0645\u0627\u0645\u064B\u0627 \u0644\u0627\u062D\u062A\u064A\u0627\u062C\u0627\u062A\u0643.","services.skills.header":"\u0645\u0647\u0627\u0631\u0627\u062A\u064A","services.skills.mean":"FULL STACK- MEAN","services.skills.game_engines":"\u0645\u062D\u0631\u0643\u0627\u062A \u0627\u0644\u0623\u0644\u0639\u0627\u0628 \u0648\u0627\u0644\u0623\u062F\u0648\u0627\u062A \u0627\u0644\u0645\u062A\u0646\u0648\u0639\u0629","contact.header.title":"\u0627\u062A\u0635\u0644 \u0628\u064A","contact.github.title":"GitHub:","contact.github.text":"-> \u0645\u0644\u0641\u064A \u0639\u0644\u0649 GitHub","contact.linkedin.title":"LinkedIn:","contact.linkedin.text":"-> \u0645\u0644\u0641\u064A \u0639\u0644\u0649 LinkedIn","contact.itchio.title":"Itch.io:","contact.itchio.text":"-> \u0645\u0644\u0641\u064A \u0639\u0644\u0649 Itch.io","contact.youtube.title":"YouTube:","contact.youtube.text":"-> \u0642\u0646\u0627\u062A\u064A \u0639\u0644\u0649 YouTube","contact.discord.title":"DISCORD:","contact.discord.text":"-> miro#3878","contact.gmail.title":"\u0627\u0644\u0628\u0631\u064A\u062F \u0627\u0644\u0625\u0644\u0643\u062A\u0631\u0648\u0646\u064A:","contact.gmail.text":"-> marwen.jlassi@ensi-uma.tn"};var TI={"navbar.button.home":"INICIO","navbar.button.games":"JUEGOS","navbar.button.projects":"PROYECTOS","navbar.button.services":"SERVICIOS","navbar.button.contacts":"CONTACTOS","home.header.title":"\xA1Hola! Soy MIRO.\u{1F44B}","home.header.subtitle":"Estudiante de Ingenier\xEDa Inform\xE1tica & Ingeniero de Software...","home.body.text":"Soy estudiante de Ingenier\xEDa Inform\xE1tica en la Escuela Nacional de Inform\xE1tica y un Ingeniero de Software a tiempo parcial en Expensya por Medius. Me encanta usar la tecnolog\xEDa para crear soluciones que marcan la diferencia. El desarrollo de juegos es mi pasatiempo favorito, y disfruto construir experiencias divertidas e inmersivas. \xA1\xDAnete a m\xED en mi viaje donde combino mis habilidades en ingenier\xEDa de software y desarrollo de juegos!","cards.button.text":"LEER M\xC1S ->","services.web.title":"Desarrollo Web","services.web.bodytext":"Puedo ayudarte a crear sitios web responsivos perfectos, r\xE1pidos, f\xE1ciles de usar y construidos seg\xFAn las mejores pr\xE1cticas. Con mi experiencia en desarrollo full stack, puedo hacer algo seg\xFAn tus necesidades.","services.game.title":"Desarrollo de Juegos","services.game.bodytext":"Me especializo en la creaci\xF3n de juegos inmersivos y responsivos, f\xE1ciles de usar y construidos seg\xFAn las mejores pr\xE1cticas de la industria. Con mi experiencia en desarrollo de juegos, puedo hacer realidad tu visi\xF3n y crear algo verdaderamente adaptado a tus necesidades.","services.skills.header":"MIS HABILIDADES","services.skills.mean":"FULL STACK- MEAN","services.skills.game_engines":"MOTORES DE JUEGOS Y HERRAMIENTAS DIVERSAS","contact.header.title":"Cont\xE1ctame","contact.github.title":"GitHub:","contact.github.text":"-> Mi perfil de GitHub","contact.linkedin.title":"LinkedIn:","contact.linkedin.text":"-> Mi perfil de LinkedIn","contact.itchio.title":"Itch.io:","contact.itchio.text":"-> Mi perfil de Itch.io","contact.youtube.title":"YouTube:","contact.youtube.text":"-> Mi canal de YouTube","contact.discord.title":"DISCORD:","contact.discord.text":"-> miro#3878","contact.gmail.title":"Correo electr\xF3nico:","contact.gmail.text":"-> marwen.jlassi@ensi-uma.tn"};var bc=(()=>{let e=class e{constructor(){this.translations=Wf,this.currentLanguage="EN"}switchLanguage(r){switch(this.currentLanguage=r,r){case"EN":this.translations=Wf;break;case"FR":this.translations=CI;break;case"AR":this.translations=DI;break;case"ES":this.translations=TI;break}}translate(r){return this.translations[r]||r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var Ue=(()=>{let e=class e{constructor(){this.themeSubject=new ve("dark"),this.currentTheme=this.themeSubject.asObservable()}setTheme(r){this.themeSubject.next(r),document.body.className=r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var AI=(()=>{let e=class e{constructor(r){this.themeService=r,this.currentTheme="dark",this.themeService.currentTheme.subscribe(i=>{this.currentTheme=i})}toggleTheme(){let r=this.currentTheme==="light"?"dark":"light";this.themeService.setTheme(r)}};e.\u0275fac=function(i){return new(i||e)(re(Ue))},e.\u0275cmp=ge({type:e,selectors:[["app-theme"]],decls:2,vars:5,consts:[[1,"theme-toggle-btn",3,"click"]],template:function(i,o){i&1&&(v(0,"button",0),Ee("click",function(){return o.toggleTheme()}),A(1),y()),i&2&&(se("dark",o.currentTheme==="dark")("light",o.currentTheme==="light"),E(),Wn(" ",o.currentTheme==="dark"?"\u{1F31A}":"\u{1F31E}",`
`))},styles:[".theme-toggle-btn[_ngcontent-%COMP%]{color:#fff;height:50px;width:50px;margin:10px 20px;border-radius:50%;border:1px solid transparent;transition-duration:.3s;font-size:30px;position:fixed;top:80px;right:0;display:flex;justify-content:center;align-items:center;text-align:center}.theme-toggle-btn.dark[_ngcontent-%COMP%]{background-color:rgb(237,237,237,0,50);box-shadow:0 0 100px 20px #8d65c5}.theme-toggle-btn.light[_ngcontent-%COMP%]{background-color:#121212;box-shadow:0 0 100px 20px orange}.theme-toggle-btn[_ngcontent-%COMP%]:hover{transform:scale(1.2);cursor:pointer}@media screen and (max-width: 700px){.theme-toggle-btn[_ngcontent-%COMP%]{top:6%}}"]});let t=e;return t})();var Ve=(()=>{let e=class e{constructor(r){this.translationService=r}transform(r){return this.translationService.translate(r)}};e.\u0275fac=function(i){return new(i||e)(re(bc,16))},e.\u0275pipe=Ca({name:"translation",type:e,pure:!1});let t=e;return t})();var MI=(()=>{let e=class e{constructor(r,i){this.translation=r,this.cdr=i,this.isMenuOpen=!1,this.isDropdownOpen=!1,this.currentLanguage="EN"}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}scrollToElement(r){let i=document.getElementById(r);i&&i.scrollIntoView({behavior:"smooth",block:"start"}),this.toggleMenu()}toggleDropdown(){this.isDropdownOpen=!this.isDropdownOpen,console.log(this.isDropdownOpen)}switchLanguage(r){this.currentLanguage=r,this.translation.switchLanguage(r),this.cdr.detectChanges()}};e.\u0275fac=function(i){return new(i||e)(re(bc),re(zn))},e.\u0275cmp=ge({type:e,selectors:[["app-navbar"]],decls:40,vars:22,consts:[[1,"navbar"],[1,"container"],[1,"burger",3,"click"],[1,"nav-links"],[3,"click"],[1,"language-switch",3,"click"],[1,"dropbtn"],[1,"dropdown-content"]],template:function(i,o){i&1&&(v(0,"nav",0)(1,"div",1)(2,"div",2),Ee("click",function(){return o.toggleMenu()}),A(3,"\u2630"),S(4,"br"),y(),v(5,"ul",3)(6,"li")(7,"a",4),Ee("click",function(){return o.scrollToElement("home")}),A(8),L(9,"translation"),y()(),v(10,"li")(11,"a",4),Ee("click",function(){return o.scrollToElement("games")}),A(12),L(13,"translation"),y()(),v(14,"li")(15,"a",4),Ee("click",function(){return o.scrollToElement("projects")}),A(16),L(17,"translation"),y()(),v(18,"li")(19,"a",4),Ee("click",function(){return o.scrollToElement("services")}),A(20),L(21,"translation"),y()(),v(22,"li")(23,"a",4),Ee("click",function(){return o.scrollToElement("contact")}),A(24),L(25,"translation"),y()()()(),v(26,"div",5),Ee("click",function(){return o.toggleDropdown()}),v(27,"div",6),A(28),L(29,"uppercase"),y(),v(30,"div",7)(31,"div",4),Ee("click",function(){return o.switchLanguage("EN")}),A(32,"EN"),y(),v(33,"div",4),Ee("click",function(){return o.switchLanguage("AR")}),A(34,"AR"),y(),v(35,"div",4),Ee("click",function(){return o.switchLanguage("ES")}),A(36,"ES"),y(),v(37,"div",4),Ee("click",function(){return o.switchLanguage("FR")}),A(38,"FR"),y()()()(),S(39,"app-theme")),i&2&&(E(5),se("nav-active",o.isMenuOpen),E(3),O(F(9,10,"navbar.button.home")),E(4),O(F(13,12,"navbar.button.games")),E(4),O(F(17,14,"navbar.button.projects")),E(4),O(F(21,16,"navbar.button.services")),E(4),O(F(25,18,"navbar.button.contacts")),E(4),O(F(29,20,o.currentLanguage)),E(2),se("show",o.isDropdownOpen))},dependencies:[AI,u_,Ve],styles:[".navbar[_ngcontent-%COMP%]{background-color:#18181c;color:#fff;padding:0 20px;position:fixed;top:0%;width:100%;z-index:100}.navbar[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:flex;justify-content:end;align-items:center;width:95%}.nav-links[_ngcontent-%COMP%]{list-style:none;display:flex}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;display:flex;justify-content:end;margin:10px 20px;transition-duration:.3s;cursor:pointer}.nav-links[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{transform:scale(1.2)}.burger[_ngcontent-%COMP%]{display:none;cursor:pointer}.nav-active[_ngcontent-%COMP%]{display:flex!important}.language-switch[_ngcontent-%COMP%]{position:fixed;top:21px;right:30px;background-color:#fff3;padding:5px 10px;border-radius:5px;box-shadow:0 2px 5px #0000001a;cursor:pointer;transition-duration:.3s;z-index:1000}.language-switch[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.dropbtn[_ngcontent-%COMP%]{color:#fff;border:none;cursor:pointer}.dropdown-content[_ngcontent-%COMP%]{display:none;position:absolute;background-color:#fff;min-width:80px;box-shadow:0 2px 5px #0000001a;z-index:1;right:0;top:100%;padding:5px 0;border-radius:5px}.dropdown-content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{color:#000;padding:8px 10px;text-decoration:none;display:block;cursor:pointer}.dropdown-content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{background-color:#ddd;border-radius:5px}.dropdown-content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:active{background-color:#ccc}.language-switch[_ngcontent-%COMP%]   .dropdown-content[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{text-align:center}.show[_ngcontent-%COMP%]{display:block}@media screen and (max-width: 1400px){.navbar[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{width:90%}}@media screen and (max-width: 700px){.navbar[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{justify-content:space-between;align-items:flex-start;padding-bottom:10px;padding-top:10px}.nav-links[_ngcontent-%COMP%]{display:none;flex-direction:column}.burger[_ngcontent-%COMP%]{display:flex}.language-switch[_ngcontent-%COMP%]{top:5px}}"]});let t=e;return t})();var Te="img[_ngcontent-%COMP%]:hover{transform: scale(1.1);;box-shadow: 0 0px 10px #7f3089;}",Mo="img[_ngcontent-%COMP%]:hover{transform: scale(1.1);;box-shadow: 0 0px 10px white;}",NI=(()=>{let e=class e{constructor(r){this.themeService=r,this.currentTheme=""}ngOnInit(){this.themeService.currentTheme.subscribe(r=>{this.currentTheme=r})}};e.\u0275fac=function(i){return new(i||e)(re(Ue))},e.\u0275cmp=ge({type:e,selectors:[["app-me"]],decls:60,vars:13,consts:[[1,"container"],[2,"margin-top","100px"],[2,"width","30%","height","3px","background-color","rgba(255, 255, 255, 0.2)","margin-bottom","50px","border-radius","20px"],[2,"display","flex","justify-content","space-around","flex-wrap","wrap","width","100%","max-width","800px"],[2,"display","flex","justify-content","center","align-items","center","flex-direction","column","margin","10px"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2FC.png?alt=media&token=993f0aea-b405-464c-9a61-bc5301b9dfa3","alt","",2,"padding","10px","background-color","#00589d","height","100px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fc%2B%2B.png?alt=media&token=71f7e1c8-83e8-4a43-aff8-959ae4bc8be9","alt","",2,"padding","10px","background-color","#00589d","height","100px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fc%20sharp.png?alt=media&token=83d82f57-f615-4466-ba20-9e6477c2b938","alt","",2,"background-color","#360092","height","120px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fpython-programming-language.png?alt=media&token=65481f4c-fbb8-429f-8ffd-d01c139b83b4","alt","",2,"background-color","white","height","120px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fjava-logo-1.png?alt=media&token=619f306d-fed2-4bea-a072-b6bc037c6b87","alt","",2,"background-color","white","height","120px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fhtml5.png?alt=media&token=9d4072cb-2879-4a92-8087-72fec042a438","alt","",2,"padding","10px","background-color","white","height","100px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],[2,"display","flex","justify-content","center","align-items","center","flex-direction","column","margin","10px","width","120px"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2FCSS3_logo_and_wordmark.svg.png?alt=media&token=592343d8-c0ac-4ba1-9226-b6b5fcad6a1a","alt","",2,"padding","10px","background-color","white","height","100px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2FJavaScript-logo.png?alt=media&token=b6d47c0a-459c-47b5-9333-48b72d26a4a8","alt","",2,"background-color","white","height","120px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fphp.png?alt=media&token=6437753d-60e2-460d-aea8-07802c633e95","alt","",2,"background-color","#787cb4","height","120px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fmongodb.png?alt=media&token=5ba5ee09-8060-4c2f-92c6-f7db177deb62","alt","",2,"background-color","white","height","120px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fexpress.png?alt=media&token=c3d01d33-d6f5-4999-97b0-19078d79670c","alt","",2,"height","120px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fangular.png?alt=media&token=9b0d0167-06ac-416f-88d1-d762763ea2ea","alt","",2,"background-color","white","height","120px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fnode.jpg?alt=media&token=1059ff04-52d3-409a-8ff4-e669ff670039","alt","",2,"background-color","white","height","120px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],[2,"text-align","center","margin-top","100px"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Ftu3gt6ysfxq71.png?alt=media&token=0b34d9b7-b5c4-43c2-9a8d-ad946b27831a","alt","",2,"padding","10px","background-color","white","height","100px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2F1200px-Godot_icon.svg.png?alt=media&token=66447ee1-c980-49ea-b1cb-d0a74c9dfbd6","alt","",2,"padding","10px","background-color","white","height","100px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2FDakirby309-Simply-Styled-Blender.256.png?alt=media&token=363bc606-2584-4ff8-aa78-3e5e4a2ae50e","alt","",2,"padding","10px","background-color","white","height","100px","width","100px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fst%2Csmall%2C845x845-pad%2C1000x1000%2Cf8f8f8.jpg?alt=media&token=ada8b0f5-444d-430b-94fd-4a69b235de8e","alt","",2,"padding","10px","background-color","white","height","100px","width","100px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2F66c33251292331d29585d32632c3870651b66e01.png?alt=media&token=70c88db0-61a1-4f26-9d2a-49f54d2e2558","alt","",2,"padding","10px","background-color","white","height","100px","width","100px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fadobe-photoshop-logo-0.png?alt=media&token=3736c6ed-b507-4138-adbb-d732f116454d","alt","",2,"padding","10px","background-color","white","height","100px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fadobe-Illustrator-logo-0-1.png?alt=media&token=252ce809-ca49-43fd-8508-dbe4698ce099","alt","",2,"padding","10px","background-color","white","height","100px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fadobe-after-effects-logo-0.png?alt=media&token=187510d4-2d39-41e7-9316-165cf742e83e","alt","",2,"padding","10px","background-color","white","height","100px","border-radius","10px","transition-duration","0.3s","cursor","pointer"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2FPremiere-Pro-Logo-PNG-Vector.png?alt=media&token=00d35670-ffe2-4cec-a92a-a2f36456bb98","alt","",2,"padding","10px","background-color","white","height","100px","border-radius","10px","transition-duration","0.3s","cursor","pointer"]],template:function(i,o){i&1&&(v(0,"div",0)(1,"h1",1),A(2),L(3,"translation"),y(),S(4,"div",2),v(5,"div",3)(6,"div",4),S(7,"img",5),y(),v(8,"div",4),S(9,"img",6),y(),v(10,"div",4),S(11,"img",7),y(),v(12,"div",4),S(13,"img",8),y(),v(14,"div",4),S(15,"img",9),y(),v(16,"div",4),S(17,"img",10),y(),v(18,"div",11),S(19,"img",12),y(),v(20,"div",4),S(21,"img",13),y(),v(22,"div",4),S(23,"img",14),y()(),v(24,"h1",1),A(25),L(26,"translation"),y(),S(27,"div",2),v(28,"div",3)(29,"div",4),S(30,"img",15),y(),v(31,"div",4),S(32,"img",16),y(),v(33,"div",4),S(34,"img",17),y(),v(35,"div",4),S(36,"img",18),y()(),v(37,"h1",19),A(38),L(39,"translation"),y(),S(40,"div",2),v(41,"div",3)(42,"div",4),S(43,"img",20),y(),v(44,"div",4),S(45,"img",21),y(),v(46,"div",4),S(47,"img",22),y(),v(48,"div",4),S(49,"img",23),y(),v(50,"div",4),S(51,"img",24),y(),v(52,"div",4),S(53,"img",25),y(),v(54,"div",4),S(55,"img",26),y(),v(56,"div",4),S(57,"img",27),y(),v(58,"div",4),S(59,"img",28),y()()()),i&2&&(se("dark",o.currentTheme==="dark")("light",o.currentTheme==="light"),E(2),O(F(3,7,"services.skills.header")),E(23),O(F(26,9,"services.skills.mean")),E(13),O(F(39,11,"services.skills.game_engines")))},dependencies:[Ve],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;transition:background-color .5s ease,color .5s ease}.container.dark[_ngcontent-%COMP%]{background-color:#121212;color:#fff}.container.light[_ngcontent-%COMP%]{background-color:#fff;color:#121212}",Te,Te,Te,Mo,Mo,Mo,Mo,"img[_ngcontent-%COMP%]:hover{transform: scale(1.1);;box-shadow: 0 0p10pxpx white;}",Mo,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te,Te]});let t=e;return t})();var xI=(()=>{let e=class e{constructor(r){this.themeService=r,this.currentTheme=""}ngOnInit(){this.themeService.currentTheme.subscribe(r=>{this.currentTheme=r})}};e.\u0275fac=function(i){return new(i||e)(re(Ue))},e.\u0275cmp=ge({type:e,selectors:[["app-services"]],decls:25,vars:19,consts:[[1,"main"],[2,"text-align","center","margin-top","200px"],[2,"height","3px","background-color","rgba(255, 255, 255, 0.269)","width","300px","box-shadow","0px 1px 10px rgba(255, 255, 255, 0.2)","border-radius","20px"],[2,"margin-top","50px"],[1,"container",2,"display","flex","justify-content","space-around"],[1,"ox",2,"display","flex","justify-content","space-around","align-items","center","flex-direction","column","text-align","center","border-radius","20px","padding","5px"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fweb-icon-line-on-white-background-image-for-web-presentation-logo-icon-symbol-free-vector.jpg?alt=media&token=16f461ca-d61b-436c-80d8-fa81bfb39c3b","alt","",2,"border-radius","100%","height","100px"],[2,"width","90%","margin-top","-10px"],["src","https://firebasestorage.googleapis.com/v0/b/portfolio-5b93c.appspot.com/o/SKILLS%2Fistockphoto-1136667521-612x612.jpg?alt=media&token=20cce404-80ee-47a7-8946-db2f087a511e","alt","",2,"border-radius","100%","height","100px"]],template:function(i,o){i&1&&(v(0,"div",0)(1,"h1",1),A(2),L(3,"translation"),y(),S(4,"div",2)(5,"div",3),v(6,"div",4)(7,"div",5)(8,"div"),S(9,"img",6),y(),v(10,"h3"),A(11),L(12,"translation"),y(),v(13,"p",7),A(14),L(15,"translation"),y()(),v(16,"div",5)(17,"div"),S(18,"img",8),y(),v(19,"h3"),A(20),L(21,"translation"),y(),v(22,"p",7),A(23),L(24,"translation"),y()()()()),i&2&&(se("dark",o.currentTheme==="dark")("light",o.currentTheme==="light"),E(2),O(F(3,9,"navbar.button.services")),E(9),O(F(12,11,"services.web.title")),E(3),Wn(" ",F(15,13,"services.web.bodytext")," "),E(6),O(F(21,15,"services.game.title")),E(3),Wn(" ",F(24,17,"services.game.bodytext")," "))},dependencies:[Ve],styles:[".main[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-direction:column;align-items:center;flex-wrap:wrap;transition:background-color .5s ease,color .5s ease}.main.dark[_ngcontent-%COMP%]{background-color:#121212;color:#fff}.main.light[_ngcontent-%COMP%]{background-color:#fff;color:#121212}.ox[_ngcontent-%COMP%]{width:30%;transition-duration:.5s;cursor:pointer}.ox[_ngcontent-%COMP%]:hover{transform:scale(1.2);background-color:#ffffff1a;box-shadow:0 0 50px #ffffff1c}.ox[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transition-duration:.8s;margin-top:20px}.ox[_ngcontent-%COMP%]:hover   img[_ngcontent-%COMP%]{transform:rotate(10deg)}@media (max-width: 1000px){.container[_ngcontent-%COMP%]{flex-direction:column;justify-content:center;align-items:center}.ox[_ngcontent-%COMP%]{margin-top:10px;width:70%;margin-bottom:20px}}"]});let t=e;return t})();var RI=(()=>{let e=class e{constructor(r){this.themeService=r,this.currentTheme=""}ngOnInit(){this.themeService.currentTheme.subscribe(r=>{this.currentTheme=r})}};e.\u0275fac=function(i){return new(i||e)(re(Ue))},e.\u0275cmp=ge({type:e,selectors:[["app-contact"]],decls:48,vars:67,consts:[[1,"container"],[2,"height","3px","background-color","rgba(255, 255, 255, 0.269)","width","300px","box-shadow","0px 1px 10px rgba(255, 255, 255, 0.2)","border-radius","20px"],["href","https://github.com/MiroJlassi","target","_blank"],["href","https://www.linkedin.com/in/marwen-jlassi-297467221/","target","_blank"],["href","https://mirojlassi.itch.io/","target","_blank"],["href","https://www.youtube.com/channel/UCKtqfo_KBwgT3ywYlzyhfTg","target","_blank"],["href","mailto:marwen.jlassi@ensi-uma.tn"]],template:function(i,o){i&1&&(v(0,"div",0)(1,"h1"),A(2),L(3,"translation"),y(),S(4,"div",1),v(5,"ul")(6,"li")(7,"strong"),A(8),L(9,"translation"),y(),v(10,"a",2),A(11),L(12,"translation"),y()(),v(13,"li")(14,"strong"),A(15),L(16,"translation"),y(),v(17,"a",3),A(18),L(19,"translation"),y()(),v(20,"li")(21,"strong"),A(22),L(23,"translation"),y(),v(24,"a",4),A(25),L(26,"translation"),y()(),v(27,"li")(28,"strong"),A(29),L(30,"translation"),y(),v(31,"a",5),A(32),L(33,"translation"),y()(),v(34,"li")(35,"strong"),A(36),L(37,"translation"),y(),v(38,"a"),A(39),L(40,"translation"),y()(),v(41,"li")(42,"strong"),A(43),L(44,"translation"),y(),v(45,"a",6),A(46),L(47,"translation"),y()()()()),i&2&&(se("dark",o.currentTheme==="dark")("light",o.currentTheme==="light"),E(2),O(F(3,41,"navbar.button.contacts")),E(6),O(F(9,43,"contact.github.title")),E(2),se("dark",o.currentTheme==="dark")("light",o.currentTheme==="light"),E(),O(F(12,45,"contact.github.text")),E(4),O(F(16,47,"contact.linkedin.title")),E(2),se("dark",o.currentTheme==="dark")("light",o.currentTheme==="light"),E(),O(F(19,49,"contact.linkedin.text")),E(4),O(F(23,51,"contact.itchio.title")),E(2),se("dark",o.currentTheme==="dark")("light",o.currentTheme==="light"),E(),O(F(26,53,"contact.itchio.text")),E(4),O(F(30,55,"contact.youtube.title")),E(2),se("dark",o.currentTheme==="dark")("light",o.currentTheme==="light"),E(),O(F(33,57,"contact.youtube.text")),E(4),O(F(37,59,"contact.discord.title")),E(2),se("dark",o.currentTheme==="dark")("light",o.currentTheme==="light"),E(),O(F(40,61,"contact.discord.text")),E(4),O(F(44,63,"contact.gmail.title")),E(2),se("dark",o.currentTheme==="dark")("light",o.currentTheme==="light"),E(),O(F(47,65,"contact.gmail.text")))},dependencies:[Ve],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;margin:0 auto;padding:20px;transition:background-color .5s ease,color .5s ease}.container.dark[_ngcontent-%COMP%]{background-color:#121212;color:#fff}.container.light[_ngcontent-%COMP%]{background-color:#fff;color:#121212}h1[_ngcontent-%COMP%]{margin-top:200px;text-align:center}h1.dark[_ngcontent-%COMP%]{color:#fff}h1.light[_ngcontent-%COMP%]{color:#000}ul[_ngcontent-%COMP%]{list-style-type:none;padding:0;margin:20px 0;width:90%;max-width:800px}li[_ngcontent-%COMP%]{margin-bottom:15px}a[_ngcontent-%COMP%]{display:block;text-decoration:none;border:2px solid transparent;border-radius:10px;padding:15px;transition:transform .3s ease,border-color .3s ease;transition-duration:.3s;margin:10px}a.dark[_ngcontent-%COMP%]{color:#ffffff84}a.light[_ngcontent-%COMP%]{color:#00000084}a.light[_ngcontent-%COMP%]:hover{border-color:#00000084}a.dark[_ngcontent-%COMP%]:hover{border-color:#ffffff84}a[_ngcontent-%COMP%]:hover{transform:scale(1.1)}"]});let t=e;return t})();var OI=(()=>{let e=class e{scrollToElement(r){let i=document.getElementById(r);i&&i.scrollIntoView({behavior:"smooth",block:"start"})}constructor(r){this.themeService=r,this.currentTheme=""}ngOnInit(){this.themeService.currentTheme.subscribe(r=>{this.currentTheme=r})}};e.\u0275fac=function(i){return new(i||e)(re(Ue))},e.\u0275cmp=ge({type:e,selectors:[["app-home"]],decls:12,vars:13,consts:[[1,"container"],[1,"elements"],[1,"arrow-container"],[1,"arrow",3,"click"]],template:function(i,o){i&1&&(v(0,"div",0)(1,"h1"),A(2),L(3,"translation"),y(),v(4,"h2",1),A(5),L(6,"translation"),y(),v(7,"p",1),A(8),L(9,"translation"),y(),v(10,"div",2)(11,"div",3),Ee("click",function(){return o.scrollToElement("games")}),y()()()),i&2&&(se("dark",o.currentTheme==="dark")("light",o.currentTheme==="light"),E(2),O(F(3,7,"home.header.title")),E(3),O(F(6,9,"home.header.subtitle")),E(3),O(F(9,11,"home.body.text")))},dependencies:[Ve],styles:[".container[_ngcontent-%COMP%]{height:100vh;display:flex;justify-content:center;align-items:center;flex-direction:column;transition:background-color .5s ease,color .5s ease}.container.dark[_ngcontent-%COMP%]{background-color:#121212;color:#fff}.container.light[_ngcontent-%COMP%]{background-color:#fff;color:#121212}.elements[_ngcontent-%COMP%]{width:80%;text-align:center}.arrow-container[_ngcontent-%COMP%]{position:relative;width:50px;height:50px}.arrow[_ngcontent-%COMP%]{position:absolute;margin-top:20px;top:0;left:50%;transform:translate(-50%);width:0;height:0;border-left:30px solid transparent;border-right:30px solid transparent;border-top:30px solid #ffffff91;animation:_ngcontent-%COMP%_arrowAnimation .8s infinite alternate;transition-duration:.5s}.arrow[_ngcontent-%COMP%]:hover{border-left:35px solid transparent;border-right:35px solid transparent;border-top:35px solid white;cursor:pointer}@keyframes _ngcontent-%COMP%_arrowAnimation{0%{transform:translate(-50%) translateY(0)}to{transform:translate(-50%) translateY(10px)}}"]});let t=e;return t})();var Gf={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var m=function(t,e){if(!t)throw er(e)},er=function(t){return new Error("Firebase Database ("+Gf.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};var kI=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},$x=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],c=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Dc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0,u=o>>2,d=(o&3)<<4|a>>4,f=(a&15)<<2|l>>6,h=l&63;c||(h=64,s||(f=64)),r.push(n[u],n[d],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(kI(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):$x(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let d=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||d==null)throw new qf;let f=o<<2|a>>4;if(r.push(f),l!==64){let h=a<<4&240|l>>2;if(r.push(h),d!==64){let p=l<<6&192|d;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},qf=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Yf=function(t){let e=kI(t);return Dc.encodeByteArray(e,!0)},No=function(t){return Yf(t).replace(/\./g,"")},xo=function(t){try{return Dc.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function LI(t){return FI(void 0,t)}function FI(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(let n in e)!e.hasOwnProperty(n)||!Bx(n)||(t[n]=FI(t[n],e[n]));return t}function Bx(t){return t!=="__proto__"}function Hx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Wx=()=>Hx().__FIREBASE_DEFAULTS__,zx=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Gx=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&xo(t[1]);return e&&JSON.parse(e)},Qf=()=>{try{return Wx()||zx()||Gx()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},jI=t=>{var e,n;return(n=(e=Qf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},UI=t=>{let e=jI(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Zf=()=>{var t;return(t=Qf())===null||t===void 0?void 0:t.config},VI=t=>{var e;return(e=Qf())===null||e===void 0?void 0:e[`_${t}`]};var Xn=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function $I(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[No(JSON.stringify(n)),No(JSON.stringify(s)),""].join(".")}function It(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ro(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())}function BI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HI(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Tc(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kt(){return Gf.NODE_CLIENT===!0||Gf.NODE_ADMIN===!0}function WI(){try{return typeof indexedDB=="object"}catch{return!1}}function zI(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var qx="FirebaseError",Pt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=qx,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xt.prototype.create)}},Xt=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Kx(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Pt(i,a,r)}};function Kx(t,e){return t.replace(Yx,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Yx=/\{\$([^}]+)}/g;function ni(t){return JSON.parse(t)}function _e(t){return JSON.stringify(t)}var GI=function(t){let e={},n={},r={},i="";try{let o=t.split(".");e=ni(xo(o[0])||""),n=ni(xo(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};var qI=function(t){let e=GI(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},KI=function(t){let e=GI(t).claims;return typeof e=="object"&&e.admin===!0};function Lt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function tr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Sc(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Oo(t,e,n){let r={};for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Po(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(PI(o)&&PI(s)){if(!Po(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function PI(t){return t!==null&&typeof t=="object"}function ko(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}var Cc=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);let r=this.W_;if(typeof e=="string")for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){let f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],c=this.chain_[4],l,u;for(let d=0;d<80;d++){d<40?d<20?(l=a^o&(s^a),u=1518500249):(l=o^s^a,u=1859775393):d<60?(l=o&s|a&(o|s),u=2400959708):(l=o^s^a,u=3395469782);let f=(i<<5|i>>>27)+l+c+u+r[d]&4294967295;c=a,a=s,s=(o<<30|o>>>2)&4294967295,o=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);let r=n-this.blockSize,i=0,o=this.buf_,s=this.inbuf_;for(;i<n;){if(s===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(o[s]=e.charCodeAt(i),++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}else for(;i<n;)if(o[s]=e[i],++s,++i,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=n}digest(){let e=[],n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let o=24;o>=0;o-=8)e[r]=this.chain_[i]>>o&255,++r;return e}};function YI(t,e){let n=new Kf(t,e);return n.subscribe.bind(n)}var Kf=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Qx(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=zf),i.error===void 0&&(i.error=zf),i.complete===void 0&&(i.complete=zf);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Qx(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function zf(){}function Jf(t,e){return`${t} failed: ${e} argument `}var QI=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){let o=i-55296;r++,m(r<t.length,"Surrogate pair missing trail surrogate.");let s=t.charCodeAt(r)-56320;i=65536+(o<<10)+s}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Lo=function(t){let e=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};var bH=4*60*60*1e3;function Ft(t){return t&&t._delegate?t._delegate:t}var ut=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var nr="[DEFAULT]";var Ac=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Xn;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Jx(e))try{this.getOrInitializeService({instanceIdentifier:nr})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=nr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=nr){return this.instances.has(e)}getOptions(e=nr){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Zx(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=nr){return this.component?this.component.multipleInstances?e:nr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Zx(t){return t===nr?void 0:t}function Jx(t){return t.instantiationMode==="EAGER"}var Fo=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Ac(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var Xx=[],ee=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ee||{}),eR={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},tR=ee.INFO,nR={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},rR=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=nR[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},En=class{constructor(e){this.name=e,this._logLevel=tR,this._logHandler=rR,this._userLogHandler=null,Xx.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...e),this._logHandler(this,ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...e),this._logHandler(this,ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...e),this._logHandler(this,ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...e),this._logHandler(this,ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...e),this._logHandler(this,ee.ERROR,...e)}};var iR=(t,e)=>e.some(n=>t instanceof n),ZI,JI;function oR(){return ZI||(ZI=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sR(){return JI||(JI=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var XI=new WeakMap,eh=new WeakMap,ew=new WeakMap,Xf=new WeakMap,nh=new WeakMap;function aR(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(jt(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&XI.set(n,t)}).catch(()=>{}),nh.set(e,t),e}function cR(t){if(eh.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});eh.set(t,e)}var th={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return eh.get(t);if(e==="objectStoreNames")return t.objectStoreNames||ew.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jt(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function tw(t){th=t(th)}function lR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Mc(this),e,...n);return ew.set(r,e.sort?e.sort():[e]),jt(r)}:sR().includes(t)?function(...e){return t.apply(Mc(this),e),jt(XI.get(this))}:function(...e){return jt(t.apply(Mc(this),e))}}function uR(t){return typeof t=="function"?lR(t):(t instanceof IDBTransaction&&cR(t),iR(t,oR())?new Proxy(t,th):t)}function jt(t){if(t instanceof IDBRequest)return aR(t);if(Xf.has(t))return Xf.get(t);let e=uR(t);return e!==t&&(Xf.set(t,e),nh.set(e,t)),e}var Mc=t=>nh.get(t);function rw(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=jt(s);return r&&s.addEventListener("upgradeneeded",c=>{r(jt(s.result),c.oldVersion,c.newVersion,jt(s.transaction),c)}),n&&s.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var dR=["get","getKey","getAll","getAllKeys","count"],fR=["put","add","delete","clear"],rh=new Map;function nw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(rh.get(e))return rh.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=fR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||dR.includes(n)))return;let o=function(s,...a){return _(this,null,function*(){let c=this.transaction(s,i?"readwrite":"readonly"),l=c.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&c.done]))[0]})};return rh.set(e,o),o}tw(t=>ae(w({},t),{get:(e,n,r)=>nw(e,n)||t.get(e,n,r),has:(e,n)=>!!nw(e,n)||t.has(e,n)}));var oh=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(hR(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function hR(t){let e=t.getComponent();return e?.type==="VERSION"}var sh="@firebase/app",iw="0.10.13";var en=new En("@firebase/app"),pR="@firebase/app-compat",gR="@firebase/analytics-compat",mR="@firebase/analytics",vR="@firebase/app-check-compat",yR="@firebase/app-check",_R="@firebase/auth",IR="@firebase/auth-compat",wR="@firebase/database",ER="@firebase/data-connect",bR="@firebase/database-compat",CR="@firebase/functions",DR="@firebase/functions-compat",TR="@firebase/installations",SR="@firebase/installations-compat",AR="@firebase/messaging",MR="@firebase/messaging-compat",NR="@firebase/performance",xR="@firebase/performance-compat",RR="@firebase/remote-config",OR="@firebase/remote-config-compat",PR="@firebase/storage",kR="@firebase/storage-compat",LR="@firebase/firestore",FR="@firebase/vertexai-preview",jR="@firebase/firestore-compat",UR="firebase",VR="10.14.1";var ah="[DEFAULT]",$R={[sh]:"fire-core",[pR]:"fire-core-compat",[mR]:"fire-analytics",[gR]:"fire-analytics-compat",[yR]:"fire-app-check",[vR]:"fire-app-check-compat",[_R]:"fire-auth",[IR]:"fire-auth-compat",[wR]:"fire-rtdb",[ER]:"fire-data-connect",[bR]:"fire-rtdb-compat",[CR]:"fire-fn",[DR]:"fire-fn-compat",[TR]:"fire-iid",[SR]:"fire-iid-compat",[AR]:"fire-fcm",[MR]:"fire-fcm-compat",[NR]:"fire-perf",[xR]:"fire-perf-compat",[RR]:"fire-rc",[OR]:"fire-rc-compat",[PR]:"fire-gcs",[kR]:"fire-gcs-compat",[LR]:"fire-fst",[jR]:"fire-fst-compat",[FR]:"fire-vertex","fire-js":"fire-js",[UR]:"fire-js-all"};var jo=new Map,BR=new Map,ch=new Map;function ow(t,e){try{t.container.addComponent(e)}catch(n){en.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Cn(t){let e=t.name;if(ch.has(e))return en.debug(`There were multiple attempts to register component ${e}.`),!1;ch.set(e,t);for(let n of jo.values())ow(n,t);for(let n of BR.values())ow(n,t);return!0}function fh(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ri(t){return t.settings!==void 0}var HR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},bn=new Xt("app","Firebase",HR);var lh=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ut("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw bn.create("app-deleted",{appName:this._name})}};var ii=VR;function hh(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:ah,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw bn.create("bad-app-name",{appName:String(i)});if(n||(n=Zf()),!n)throw bn.create("no-options");let o=jo.get(i);if(o){if(Po(n,o.options)&&Po(r,o.config))return o;throw bn.create("duplicate-app",{appName:i})}let s=new Fo(i);for(let c of ch.values())s.addComponent(c);let a=new lh(n,r,s);return jo.set(i,a),a}function Vo(t=ah){let e=jo.get(t);if(!e&&t===ah&&Zf())return hh();if(!e)throw bn.create("no-app",{appName:t});return e}function Nc(){return Array.from(jo.values())}function Ce(t,e,n){var r;let i=(r=$R[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),en.warn(a.join(" "));return}Cn(new ut(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var WR="firebase-heartbeat-database",zR=1,Uo="firebase-heartbeat-store",ih=null;function lw(){return ih||(ih=rw(WR,zR,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Uo)}catch(n){console.warn(n)}}}}).catch(t=>{throw bn.create("idb-open",{originalErrorMessage:t.message})})),ih}function GR(t){return _(this,null,function*(){try{let n=(yield lw()).transaction(Uo),r=yield n.objectStore(Uo).get(uw(t));return yield n.done,r}catch(e){if(e instanceof Pt)en.warn(e.message);else{let n=bn.create("idb-get",{originalErrorMessage:e?.message});en.warn(n.message)}}})}function sw(t,e){return _(this,null,function*(){try{let r=(yield lw()).transaction(Uo,"readwrite");yield r.objectStore(Uo).put(e,uw(t)),yield r.done}catch(n){if(n instanceof Pt)en.warn(n.message);else{let r=bn.create("idb-set",{originalErrorMessage:n?.message});en.warn(r.message)}}})}function uw(t){return`${t.name}!${t.options.appId}`}var qR=1024,KR=30*24*60*60*1e3,uh=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new dh(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=aw();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=KR}),this._storage.overwrite(this._heartbeatsCache))}catch(r){en.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=aw(),{heartbeatsToSend:r,unsentEntries:i}=YR(this._heartbeatsCache.heartbeats),o=No(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return en.warn(n),""}})}};function aw(){return new Date().toISOString().substring(0,10)}function YR(t,e=qR){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),cw(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),cw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var dh=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return WI()?zI().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield GR(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return sw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return sw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function cw(t){return No(JSON.stringify({version:2,heartbeats:t})).length}function QR(t){Cn(new ut("platform-logger",e=>new oh(e),"PRIVATE")),Cn(new ut("heartbeat",e=>new uh(e),"PRIVATE")),Ce(sh,iw,t),Ce(sh,iw,"esm2017"),Ce("fire-js","")}QR("");var ZR="firebase",JR="10.14.1";Ce(ZR,JR,"app");var si=new vn("ANGULARFIRE2_VERSION");function gh(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Bo=(t,e)=>{let n=e?[e]:Nc(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},$o=class{constructor(){return Bo(XR)}},XR="app-check";function oi(){}var xc=class{zone;delegate;constructor(e,n=Fl){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},ph=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",oi,{},oi,oi)),n.pipe(fe({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ho=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new xc(Zone.current)),this.insideAngular=n.run(()=>new xc(Zone.current,Ll)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(T(Y))};static \u0275prov=b({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Rc(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function eO(t){return Rc().ngZone.runOutsideAngular(()=>t())}function rr(t){return Rc().ngZone.run(()=>t())}function tO(t){return nO(Rc())(t)}function nO(t){return function(n){return n=n.lift(new ph(t.ngZone)),n.pipe(an(t.outsideAngular),sn(t.insideAngular))}}var rO=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),rr(()=>t.apply(void 0,r))},ir=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=rr(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",oi,{},oi,oi))),r[o]=rO(r[o],n));let i=eO(()=>t.apply(this,r));if(!e)if(i instanceof K){let o=Rc();return i.pipe(an(o.outsideAngular),sn(o.insideAngular))}else return rr(()=>i);return i instanceof K?i.pipe(tO):i instanceof Promise?rr(()=>new Promise((o,s)=>i.then(a=>rr(()=>o(a)),a=>rr(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:rr(()=>i)};var or=class{constructor(e){return e}},Wo=class{constructor(){return Nc()}};function iO(t){return t&&t.length===1?t[0]:new or(Vo())}var mh=new D("angularfire2._apps"),oO={provide:or,useFactory:iO,deps:[[new at,mh]]},sO={provide:Wo,deps:[[new at,mh]]};function aO(t){return(e,n)=>{let r=n.get(et);Ce("angularfire",si.full,"core"),Ce("angularfire",si.full,"app"),Ce("angular",By.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new or(i)}}function dw(t,...e){return qt([oO,sO,{provide:mh,useFactory:aO(t),multi:!0,deps:[Y,Oe,Ho,...e]}])}var fw=ir(hh,!0);function Iw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var ww=Iw,Ew=new Xt("auth","Firebase",Iw());var Lc=new En("@firebase/auth");function cO(t,...e){Lc.logLevel<=ee.WARN&&Lc.warn(`Auth (${ii}): ${t}`,...e)}function Pc(t,...e){Lc.logLevel<=ee.ERROR&&Lc.error(`Auth (${ii}): ${t}`,...e)}function hw(t,...e){throw Ah(t,...e)}function Sh(t,...e){return Ah(t,...e)}function bw(t,e,n){let r=Object.assign(Object.assign({},ww()),{[e]:n});return new Xt("auth","Firebase",r).create(e,{appName:t.name})}function kc(t){return bw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ah(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Ew.create(t,...e)}function Z(t,e,...n){if(!t)throw Ah(e,...n)}function zo(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Pc(e),new Error(e)}function Fc(t,e){t||zo(e)}function lO(){return pw()==="http:"||pw()==="https:"}function pw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function uO(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(lO()||HI()||"connection"in navigator)?navigator.onLine:!0}function dO(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ar=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Fc(n>e,"Short delay should be less than long delay!"),this.isMobile=Ro()||Tc()}get(){return uO()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function fO(t,e){Fc(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var jc=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;zo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;zo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;zo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var hO={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var pO=new ar(3e4,6e4);function Cw(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Bc(o,s,a,c){return _(this,arguments,function*(t,e,n,r,i={}){return Dw(t,i,()=>_(this,null,function*(){let l={},u={};r&&(e==="GET"?u=r:l={body:JSON.stringify(r)});let d=ko(Object.assign({key:t.config.apiKey},u)).slice(1),f=yield t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);let h=Object.assign({method:e,headers:f},l);return BI()||(h.referrerPolicy="no-referrer"),jc.fetch()(Tw(t,t.config.apiHost,n,d),h)}))})}function Dw(t,e,n){return _(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},hO),e);try{let i=new _h(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Oc(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[c,l]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Oc(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Oc(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw Oc(t,"user-disabled",s);let u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw bw(t,u,l);hw(t,u)}}catch(i){if(i instanceof Pt)throw i;hw(t,"network-request-failed",{message:String(i)})}})}function Tw(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?fO(t.config,i):`${t.config.apiScheme}://${i}`}var _h=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Sh(this.auth,"network-request-failed")),pO.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Oc(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Sh(t,e,r);return i.customData._tokenResponse=n,i}function gO(t,e){return _(this,null,function*(){return Bc(t,"POST","/v1/accounts:delete",e)})}function Sw(t,e){return _(this,null,function*(){return Bc(t,"POST","/v1/accounts:lookup",e)})}function Go(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Mh(t,e=!1){return _(this,null,function*(){let n=Ft(t),r=yield n.getIdToken(e),i=Aw(r);Z(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Go(vh(i.auth_time)),issuedAtTime:Go(vh(i.iat)),expirationTime:Go(vh(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function vh(t){return Number(t)*1e3}function Aw(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Pc("JWT malformed, contained fewer than 3 sections"),null;try{let i=xo(n);return i?JSON.parse(i):(Pc("Failed to decode base64 JWT payload"),null)}catch(i){return Pc("Caught error parsing JWT payload as JSON",i?.toString()),null}}function gw(t){let e=Aw(t);return Z(e,"internal-error"),Z(typeof e.exp<"u","internal-error"),Z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ih(t,e,n=!1){return _(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Pt&&mO(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function mO({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var wh=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),n)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Ko=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Go(this.lastLoginAt),this.creationTime=Go(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Uc(t){return _(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Ih(t,Sw(n,{idToken:r}));Z(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Mw(o.providerUserInfo):[],a=vO(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,u=c?l:!1,d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Ko(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(t,d)})}function Nh(t){return _(this,null,function*(){let e=Ft(t);yield Uc(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function vO(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Mw(t){return t.map(e=>{var{providerId:n}=e,r=jl(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function yO(t,e){return _(this,null,function*(){let n=yield Dw(t,{},()=>_(this,null,function*(){let r=ko({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=Tw(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",jc.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function _O(t,e){return _(this,null,function*(){return Bc(t,"POST","/v2/accounts:revokeToken",Cw(t,e))})}var qo=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Z(e.idToken,"internal-error"),Z(typeof e.idToken<"u","internal-error"),Z(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Z(e.length!==0,"internal-error");let n=gw(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return _(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield yO(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(Z(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Z(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Z(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return zo("not implemented")}};function Dn(t,e){Z(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Yo=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=jl(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Ko(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let n=yield Ih(this,this.stsTokenManager.getToken(this.auth,e));return Z(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Mh(this,e)}reload(){return Nh(this)}_assign(e){this!==e&&(Z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Uc(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(ri(this.auth.app))return Promise.reject(kc(this.auth));let e=yield this.getIdToken();return yield Ih(this,gO(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,c,l,u;let d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,h=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,p=(s=n.photoURL)!==null&&s!==void 0?s:void 0,I=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(c=n._redirectEventId)!==null&&c!==void 0?c:void 0,j=(l=n.createdAt)!==null&&l!==void 0?l:void 0,ue=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:oe,emailVerified:ke,isAnonymous:Vt,providerData:Me,stsTokenManager:$t}=n;Z(oe&&$t,e,"internal-error");let Ei=qo.fromJSON(this.name,$t);Z(typeof oe=="string",e,"internal-error"),Dn(d,e.name),Dn(f,e.name),Z(typeof ke=="boolean",e,"internal-error"),Z(typeof Vt=="boolean",e,"internal-error"),Dn(h,e.name),Dn(p,e.name),Dn(I,e.name),Dn(R,e.name),Dn(j,e.name),Dn(ue,e.name);let bi=new t({uid:oe,auth:e,email:f,emailVerified:ke,displayName:d,isAnonymous:Vt,photoURL:p,phoneNumber:h,tenantId:I,stsTokenManager:Ei,createdAt:j,lastLoginAt:ue});return Me&&Array.isArray(Me)&&(bi.providerData=Me.map(wl=>Object.assign({},wl))),R&&(bi._redirectEventId=R),bi}static _fromIdTokenResponse(e,n,r=!1){return _(this,null,function*(){let i=new qo;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Uc(o),o})}static _fromGetAccountInfoResponse(e,n,r){return _(this,null,function*(){let i=n.users[0];Z(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?Mw(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new qo;a.updateFromIdToken(r);let c=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Ko(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(c,l),c})}};var mw=new Map;function sr(t){Fc(t instanceof Function,"Expected a class definition");let e=mw.get(t);return e?(Fc(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,mw.set(t,e),e)}var IO=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(n,r){return _(this,null,function*(){this.storage[n]=r})}_get(n){return _(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return _(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Eh=IO;function yh(t,e,n){return`firebase:${t}:${e}:${n}`}var Vc=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=yh(this.userKey,i.apiKey,o),this.fullPersistenceKey=yh("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Yo._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return _(this,null,function*(){if(!n.length)return new t(sr(Eh),e,r);let i=(yield Promise.all(n.map(l=>_(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||sr(Eh),s=yh(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let u=yield l._get(s);if(u){let d=Yo._fromJSON(e,u);l!==o&&(a=d),o=l;break}}catch{}let c=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!c.length?new t(o,e,r):(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>_(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function vw(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(CO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(wO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(TO(e))return"Blackberry";if(SO(e))return"Webos";if(EO(e))return"Safari";if((e.includes("chrome/")||bO(e))&&!e.includes("edge/"))return"Chrome";if(DO(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function wO(t=It()){return/firefox\//i.test(t)}function EO(t=It()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function bO(t=It()){return/crios\//i.test(t)}function CO(t=It()){return/iemobile/i.test(t)}function DO(t=It()){return/android/i.test(t)}function TO(t=It()){return/blackberry/i.test(t)}function SO(t=It()){return/webos/i.test(t)}function Nw(t,e=[]){let n;switch(t){case"Browser":n=vw(It());break;case"Worker":n=`${vw(It())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ii}/${r}`}var bh=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let c=e(o);s(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function AO(n){return _(this,arguments,function*(t,e={}){return Bc(t,"GET","/v2/passwordPolicy",Cw(t,e))})}var MO=6,Ch=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:MO,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(n=c.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(r=c.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(i=c.containsLowercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsUppercaseLetter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(s=c.containsNumericCharacter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Dh=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $c(this),this.idTokenSubscription=new $c(this),this.beforeStateQueue=new bh(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ew,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=sr(n)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Vc.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let n=yield Sw(this,{idToken:e}),r=yield Yo._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var n;if(ri(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,c=yield this.tryRedirectSignIn(e);(!s||s===a)&&c?.user&&(i=c.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield Uc(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=dO()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(ri(this.app))return Promise.reject(kc(this));let n=e?Ft(e):null;return n&&Z(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return _(this,null,function*(){if(!this._deleted)return e&&Z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return ri(this.app)?Promise.reject(kc(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return ri(this.app)?Promise.reject(kc(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(sr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield AO(this),n=new Ch(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Xt("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield _O(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&sr(e)||this._popupRedirectResolver;Z(n,this,"argument-error"),this.redirectPersistenceManager=yield Vc.create(this,[sr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Z(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let c=e.addObserver(n,r,i);return()=>{s=!0,c()}}else{let c=e.addObserver(n);return()=>{s=!0,c()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Nw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return _(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&cO(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function NO(t){return Ft(t)}var $c=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=YI(n=>this.observer=n)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var xO={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function RO(t){xO=t}function OO(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function PO(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(sr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}var I3=OO("rcb"),w3=new ar(3e4,6e4);var E3=new ar(2e3,1e4);var b3=10*60*1e3;var C3=new ar(3e4,6e4);var D3=new ar(5e3,15e3);var T3=encodeURIComponent("fac");var yw="@firebase/auth",_w="1.7.9";var Th=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function kO(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function LO(t){Cn(new ut("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Z(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let c={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Nw(t)},l=new Dh(r,i,o,c);return PO(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Cn(new ut("auth-internal",e=>{let n=NO(e.getProvider("auth").getImmediate());return(r=>new Th(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ce(yw,_w,kO(t)),Ce(yw,_w,"esm2017")}var FO=5*60,S3=VI("authIdTokenMaxAge")||FO;function jO(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}RO({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Sh("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",jO().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});LO("Browser");var FP="auth";var Hc=class{constructor(){return Bo(FP)}};var xw="@firebase/database",Rw="1.0.8";var kp="";function jP(t){kp=t}var jh=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),_e(n))}get(e){let n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:ni(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var Uh=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Lt(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var dE=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){let e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new jh(e)}}catch{}return new Uh},lr=dE("localStorage"),Vh=dE("sessionStorage");var ui=new En("@firebase/database"),UP=function(){let t=1;return function(){return t++}}(),fE=function(t){let e=QI(t),n=new Cc;n.update(e);let r=n.digest();return Dc.encodeByteArray(r)},fs=function(...t){let e="";for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=fs.apply(null,r):typeof r=="object"?e+=_e(r):e+=r,e+=" "}return e},ur=null,Ow=!0,VP=function(t,e){m(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(ui.logLevel=ee.VERBOSE,ur=ui.log.bind(ui),e&&Vh.set("logging_enabled",!0)):typeof t=="function"?ur=t:(ur=null,Vh.remove("logging_enabled"))},Se=function(...t){if(Ow===!0&&(Ow=!1,ur===null&&Vh.get("logging_enabled")===!0&&VP(!0)),ur){let e=fs.apply(null,t);ur(e)}},hs=function(t){return function(...e){Se(t,...e)}},$h=function(...t){let e="FIREBASE INTERNAL ERROR: "+fs(...t);ui.error(e)},tn=function(...t){let e=`FIREBASE FATAL ERROR: ${fs(...t)}`;throw ui.error(e),new Error(e)},rt=function(...t){let e="FIREBASE WARNING: "+fs(...t);ui.warn(e)},$P=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&rt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},hE=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},BP=function(t){if(kt()||document.readyState==="complete")t();else{let e=!1,n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},hi="[MIN_NAME]",dr="[MAX_NAME]",Ii=function(t,e){if(t===e)return 0;if(t===hi||e===dr)return-1;if(e===hi||t===dr)return 1;{let n=Pw(t),r=Pw(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},HP=function(t,e){return t===e?0:t<e?-1:1},Qo=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+_e(e))},Lp=function(t){if(typeof t!="object"||t===null)return _e(t);let e=[];for(let r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=_e(e[r]),n+=":",n+=Lp(t[e[r]]);return n+="}",n},pE=function(t,e){let n=t.length;if(n<=e)return[t];let r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function Be(t,e){for(let n in t)t.hasOwnProperty(n)&&e(n,t[n])}var gE=function(t){m(!hE(t),"Invalid JSON number");let e=11,n=52,r=(1<<e-1)-1,i,o,s,a,c;t===0?(o=0,s=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),o=a+r,s=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(o=0,s=Math.round(t/Math.pow(2,1-r-n))));let l=[];for(c=n;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);for(c=e;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);l.push(i?1:0),l.reverse();let u=l.join(""),d="";for(c=0;c<64;c+=8){let f=parseInt(u.substr(c,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},WP=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},zP=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function GP(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");let r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}var qP=new RegExp("^-?(0*)\\d{1,10}$"),KP=-2147483648,YP=2147483647,Pw=function(t){if(qP.test(t)){let e=Number(t);if(e>=KP&&e<=YP)return e}return null},ps=function(t){try{t()}catch(e){setTimeout(()=>{let n=e.stack||"";throw rt("Exception was thrown by user callback.",n),e},Math.floor(0))}},QP=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ts=function(t,e){let n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};var Bh=class{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){rt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var Hh=class{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Se("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',rt(e)}},ns=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}t.OWNER="owner";return t})(),zc="5",mE="v",vE="s",yE="r",_E="f",IE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,wE="ls",EE="p",Wh="ac",bE="websocket",CE="long_polling";var Gc=class{constructor(e,n,r,i,o=!1,s="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=lr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&lr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}};function ZP(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function DE(t,e,n){m(typeof e=="string","typeof type must == string"),m(typeof n=="object","typeof params must == object");let r;if(e===bE)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===CE)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);ZP(t)&&(n.ns=t.namespace);let i=[];return Be(n,(o,s)=>{i.push(o+"="+s)}),r+i.join("&")}var zh=class{constructor(){this.counters_={}}incrementCounter(e,n=1){Lt(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return LI(this.counters_)}};var xh={},Rh={};function Fp(t){let e=t.toString();return xh[e]||(xh[e]=new zh),xh[e]}function JP(t,e){let n=t.toString();return Rh[n]||(Rh[n]=e()),Rh[n]}var Gh=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&ps(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var kw="start",XP="close",ek="pLPCommand",tk="pRTLPCB",TE="id",SE="pw",AE="ser",nk="cb",rk="seg",ik="ts",ok="d",sk="dframe",ME=1870,NE=30,ak=ME-NE,ck=25e3,lk=3e4,qh=class t{constructor(e,n,r,i,o,s,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=hs(e),this.stats_=Fp(n),this.urlFn=c=>(this.appCheckToken&&(c[Wh]=this.appCheckToken),DE(n,CE,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new Gh(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(lk)),BP(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Kh((...o)=>{let[s,a,c,l,u]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,s===kw)this.id=a,this.password=c;else if(s===XP)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+s)},(...o)=>{let[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[kw]="t",r[AE]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[nk]=this.scriptTagHolder.uniqueCallbackIdentifier),r[mE]=zc,this.transportSessionId&&(r[vE]=this.transportSessionId),this.lastSessionId&&(r[wE]=this.lastSessionId),this.applicationId&&(r[EE]=this.applicationId),this.appCheckToken&&(r[Wh]=this.appCheckToken),typeof location<"u"&&location.hostname&&IE.test(location.hostname)&&(r[yE]=_E);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){t.forceAllow_=!0}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){return kt()?!1:t.forceAllow_?!0:!t.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!WP()&&!zP()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let n=_e(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);let r=Yf(n),i=pE(r,ak);for(let o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(kt())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[sk]="t",r[TE]=e,r[SE]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let n=_e(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}},Kh=class t{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,kt())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=UP(),window[ek+this.uniqueCallbackIdentifier]=e,window[tk+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');let s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){Se("frame writing exception"),a.stack&&Se(a.stack),Se(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Se("No IE domain setting required")}catch{let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[TE]=this.myID,e[SE]=this.myPW,e[AE]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+NE+r.length<=ME;){let s=this.pendingSegs.shift();r=r+"&"+rk+i+"="+s.seg+"&"+ik+i+"="+s.ts+"&"+ok+i+"="+s.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);let r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(ck)),o=()=>{clearTimeout(i),r()};this.addTag(e,o)}addTag(e,n){kt()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Se("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}};var uk=16384,dk=45e3,qc=null;typeof MozWebSocket<"u"?qc=MozWebSocket:typeof WebSocket<"u"&&(qc=WebSocket);var Zo=(()=>{class t{constructor(n,r,i,o,s,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=hs(this.connId),this.stats_=Fp(r),this.connURL=t.connectionURL_(r,a,c,o,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,o,s){let a={};return a[mE]=zc,!kt()&&typeof location<"u"&&location.hostname&&IE.test(location.hostname)&&(a[yE]=_E),r&&(a[vE]=r),i&&(a[wE]=i),o&&(a[Wh]=o),s&&(a[EE]=s),DE(n,bE,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,lr.set("previous_websocket_failure",!0);try{let i;if(kt()){let o=this.nodeAdmin?"AdminNode":"Node";i={headers:{"User-Agent":`Firebase/${zc}/${kp}/${process.platform}/${o}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,a=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new qc(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");let o=i.message||i.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){let r=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(r);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&qc!==null&&!t.forceDisallow_}static previouslyFailed(){return lr.isInMemoryStorage||lr.get("previous_websocket_failure")===!0}markConnectionHealthy(){lr.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){let r=this.frames.join("");this.frames=null;let i=ni(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(m(this.frames===null,"We already have a frame buffer"),n.length<=6){let r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;let r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{let i=this.extractFrameCount_(r);i!==null&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();let r=_e(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);let i=pE(r,uk);i.length>1&&this.sendString_(String(i.length));for(let o=0;o<i.length;o++)this.sendString_(i[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(dk))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4;return t})(),fk=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[qh,Zo]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){let r=Zo&&Zo.isAvailable(),i=r&&!Zo.previouslyFailed();if(n.webSocketOnly&&(r||rt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Zo];else{let o=this.transports_=[];for(let s of t.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}t.globalTransportInitialized_=!1;return t})(),hk=6e4,pk=5e3,gk=10*1024,mk=100*1024,Oh="t",Lw="d",vk="s",Fw="r",yk="e",jw="o",Uw="a",Vw="n",$w="p",_k="h",Yh=class{constructor(e,n,r,i,o,s,a,c,l,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=hs("c:"+this.id+":"),this.transportManager_=new fk(n),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=ts(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>mk?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>gk?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){let n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Oh in e){let n=e[Oh];n===Uw?this.upgradeIfSecondaryHealthy_():n===Fw?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===jw&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let n=Qo("t",e),r=Qo("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:$w,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Uw,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Vw,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let n=Qo("t",e),r=Qo("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let n=Qo(Oh,e);if(Lw in e){let r=e[Lw];if(n===_k){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===Vw){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===vk?this.onConnectionShutdown_(r):n===Fw?this.onReset_(r):n===yk?$h("Server Error: "+r):n===jw?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):$h("Unknown control packet command: "+n)}}onHandshake_(e){let n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),zc!==r&&rt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ts(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(hk))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ts(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(pk))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:$w,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(lr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Kc=class{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}};var Yc=class{constructor(e){this.allowedEvents_=e,this.listeners_={},m(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});let i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let o=0;o<i.length;o++)if(i[o].callback===n&&(!r||r===i[o].context)){i.splice(o,1);return}}validateEventType_(e){m(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}};var Qc=class t extends Yc{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Ro()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new t}getInitialEvent(e){return m(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var Bw=32,Hw=768,te=class{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}};function J(){return new te("")}function B(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Sn(t){return t.pieces_.length-t.pieceNum_}function ie(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new te(t.pieces_,e)}function xE(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Ik(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function RE(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function OE(t){if(t.pieceNum_>=t.pieces_.length)return null;let e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new te(e,0)}function Ie(t,e){let n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof te)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new te(n,0)}function H(t){return t.pieceNum_>=t.pieces_.length}function $e(t,e){let n=B(t),r=B(e);if(n===null)return e;if(n===r)return $e(ie(t),ie(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function jp(t,e){if(Sn(t)!==Sn(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function Et(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Sn(t)>Sn(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}var Qh=class{constructor(e,n){this.errorPrefix_=n,this.parts_=RE(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Lo(this.parts_[r]);PE(this)}};function wk(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Lo(e),PE(t)}function Ek(t){let e=t.parts_.pop();t.byteLength_-=Lo(e),t.parts_.length>0&&(t.byteLength_-=1)}function PE(t){if(t.byteLength_>Hw)throw new Error(t.errorPrefix_+"has a key path longer than "+Hw+" bytes ("+t.byteLength_+").");if(t.parts_.length>Bw)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Bw+") or object contains a cycle "+cr(t))}function cr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}var Zh=class t extends Yc{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new t}getInitialEvent(e){return m(e==="visible","Unknown event type: "+e),[this.visible_]}};var Jo=1e3,bk=60*5*1e3,Ww=30*1e3,Ck=1.3,Dk=3e4,Tk="server_kill",zw=3,Up=(()=>{class t extends Kc{constructor(n,r,i,o,s,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=t.nextPersistentConnectionId_++,this.log_=hs("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Jo,this.maxReconnectDelay_=bk,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!kt())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Zh.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Qc.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){let o=++this.requestNumber_,s={r:o,a:n,b:r};this.log_(_e(s)),m(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),i&&(this.requestCBHash_[o]=i)}get(n){this.initConnection_();let r=new Xn,o={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{let c=a.d;a.s==="ok"?r.resolve(c):r.reject(c)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(n,r,i,o){this.initConnection_();let s=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),m(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),m(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");let c={onComplete:o,hashFn:r,query:n,tag:i};this.listens.get(a).set(s,c),this.connected_&&this.sendListen_(c)}sendGet_(n){let r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){let r=n.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);let s={p:i},a="q";n.tag&&(s.q=r._queryObject,s.t=n.tag),s.h=n.hashFn(),this.sendRequest(a,s,c=>{let l=c.d,u=c.s;t.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(o))===n&&(this.log_("listen response",c),u!=="ok"&&this.removeListen_(i,o),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,r){if(n&&typeof n=="object"&&Lt(n,"w")){let i=tr(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){let o='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();rt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||KI(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Ww)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let n=this.authToken_,r=qI(n)?"auth":"gauth",i={cred:n};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(r,i,o=>{let s=o.s,a=o.d||"error";this.authToken_===n&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{let r=n.s,i=n.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){let i=n._path.toString(),o=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+o),m(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,o)&&this.connected_&&this.sendUnlisten_(i,o,n._queryObject,r)}sendUnlisten_(n,r,i,o){this.log_("Unlisten on "+n+" for "+r);let s={p:n},a="n";o&&(s.q=i,s.t=o),this.sendRequest(a,s)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,o){let s={p:r,d:i};this.log_("onDisconnect "+n,s),this.sendRequest(n,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(n,r,i,o){this.putInternal("p",n,r,i,o)}merge(n,r,i,o){this.putInternal("m",n,r,i,o)}putInternal(n,r,i,o,s){this.initConnection_();let a={p:r,d:i};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:n,request:a,onComplete:o}),this.outstandingPutCount_++;let c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+r)}sendPut_(n){let r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,o=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(n){if(this.connected_){let r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{if(i.s!=="ok"){let s=i.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+_e(n));let r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),n==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):n==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):n==="c"?this.onListenRevoked_(r.p,r.q):n==="ac"?this.onAuthRevoked_(r.s,r.d):n==="apc"?this.onAppCheckRevoked_(r.s,r.d):n==="sd"?this.onSecurityDebugPacket_(r):$h("Unrecognized action received from server: "+_e(n)+`
Are you using the latest client?`)}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){m(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Jo,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Jo,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Dk&&(this.reconnectDelay_=Jo),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let n=new Date().getTime()-this.lastConnectionAttemptTime_,r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Ck)}this.onConnectStatus_(!1)}establishConnection_(){return _(this,null,function*(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,a=!1,c=null,l=function(){c?c.close():(a=!0,i())},u=function(f){m(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)};this.realtime_={close:l,sendRequest:u};let d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[f,h]=yield Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Se("getToken() completed but was canceled"):(Se("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=h&&h.token,c=new Yh(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,p=>{rt(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(Tk)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&rt(f),l())}}})}interrupt(n){Se("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){Se("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Sc(this.interruptReasons_)&&(this.reconnectDelay_=Jo,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){let r=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){let r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;r?i=r.map(s=>Lp(s)).join("$"):i="default";let o=this.removeListen_(n,i);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(n,r){let i=new te(n).toString(),o;if(this.listens.has(i)){let s=this.listens.get(i);o=s.get(r),s.delete(r),s.size===0&&this.listens.delete(i)}else o=void 0;return o}onAuthRevoked_(n,r){Se("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=zw&&(this.reconnectDelay_=Ww,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){Se("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=zw&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let n of this.listens.values())for(let r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){let n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){let n={},r="js";kt()&&(this.repoInfo_.nodeAdmin?r="admin_node":r="node"),n["sdk."+r+"."+kp.replace(/\./g,"-")]=1,Ro()?n["framework.cordova"]=1:Tc()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){let n=Qc.getInstance().currentlyOnline();return Sc(this.interruptReasons_)&&n}}t.nextPersistentConnectionId_=0,t.nextConnectionId_=0;return t})(),V=class t{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new t(e,n)}};var pi=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){let r=new V(hi,e),i=new V(hi,n);return this.compare(r,i)!==0}minPost(){return V.MIN}};var Wc,Zc=class extends pi{static get __EMPTY_NODE(){return Wc}static set __EMPTY_NODE(e){Wc=e}compare(e,n){return Ii(e.name,n.name)}isDefinedOn(e){throw er("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return V.MIN}maxPost(){return new V(dr,Wc)}makePost(e,n){return m(typeof e=="string","KeyIndex indexValue must always be a string."),new V(e,Wc)}toString(){return".key"}},di=new Zc;var ci=class{constructor(e,n,r,i,o=null){this.isReverse_=i,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(e=e,s=n?r(e.key,n):1,i&&(s*=-1),s<0)this.isReverse_?e=e.left:e=e.right;else if(s===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},wt=(()=>{class t{constructor(n,r,i,o,s){this.key=n,this.value=r,this.color=i??t.RED,this.left=o??dt.EMPTY_NODE,this.right=s??dt.EMPTY_NODE}copy(n,r,i,o,s){return new t(n??this.key,r??this.value,i??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let o=this,s=i(n,o.key);return s<0?o=o.copy(null,null,null,o.left.insert(n,r,i),null):s===0?o=o.copy(null,r,null,null,null):o=o.copy(null,null,null,null,o.right.insert(n,r,i)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return dt.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,o;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),r(n,i.key)===0){if(i.right.isEmpty())return dt.EMPTY_NODE;o=i.right.min_(),i=i.copy(o.key,o.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){let n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){let n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){let n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){let n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})(),Jh=class{copy(e,n,r,i,o){return this}insert(e,n,r){return new wt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},dt=class t{constructor(e,n=t.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,wt.BLACK,null,null))}remove(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,wt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ci(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new ci(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new ci(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new ci(this.root_,null,this.comparator_,!0,e)}};dt.EMPTY_NODE=new Jh;function Sk(t,e){return Ii(t.name,e.name)}function Vp(t,e){return Ii(t,e)}var Xh;function Ak(t){Xh=t}var kE=function(t){return typeof t=="number"?"number:"+gE(t):"string:"+t},LE=function(t){if(t.isLeafNode()){let e=t.val();m(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Lt(e,".sv"),"Priority must be a string or number.")}else m(t===Xh||t.isEmpty(),"priority of unexpected type.");m(t===Xh||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var Gw,gi=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,m(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),LE(this.priorityNode_)}static set __childrenNodeConstructor(n){Gw=n}static get __childrenNodeConstructor(){return Gw}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return H(n)?this:B(n)===".priority"?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return n===".priority"?this.updatePriority(r):r.isEmpty()&&n!==".priority"?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){let i=B(n);return i===null?r:r.isEmpty()&&i!==".priority"?this:(m(i!==".priority"||Sn(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(ie(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+kE(this.priorityNode_.val())+":");let r=typeof this.value_;n+=r+":",r==="number"?n+=gE(this.value_):n+=this.value_,this.lazyHash_=fE(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(m(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){let r=typeof n.value_,i=typeof this.value_,o=t.VALUE_TYPE_ORDER.indexOf(r),s=t.VALUE_TYPE_ORDER.indexOf(i);return m(o>=0,"Unknown leaf type: "+r),m(s>=0,"Unknown leaf type: "+i),o===s?i==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){let r=n;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}t.VALUE_TYPE_ORDER=["object","boolean","number","string"];return t})(),FE,jE;function Mk(t){FE=t}function Nk(t){jE=t}var ep=class extends pi{compare(e,n){let r=e.node.getPriority(),i=n.node.getPriority(),o=r.compareTo(i);return o===0?Ii(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return V.MIN}maxPost(){return new V(dr,new gi("[PRIORITY-POST]",jE))}makePost(e,n){let r=FE(e);return new V(n,new gi("[PRIORITY-POST]",r))}toString(){return".priority"}},le=new ep;var xk=Math.log(2),tp=class{constructor(e){let n=o=>parseInt(Math.log(o)/xk,10),r=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},Jc=function(t,e,n,r){t.sort(e);let i=function(c,l){let u=l-c,d,f;if(u===0)return null;if(u===1)return d=t[c],f=n?n(d):d,new wt(f,d.node,wt.BLACK,null,null);{let h=parseInt(u/2,10)+c,p=i(c,h),I=i(h+1,l);return d=t[h],f=n?n(d):d,new wt(f,d.node,wt.BLACK,p,I)}},o=function(c){let l=null,u=null,d=t.length,f=function(p,I){let R=d-p,j=d;d-=p;let ue=i(R+1,j),oe=t[R],ke=n?n(oe):oe;h(new wt(ke,oe.node,I,null,ue))},h=function(p){l?(l.left=p,l=p):(u=p,l=p)};for(let p=0;p<c.count;++p){let I=c.nextBitIsOne(),R=Math.pow(2,c.count-(p+1));I?f(R,wt.BLACK):(f(R,wt.BLACK),f(R,wt.RED))}return u},s=new tp(t.length),a=o(s);return new dt(r||e,a)};var Ph,ai={},mi=class t{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return m(ai&&le,"ChildrenNode.ts has not been loaded"),Ph=Ph||new t({".priority":ai},{".priority":le}),Ph}get(e){let n=tr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof dt?n:null}hasIndex(e){return Lt(this.indexSet_,e.toString())}addIndex(e,n){m(e!==di,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,o=n.getIterator(V.Wrap),s=o.getNext();for(;s;)i=i||e.isDefinedOn(s.node),r.push(s),s=o.getNext();let a;i?a=Jc(r,e.getCompare()):a=ai;let c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;let u=Object.assign({},this.indexes_);return u[c]=a,new t(u,l)}addToIndexes(e,n){let r=Oo(this.indexes_,(i,o)=>{let s=tr(this.indexSet_,o);if(m(s,"Missing index implementation for "+o),i===ai)if(s.isDefinedOn(e.node)){let a=[],c=n.getIterator(V.Wrap),l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),Jc(a,s.getCompare())}else return ai;else{let a=n.get(e.name),c=i;return a&&(c=c.remove(new V(e.name,a))),c.insert(e,e.node)}});return new t(r,this.indexSet_)}removeFromIndexes(e,n){let r=Oo(this.indexes_,i=>{if(i===ai)return i;{let o=n.get(e.name);return o?i.remove(new V(e.name,o)):i}});return new t(r,this.indexSet_)}};var Xo,k=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&LE(this.priorityNode_),this.children_.isEmpty()&&m(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Xo||(Xo=new t(new dt(Vp),null,mi.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Xo}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{let r=this.children_.get(n);return r===null?Xo:r}}getChild(n){let r=B(n);return r===null?this:this.getImmediateChild(r).getChild(ie(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,r){if(m(r,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(r);{let i=new V(n,r),o,s;r.isEmpty()?(o=this.children_.remove(n),s=this.indexMap_.removeFromIndexes(i,this.children_)):(o=this.children_.insert(n,r),s=this.indexMap_.addToIndexes(i,this.children_));let a=o.isEmpty()?Xo:this.priorityNode_;return new t(o,a,s)}}updateChild(n,r){let i=B(n);if(i===null)return r;{m(B(n)!==".priority"||Sn(n)===1,".priority must be the last token in a path");let o=this.getImmediateChild(i).updateChild(ie(n),r);return this.updateImmediateChild(i,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;let r={},i=0,o=0,s=!0;if(this.forEachChild(le,(a,c)=>{r[a]=c.val(n),i++,s&&t.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!n&&s&&o<2*i){let a=[];for(let c in r)a[c]=r[c];return a}else return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+kE(this.getPriority().val())+":"),this.forEachChild(le,(r,i)=>{let o=i.hash();o!==""&&(n+=":"+r+":"+o)}),this.lazyHash_=n===""?"":fE(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){let o=this.resolveIndex_(i);if(o){let s=o.getPredecessorKey(new V(n,r));return s?s.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(n){let r=this.getFirstChildName(n);return r?new V(r,this.children_.get(r)):null}getLastChildName(n){let r=this.resolveIndex_(n);if(r){let i=r.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(n){let r=this.getLastChildName(n);return r?new V(r,this.children_.get(r)):null}forEachChild(n,r){let i=this.resolveIndex_(n);return i?i.inorderTraversal(o=>r(o.name,o.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,o=>o);{let o=this.children_.getIteratorFrom(n.name,V.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){let i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,o=>o);{let o=this.children_.getReverseIteratorFrom(n.name,V.Wrap),s=o.peek();for(;s!=null&&r.compare(s,n)>0;)o.getNext(),s=o.peek();return o}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===gs?-1:0}withIndex(n){if(n===di||this.indexMap_.hasIndex(n))return this;{let r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===di||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{let r=n;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){let i=this.getIterator(le),o=r.getIterator(le),s=i.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=i.getNext(),a=o.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(n){return n===di?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})(),np=class extends k{constructor(){super(new dt(Vp),k.EMPTY_NODE,mi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return k.EMPTY_NODE}isEmpty(){return!1}},gs=new np;Object.defineProperties(V,{MIN:{value:new V(hi,k.EMPTY_NODE)},MAX:{value:new V(dr,gs)}});Zc.__EMPTY_NODE=k.EMPTY_NODE;gi.__childrenNodeConstructor=k;Ak(gs);Nk(gs);var Rk=!0;function Ae(t,e=null){if(t===null)return k.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),m(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){let n=t;return new gi(n,Ae(e))}if(!(t instanceof Array)&&Rk){let n=[],r=!1;if(Be(t,(s,a)=>{if(s.substring(0,1)!=="."){let c=Ae(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new V(s,c)))}}),n.length===0)return k.EMPTY_NODE;let o=Jc(n,Sk,s=>s.name,Vp);if(r){let s=Jc(n,le.getCompare());return new k(o,Ae(e),new mi({".priority":s},{".priority":le}))}else return new k(o,Ae(e),mi.Default)}else{let n=k.EMPTY_NODE;return Be(t,(r,i)=>{if(Lt(t,r)&&r.substring(0,1)!=="."){let o=Ae(i);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(r,o))}}),n.updatePriority(Ae(e))}}Mk(Ae);var rp=class extends pi{constructor(e){super(),this.indexPath_=e,m(!H(e)&&B(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){let r=this.extractChild(e.node),i=this.extractChild(n.node),o=r.compareTo(i);return o===0?Ii(e.name,n.name):o}makePost(e,n){let r=Ae(e),i=k.EMPTY_NODE.updateChild(this.indexPath_,r);return new V(n,i)}maxPost(){let e=k.EMPTY_NODE.updateChild(this.indexPath_,gs);return new V(dr,e)}toString(){return RE(this.indexPath_,0).join("/")}};var ip=class extends pi{compare(e,n){let r=e.node.compareTo(n.node);return r===0?Ii(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return V.MIN}maxPost(){return V.MAX}makePost(e,n){let r=Ae(e);return new V(n,r)}toString(){return".value"}},Ok=new ip;function UE(t){return{type:"value",snapshotNode:t}}function vi(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function ss(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function as(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Pk(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}var cs=class{constructor(e){this.index_=e}updateChild(e,n,r,i,o,s){m(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(s!=null&&(r.isEmpty()?e.hasChild(n)?s.trackChildChange(ss(n,a)):m(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(vi(n,r)):s.trackChildChange(as(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(le,(i,o)=>{n.hasChild(i)||r.trackChildChange(ss(i,o))}),n.isLeafNode()||n.forEachChild(le,(i,o)=>{if(e.hasChild(i)){let s=e.getImmediateChild(i);s.equals(o)||r.trackChildChange(as(i,o,s))}else r.trackChildChange(vi(i,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?k.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var Xc=class t{constructor(e){this.indexedFilter_=new cs(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,o,s){return this.matches(new V(n,r))||(r=k.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,o,s)}updateFullNode(e,n,r){n.isLeafNode()&&(n=k.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(k.EMPTY_NODE);let o=this;return n.forEachChild(le,(s,a)=>{o.matches(new V(s,a))||(i=i.updateImmediateChild(s,k.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}};var op=class{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{let r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Xc(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,o,s){return this.rangedFilter_.matches(new V(n,r))||(r=k.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,o,s):this.fullLimitUpdateChild_(e,n,r,o,s)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=k.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=k.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){let a=o.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),s++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(k.EMPTY_NODE);let o;this.reverse_?o=i.getReverseIterator(this.index_):o=i.getIterator(this.index_);let s=0;for(;o.hasNext();){let a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:i=i.updateImmediateChild(a.name,k.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,o){let s;if(this.reverse_){let d=this.index_.getCompare();s=(f,h)=>d(h,f)}else s=this.index_.getCompare();let a=e;m(a.numChildren()===this.limit_,"");let c=new V(n,r),l=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(c);if(a.hasChild(n)){let d=a.getImmediateChild(n),f=i.getChildAfterChild(this.index_,l,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);let h=f==null?1:s(f,c);if(u&&!r.isEmpty()&&h>=0)return o?.trackChildChange(as(n,r,d)),a.updateImmediateChild(n,r);{o?.trackChildChange(ss(n,d));let I=a.updateImmediateChild(n,k.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(o?.trackChildChange(vi(f.name,f.node)),I.updateImmediateChild(f.name,f.node)):I}}else return r.isEmpty()?e:u&&s(l,c)>=0?(o!=null&&(o.trackChildChange(ss(l.name,l.node)),o.trackChildChange(vi(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(l.name,k.EMPTY_NODE)):e}};var sp=class t{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=le}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return m(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return m(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:hi}hasEnd(){return this.endSet_}getIndexEndValue(){return m(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return m(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:dr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return m(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===le}copy(){let e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function kk(t){return t.loadsAllData()?new cs(t.getIndex()):t.hasLimit()?new op(t):new Xc(t)}function qw(t){let e={};if(t.isDefault())return e;let n;if(t.index_===le?n="$priority":t.index_===Ok?n="$value":t.index_===di?n="$key":(m(t.index_ instanceof rp,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=_e(n),t.startSet_){let r=t.startAfterSet_?"startAfter":"startAt";e[r]=_e(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+_e(t.indexStartName_))}if(t.endSet_){let r=t.endBeforeSet_?"endBefore":"endAt";e[r]=_e(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+_e(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Kw(t){let e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==le&&(e.i=t.index_.toString()),e}var ap=class t extends Kc{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=hs("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(m(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){let o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);let s=t.getListenId_(e,r),a={};this.listens_[s]=a;let c=qw(e._queryParams);this.restRequest_(o+".json",c,(l,u)=>{let d=u;if(l===404&&(d=null,l=null),l===null&&this.onDataUpdate_(o,d,!1,r),tr(this.listens_,s)===a){let f;l?l===401?f="permission_denied":f="rest_error:"+l:f="ok",i(f,null)}})}unlisten(e,n){let r=t.getListenId_(e,n);delete this.listens_[r]}get(e){let n=qw(e._queryParams),r=e._path.toString(),i=new Xn;return this.restRequest_(r+".json",n,(o,s)=>{let a=s;o===404&&(a=null,o=null),o===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,o])=>{i&&i.accessToken&&(n.auth=i.accessToken),o&&o.token&&(n.ac=o.token);let s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ko(n);this.log_("Sending REST request for "+s);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=ni(a.responseText)}catch{rt("Failed to parse JSON response for "+s+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&rt("Got unsuccessful REST response for "+s+" Status: "+a.status),r(a.status);r=null}},a.open("GET",s,!0),a.send()})}};var cp=class{constructor(){this.rootNode_=k.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}};function el(){return{value:null,children:new Map}}function VE(t,e,n){if(H(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{let r=B(e);t.children.has(r)||t.children.set(r,el());let i=t.children.get(r);e=ie(e),VE(i,e,n)}}function lp(t,e,n){t.value!==null?n(e,t.value):Lk(t,(r,i)=>{let o=new te(e.toString()+"/"+r);lp(i,o,n)})}function Lk(t,e){t.children.forEach((n,r)=>{e(r,n)})}var up=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Be(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}};var Yw=10*1e3,Fk=30*1e3,jk=5*60*1e3,dp=class{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new up(e);let r=Yw+(Fk-Yw)*Math.random();ts(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),n={},r=!1;Be(e,(i,o)=>{o>0&&Lt(this.statsToReport_,i)&&(n[i]=o,r=!0)}),r&&this.server_.reportStats(n),ts(this.reportStats_.bind(this),Math.floor(Math.random()*2*jk))}};var Ut=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(Ut||{});function $E(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function $p(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Bp(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}var fp=class t{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Ut.ACK_USER_WRITE,this.source=$E()}operationForChild(e){if(H(this.path)){if(this.affectedTree.value!=null)return m(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let n=this.affectedTree.subtree(new te(e));return new t(J(),n,this.revert)}}else return m(B(this.path)===e,"operationForChild called for unrelated child."),new t(ie(this.path),this.affectedTree,this.revert)}};var tl=class t{constructor(e,n){this.source=e,this.path=n,this.type=Ut.LISTEN_COMPLETE}operationForChild(e){return H(this.path)?new t(this.source,J()):new t(this.source,ie(this.path))}};var yi=class t{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Ut.OVERWRITE}operationForChild(e){return H(this.path)?new t(this.source,J(),this.snap.getImmediateChild(e)):new t(this.source,ie(this.path),this.snap)}};var nl=class t{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Ut.MERGE}operationForChild(e){if(H(this.path)){let n=this.children.subtree(new te(e));return n.isEmpty()?null:n.value?new yi(this.source,J(),n.value):new t(this.source,J(),n)}else return m(B(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,ie(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var nn=class{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(H(e))return this.isFullyInitialized()&&!this.filtered_;let n=B(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var hp=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function Uk(t,e,n,r){let i=[],o=[];return e.forEach(s=>{s.type==="child_changed"&&t.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(Pk(s.childName,s.snapshotNode))}),es(t,i,"child_removed",e,r,n),es(t,i,"child_added",e,r,n),es(t,i,"child_moved",o,r,n),es(t,i,"child_changed",e,r,n),es(t,i,"value",e,r,n),i}function es(t,e,n,r,i,o){let s=r.filter(a=>a.type===n);s.sort((a,c)=>$k(t,a,c)),s.forEach(a=>{let c=Vk(t,a,o);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,t.query_))})})}function Vk(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function $k(t,e,n){if(e.childName==null||n.childName==null)throw er("Should only compare child_ events.");let r=new V(e.childName,e.snapshotNode),i=new V(n.childName,n.snapshotNode);return t.index_.compare(r,i)}function hl(t,e){return{eventCache:t,serverCache:e}}function rs(t,e,n,r){return hl(new nn(e,n,r),t.serverCache)}function BE(t,e,n,r){return hl(t.eventCache,new nn(e,n,r))}function pp(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function fr(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}var kh,Bk=()=>(kh||(kh=new dt(HP)),kh),He=class t{constructor(e,n=Bk()){this.value=e,this.children=n}static fromObject(e){let n=new t(null);return Be(e,(r,i)=>{n=n.set(new te(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:J(),value:this.value};if(H(e))return null;{let r=B(e),i=this.children.get(r);if(i!==null){let o=i.findRootMostMatchingPathAndValue(ie(e),n);return o!=null?{path:Ie(new te(r),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(H(e))return this;{let n=B(e),r=this.children.get(n);return r!==null?r.subtree(ie(e)):new t(null)}}set(e,n){if(H(e))return new t(n,this.children);{let r=B(e),o=(this.children.get(r)||new t(null)).set(ie(e),n),s=this.children.insert(r,o);return new t(this.value,s)}}remove(e){if(H(e))return this.children.isEmpty()?new t(null):new t(null,this.children);{let n=B(e),r=this.children.get(n);if(r){let i=r.remove(ie(e)),o;return i.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,i),this.value===null&&o.isEmpty()?new t(null):new t(this.value,o)}else return this}}get(e){if(H(e))return this.value;{let n=B(e),r=this.children.get(n);return r?r.get(ie(e)):null}}setTree(e,n){if(H(e))return n;{let r=B(e),o=(this.children.get(r)||new t(null)).setTree(ie(e),n),s;return o.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,o),new t(this.value,s)}}fold(e){return this.fold_(J(),e)}fold_(e,n){let r={};return this.children.inorderTraversal((i,o)=>{r[i]=o.fold_(Ie(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,J(),n)}findOnPath_(e,n,r){let i=this.value?r(n,this.value):!1;if(i)return i;if(H(e))return null;{let o=B(e),s=this.children.get(o);return s?s.findOnPath_(ie(e),Ie(n,o),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,J(),n)}foreachOnPath_(e,n,r){if(H(e))return this;{this.value&&r(n,this.value);let i=B(e),o=this.children.get(i);return o?o.foreachOnPath_(ie(e),Ie(n,i),r):new t(null)}}foreach(e){this.foreach_(J(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Ie(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}};var bt=class t{constructor(e){this.writeTree_=e}static empty(){return new t(new He(null))}};function is(t,e,n){if(H(e))return new bt(new He(n));{let r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,o=r.value,s=$e(i,e);return o=o.updateChild(s,n),new bt(t.writeTree_.set(i,o))}else{let i=new He(n),o=t.writeTree_.setTree(e,i);return new bt(o)}}}function Qw(t,e,n){let r=t;return Be(n,(i,o)=>{r=is(r,Ie(e,i),o)}),r}function Zw(t,e){if(H(e))return bt.empty();{let n=t.writeTree_.setTree(e,new He(null));return new bt(n)}}function gp(t,e){return hr(t,e)!=null}function hr(t,e){let n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild($e(n.path,e)):null}function Jw(t){let e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(le,(r,i)=>{e.push(new V(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new V(r,i.value))}),e}function Tn(t,e){if(H(e))return t;{let n=hr(t,e);return n!=null?new bt(new He(n)):new bt(t.writeTree_.subtree(e))}}function mp(t){return t.writeTree_.isEmpty()}function _i(t,e){return HE(J(),t.writeTree_,e)}function HE(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,o)=>{i===".priority"?(m(o.value!==null,"Priority writes must always be leaf nodes"),r=o.value):n=HE(Ie(t,i),o,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Ie(t,".priority"),r)),n}}function Hp(t,e){return qE(e,t)}function Hk(t,e,n,r,i){m(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=is(t.visibleWrites,e,n)),t.lastWriteId=r}function Wk(t,e){for(let n=0;n<t.allWrites.length;n++){let r=t.allWrites[n];if(r.writeId===e)return r}return null}function zk(t,e){let n=t.allWrites.findIndex(a=>a.writeId===e);m(n>=0,"removeWrite called with nonexistent writeId.");let r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,o=!1,s=t.allWrites.length-1;for(;i&&s>=0;){let a=t.allWrites[s];a.visible&&(s>=n&&Gk(a,r.path)?i=!1:Et(r.path,a.path)&&(o=!0)),s--}if(i){if(o)return qk(t),!0;if(r.snap)t.visibleWrites=Zw(t.visibleWrites,r.path);else{let a=r.children;Be(a,c=>{t.visibleWrites=Zw(t.visibleWrites,Ie(r.path,c))})}return!0}else return!1}function Gk(t,e){if(t.snap)return Et(t.path,e);for(let n in t.children)if(t.children.hasOwnProperty(n)&&Et(Ie(t.path,n),e))return!0;return!1}function qk(t){t.visibleWrites=WE(t.allWrites,Kk,J()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function Kk(t){return t.visible}function WE(t,e,n){let r=bt.empty();for(let i=0;i<t.length;++i){let o=t[i];if(e(o)){let s=o.path,a;if(o.snap)Et(n,s)?(a=$e(n,s),r=is(r,a,o.snap)):Et(s,n)&&(a=$e(s,n),r=is(r,J(),o.snap.getChild(a)));else if(o.children){if(Et(n,s))a=$e(n,s),r=Qw(r,a,o.children);else if(Et(s,n))if(a=$e(s,n),H(a))r=Qw(r,J(),o.children);else{let c=tr(o.children,B(a));if(c){let l=c.getChild(ie(a));r=is(r,J(),l)}}}else throw er("WriteRecord should have .snap or .children")}}return r}function zE(t,e,n,r,i){if(!r&&!i){let o=hr(t.visibleWrites,e);if(o!=null)return o;{let s=Tn(t.visibleWrites,e);if(mp(s))return n;if(n==null&&!gp(s,J()))return null;{let a=n||k.EMPTY_NODE;return _i(s,a)}}}else{let o=Tn(t.visibleWrites,e);if(!i&&mp(o))return n;if(!i&&n==null&&!gp(o,J()))return null;{let s=function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(Et(l.path,e)||Et(e,l.path))},a=WE(t.allWrites,s,e),c=n||k.EMPTY_NODE;return _i(a,c)}}}function Yk(t,e,n){let r=k.EMPTY_NODE,i=hr(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(le,(o,s)=>{r=r.updateImmediateChild(o,s)}),r;if(n){let o=Tn(t.visibleWrites,e);return n.forEachChild(le,(s,a)=>{let c=_i(Tn(o,new te(s)),a);r=r.updateImmediateChild(s,c)}),Jw(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}else{let o=Tn(t.visibleWrites,e);return Jw(o).forEach(s=>{r=r.updateImmediateChild(s.name,s.node)}),r}}function Qk(t,e,n,r,i){m(r||i,"Either existingEventSnap or existingServerSnap must exist");let o=Ie(e,n);if(gp(t.visibleWrites,o))return null;{let s=Tn(t.visibleWrites,o);return mp(s)?i.getChild(n):_i(s,i.getChild(n))}}function Zk(t,e,n,r){let i=Ie(e,n),o=hr(t.visibleWrites,i);if(o!=null)return o;if(r.isCompleteForChild(n)){let s=Tn(t.visibleWrites,i);return _i(s,r.getNode().getImmediateChild(n))}else return null}function Jk(t,e){return hr(t.visibleWrites,e)}function Xk(t,e,n,r,i,o,s){let a,c=Tn(t.visibleWrites,e),l=hr(c,J());if(l!=null)a=l;else if(n!=null)a=_i(c,n);else return[];if(a=a.withIndex(s),!a.isEmpty()&&!a.isLeafNode()){let u=[],d=s.getCompare(),f=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s),h=f.getNext();for(;h&&u.length<i;)d(h,r)!==0&&u.push(h),h=f.getNext();return u}else return[]}function e1(){return{visibleWrites:bt.empty(),allWrites:[],lastWriteId:-1}}function rl(t,e,n,r){return zE(t.writeTree,t.treePath,e,n,r)}function Wp(t,e){return Yk(t.writeTree,t.treePath,e)}function Xw(t,e,n,r){return Qk(t.writeTree,t.treePath,e,n,r)}function il(t,e){return Jk(t.writeTree,Ie(t.treePath,e))}function t1(t,e,n,r,i,o){return Xk(t.writeTree,t.treePath,e,n,r,i,o)}function zp(t,e,n){return Zk(t.writeTree,t.treePath,e,n)}function GE(t,e){return qE(Ie(t.treePath,e),t.writeTree)}function qE(t,e){return{treePath:t,writeTree:e}}var vp=class{constructor(){this.changeMap=new Map}trackChildChange(e){let n=e.type,r=e.childName;m(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),m(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let o=i.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(r,as(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(r,ss(r,i.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(r,vi(r,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(r,as(r,e.snapshotNode,i.oldSnap));else throw er("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var yp=class{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}},KE=new yp,ls=class{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){let n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new nn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return zp(this.writes_,e,r)}}getChildAfterChild(e,n,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:fr(this.viewCache_),o=t1(this.writes_,i,n,1,r,e);return o.length===0?null:o[0]}};function n1(t){return{filter:t}}function r1(t,e){m(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),m(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function i1(t,e,n,r,i){let o=new vp,s,a;if(n.type===Ut.OVERWRITE){let l=n;l.source.fromUser?s=_p(t,e,l.path,l.snap,r,i,o):(m(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!H(l.path),s=ol(t,e,l.path,l.snap,r,i,a,o))}else if(n.type===Ut.MERGE){let l=n;l.source.fromUser?s=s1(t,e,l.path,l.children,r,i,o):(m(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),s=Ip(t,e,l.path,l.children,r,i,a,o))}else if(n.type===Ut.ACK_USER_WRITE){let l=n;l.revert?s=l1(t,e,l.path,r,i,o):s=a1(t,e,l.path,l.affectedTree,r,i,o)}else if(n.type===Ut.LISTEN_COMPLETE)s=c1(t,e,n.path,r,o);else throw er("Unknown operation type: "+n.type);let c=o.getChanges();return o1(e,s,c),{viewCache:s,changes:c}}function o1(t,e,n){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=pp(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(UE(pp(e)))}}function YE(t,e,n,r,i,o){let s=e.eventCache;if(il(r,n)!=null)return e;{let a,c;if(H(n))if(m(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let l=fr(e),u=l instanceof k?l:k.EMPTY_NODE,d=Wp(r,u);a=t.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{let l=rl(r,fr(e));a=t.filter.updateFullNode(e.eventCache.getNode(),l,o)}else{let l=B(n);if(l===".priority"){m(Sn(n)===1,"Can't have a priority with additional path components");let u=s.getNode();c=e.serverCache.getNode();let d=Xw(r,n,u,c);d!=null?a=t.filter.updatePriority(u,d):a=s.getNode()}else{let u=ie(n),d;if(s.isCompleteForChild(l)){c=e.serverCache.getNode();let f=Xw(r,n,s.getNode(),c);f!=null?d=s.getNode().getImmediateChild(l).updateChild(u,f):d=s.getNode().getImmediateChild(l)}else d=zp(r,l,e.serverCache);d!=null?a=t.filter.updateChild(s.getNode(),l,d,u,i,o):a=s.getNode()}}return rs(e,a,s.isFullyInitialized()||H(n),t.filter.filtersNodes())}}function ol(t,e,n,r,i,o,s,a){let c=e.serverCache,l,u=s?t.filter:t.filter.getIndexedFilter();if(H(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){let h=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),h,null)}else{let h=B(n);if(!c.isCompleteForPath(n)&&Sn(n)>1)return e;let p=ie(n),R=c.getNode().getImmediateChild(h).updateChild(p,r);h===".priority"?l=u.updatePriority(c.getNode(),R):l=u.updateChild(c.getNode(),h,R,p,KE,null)}let d=BE(e,l,c.isFullyInitialized()||H(n),u.filtersNodes()),f=new ls(i,d,o);return YE(t,d,n,i,f,a)}function _p(t,e,n,r,i,o,s){let a=e.eventCache,c,l,u=new ls(i,e,o);if(H(n))l=t.filter.updateFullNode(e.eventCache.getNode(),r,s),c=rs(e,l,!0,t.filter.filtersNodes());else{let d=B(n);if(d===".priority")l=t.filter.updatePriority(e.eventCache.getNode(),r),c=rs(e,l,a.isFullyInitialized(),a.isFiltered());else{let f=ie(n),h=a.getNode().getImmediateChild(d),p;if(H(f))p=r;else{let I=u.getCompleteChild(d);I!=null?xE(f)===".priority"&&I.getChild(OE(f)).isEmpty()?p=I:p=I.updateChild(f,r):p=k.EMPTY_NODE}if(h.equals(p))c=e;else{let I=t.filter.updateChild(a.getNode(),d,p,f,u,s);c=rs(e,I,a.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function eE(t,e){return t.eventCache.isCompleteForChild(e)}function s1(t,e,n,r,i,o,s){let a=e;return r.foreach((c,l)=>{let u=Ie(n,c);eE(e,B(u))&&(a=_p(t,a,u,l,i,o,s))}),r.foreach((c,l)=>{let u=Ie(n,c);eE(e,B(u))||(a=_p(t,a,u,l,i,o,s))}),a}function tE(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Ip(t,e,n,r,i,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,l;H(n)?l=r:l=new He(null).setTree(n,r);let u=e.serverCache.getNode();return l.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){let h=e.serverCache.getNode().getImmediateChild(d),p=tE(t,h,f);c=ol(t,c,new te(d),p,i,o,s,a)}}),l.children.inorderTraversal((d,f)=>{let h=!e.serverCache.isCompleteForChild(d)&&f.value===null;if(!u.hasChild(d)&&!h){let p=e.serverCache.getNode().getImmediateChild(d),I=tE(t,p,f);c=ol(t,c,new te(d),I,i,o,s,a)}}),c}function a1(t,e,n,r,i,o,s){if(il(i,n)!=null)return e;let a=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(H(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return ol(t,e,n,c.getNode().getChild(n),i,o,a,s);if(H(n)){let l=new He(null);return c.getNode().forEachChild(di,(u,d)=>{l=l.set(new te(u),d)}),Ip(t,e,n,l,i,o,a,s)}else return e}else{let l=new He(null);return r.foreach((u,d)=>{let f=Ie(n,u);c.isCompleteForPath(f)&&(l=l.set(u,c.getNode().getChild(f)))}),Ip(t,e,n,l,i,o,a,s)}}function c1(t,e,n,r,i){let o=e.serverCache,s=BE(e,o.getNode(),o.isFullyInitialized()||H(n),o.isFiltered());return YE(t,s,n,r,KE,i)}function l1(t,e,n,r,i,o){let s;if(il(r,n)!=null)return e;{let a=new ls(r,e,i),c=e.eventCache.getNode(),l;if(H(n)||B(n)===".priority"){let u;if(e.serverCache.isFullyInitialized())u=rl(r,fr(e));else{let d=e.serverCache.getNode();m(d instanceof k,"serverChildren would be complete if leaf node"),u=Wp(r,d)}u=u,l=t.filter.updateFullNode(c,u,o)}else{let u=B(n),d=zp(r,u,e.serverCache);d==null&&e.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),d!=null?l=t.filter.updateChild(c,u,d,ie(n),a,o):e.eventCache.getNode().hasChild(u)?l=t.filter.updateChild(c,u,k.EMPTY_NODE,ie(n),a,o):l=c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=rl(r,fr(e)),s.isLeafNode()&&(l=t.filter.updateFullNode(l,s,o)))}return s=e.serverCache.isFullyInitialized()||il(r,J())!=null,rs(e,l,s,t.filter.filtersNodes())}}var wp=class{constructor(e,n){this.query_=e,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new cs(r.getIndex()),o=kk(r);this.processor_=n1(o);let s=n.serverCache,a=n.eventCache,c=i.updateFullNode(k.EMPTY_NODE,s.getNode(),null),l=o.updateFullNode(k.EMPTY_NODE,a.getNode(),null),u=new nn(c,s.isFullyInitialized(),i.filtersNodes()),d=new nn(l,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=hl(d,u),this.eventGenerator_=new hp(this.query_)}get query(){return this.query_}};function u1(t){return t.viewCache_.serverCache.getNode()}function d1(t,e){let n=fr(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!H(e)&&!n.getImmediateChild(B(e)).isEmpty())?n.getChild(e):null}function nE(t){return t.eventRegistrations_.length===0}function f1(t,e){t.eventRegistrations_.push(e)}function rE(t,e,n){let r=[];if(n){m(e==null,"A cancel should cancel all event registrations.");let i=t.query._path;t.eventRegistrations_.forEach(o=>{let s=o.createCancelEvent(n,i);s&&r.push(s)})}if(e){let i=[];for(let o=0;o<t.eventRegistrations_.length;++o){let s=t.eventRegistrations_[o];if(!s.matches(e))i.push(s);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function iE(t,e,n,r){e.type===Ut.MERGE&&e.source.queryId!==null&&(m(fr(t.viewCache_),"We should always have a full cache before handling merges"),m(pp(t.viewCache_),"Missing event cache, even though we have a server cache"));let i=t.viewCache_,o=i1(t.processor_,i,e,n,r);return r1(t.processor_,o.viewCache),m(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,QE(t,o.changes,o.viewCache.eventCache.getNode(),null)}function h1(t,e){let n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(le,(o,s)=>{r.push(vi(o,s))}),n.isFullyInitialized()&&r.push(UE(n.getNode())),QE(t,r,n.getNode(),e)}function QE(t,e,n,r){let i=r?[r]:t.eventRegistrations_;return Uk(t.eventGenerator_,e,n,i)}var sl,Ep=class{constructor(){this.views=new Map}};function p1(t){m(!sl,"__referenceConstructor has already been defined"),sl=t}function g1(){return m(sl,"Reference.ts has not been loaded"),sl}function m1(t){return t.views.size===0}function Gp(t,e,n,r){let i=e.source.queryId;if(i!==null){let o=t.views.get(i);return m(o!=null,"SyncTree gave us an op for an invalid query."),iE(o,e,n,r)}else{let o=[];for(let s of t.views.values())o=o.concat(iE(s,e,n,r));return o}}function v1(t,e,n,r,i){let o=e._queryIdentifier,s=t.views.get(o);if(!s){let a=rl(n,i?r:null),c=!1;a?c=!0:r instanceof k?(a=Wp(n,r),c=!1):(a=k.EMPTY_NODE,c=!1);let l=hl(new nn(a,c,!1),new nn(r,i,!1));return new wp(e,l)}return s}function y1(t,e,n,r,i,o){let s=v1(t,e,r,i,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,s),f1(s,n),h1(s,n)}function _1(t,e,n,r){let i=e._queryIdentifier,o=[],s=[],a=An(t);if(i==="default")for(let[c,l]of t.views.entries())s=s.concat(rE(l,n,r)),nE(l)&&(t.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{let c=t.views.get(i);c&&(s=s.concat(rE(c,n,r)),nE(c)&&(t.views.delete(i),c.query._queryParams.loadsAllData()||o.push(c.query)))}return a&&!An(t)&&o.push(new(g1())(e._repo,e._path)),{removed:o,events:s}}function ZE(t){let e=[];for(let n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function fi(t,e){let n=null;for(let r of t.views.values())n=n||d1(r,e);return n}function JE(t,e){if(e._queryParams.loadsAllData())return pl(t);{let r=e._queryIdentifier;return t.views.get(r)}}function XE(t,e){return JE(t,e)!=null}function An(t){return pl(t)!=null}function pl(t){for(let e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var al;function I1(t){m(!al,"__referenceConstructor has already been defined"),al=t}function w1(){return m(al,"Reference.ts has not been loaded"),al}var E1=1,cl=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new He(null),this.pendingWriteTree_=e1(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function b1(t,e,n,r,i){return Hk(t.pendingWriteTree_,e,n,r,i),i?ms(t,new yi($E(),e,n)):[]}function li(t,e,n=!1){let r=Wk(t.pendingWriteTree_,e);if(zk(t.pendingWriteTree_,e)){let o=new He(null);return r.snap!=null?o=o.set(J(),!0):Be(r.children,s=>{o=o.set(new te(s),!0)}),ms(t,new fp(r.path,o,n))}else return[]}function gl(t,e,n){return ms(t,new yi($p(),e,n))}function C1(t,e,n){let r=He.fromObject(n);return ms(t,new nl($p(),e,r))}function D1(t,e){return ms(t,new tl($p(),e))}function T1(t,e,n){let r=qp(t,n);if(r){let i=Kp(r),o=i.path,s=i.queryId,a=$e(o,e),c=new tl(Bp(s),a);return Yp(t,o,c)}else return[]}function bp(t,e,n,r,i=!1){let o=e._path,s=t.syncPointTree_.get(o),a=[];if(s&&(e._queryIdentifier==="default"||XE(s,e))){let c=_1(s,e,n,r);m1(s)&&(t.syncPointTree_=t.syncPointTree_.remove(o));let l=c.removed;if(a=c.events,!i){let u=l.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=t.syncPointTree_.findOnPath(o,(f,h)=>An(h));if(u&&!d){let f=t.syncPointTree_.subtree(o);if(!f.isEmpty()){let h=M1(f);for(let p=0;p<h.length;++p){let I=h[p],R=I.query,j=rb(t,I);t.listenProvider_.startListening(os(R),ll(t,R),j.hashFn,j.onComplete)}}}!d&&l.length>0&&!r&&(u?t.listenProvider_.stopListening(os(e),null):l.forEach(f=>{let h=t.queryToTagMap.get(ml(f));t.listenProvider_.stopListening(os(f),h)}))}N1(t,l)}return a}function S1(t,e,n,r){let i=qp(t,r);if(i!=null){let o=Kp(i),s=o.path,a=o.queryId,c=$e(s,e),l=new yi(Bp(a),c,n);return Yp(t,s,l)}else return[]}function A1(t,e,n,r){let i=qp(t,r);if(i){let o=Kp(i),s=o.path,a=o.queryId,c=$e(s,e),l=He.fromObject(n),u=new nl(Bp(a),c,l);return Yp(t,s,u)}else return[]}function oE(t,e,n,r=!1){let i=e._path,o=null,s=!1;t.syncPointTree_.foreachOnPath(i,(f,h)=>{let p=$e(f,i);o=o||fi(h,p),s=s||An(h)});let a=t.syncPointTree_.get(i);a?(s=s||An(a),o=o||fi(a,J())):(a=new Ep,t.syncPointTree_=t.syncPointTree_.set(i,a));let c;o!=null?c=!0:(c=!1,o=k.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((h,p)=>{let I=fi(p,J());I&&(o=o.updateImmediateChild(h,I))}));let l=XE(a,e);if(!l&&!e._queryParams.loadsAllData()){let f=ml(e);m(!t.queryToTagMap.has(f),"View does not exist, but we have a tag");let h=x1();t.queryToTagMap.set(f,h),t.tagToQueryMap.set(h,f)}let u=Hp(t.pendingWriteTree_,i),d=y1(a,e,n,u,o,c);if(!l&&!s&&!r){let f=JE(a,e);d=d.concat(R1(t,e,f))}return d}function eb(t,e,n){let i=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(s,a)=>{let c=$e(s,e),l=fi(a,c);if(l)return l});return zE(i,e,o,n,!0)}function ms(t,e){return tb(e,t.syncPointTree_,null,Hp(t.pendingWriteTree_,J()))}function tb(t,e,n,r){if(H(t.path))return nb(t,e,n,r);{let i=e.get(J());n==null&&i!=null&&(n=fi(i,J()));let o=[],s=B(t.path),a=t.operationForChild(s),c=e.children.get(s);if(c&&a){let l=n?n.getImmediateChild(s):null,u=GE(r,s);o=o.concat(tb(a,c,l,u))}return i&&(o=o.concat(Gp(i,t,r,n))),o}}function nb(t,e,n,r){let i=e.get(J());n==null&&i!=null&&(n=fi(i,J()));let o=[];return e.children.inorderTraversal((s,a)=>{let c=n?n.getImmediateChild(s):null,l=GE(r,s),u=t.operationForChild(s);u&&(o=o.concat(nb(u,a,c,l)))}),i&&(o=o.concat(Gp(i,t,r,n))),o}function rb(t,e){let n=e.query,r=ll(t,n);return{hashFn:()=>(u1(e)||k.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?T1(t,n._path,r):D1(t,n._path);{let o=GP(i,n);return bp(t,n,null,o)}}}}function ll(t,e){let n=ml(e);return t.queryToTagMap.get(n)}function ml(t){return t._path.toString()+"$"+t._queryIdentifier}function qp(t,e){return t.tagToQueryMap.get(e)}function Kp(t){let e=t.indexOf("$");return m(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new te(t.substr(0,e))}}function Yp(t,e,n){let r=t.syncPointTree_.get(e);m(r,"Missing sync point for query tag that we're tracking");let i=Hp(t.pendingWriteTree_,e);return Gp(r,n,i,null)}function M1(t){return t.fold((e,n,r)=>{if(n&&An(n))return[pl(n)];{let i=[];return n&&(i=ZE(n)),Be(r,(o,s)=>{i=i.concat(s)}),i}})}function os(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(w1())(t._repo,t._path):t}function N1(t,e){for(let n=0;n<e.length;++n){let r=e[n];if(!r._queryParams.loadsAllData()){let i=ml(r),o=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(o)}}}function x1(){return E1++}function R1(t,e,n){let r=e._path,i=ll(t,e),o=rb(t,n),s=t.listenProvider_.startListening(os(e),i,o.hashFn,o.onComplete),a=t.syncPointTree_.subtree(r);if(i)m(!An(a.value),"If we're adding a query, it shouldn't be shadowed");else{let c=a.fold((l,u,d)=>{if(!H(l)&&u&&An(u))return[pl(u).query];{let f=[];return u&&(f=f.concat(ZE(u).map(h=>h.query))),Be(d,(h,p)=>{f=f.concat(p)}),f}});for(let l=0;l<c.length;++l){let u=c[l];t.listenProvider_.stopListening(os(u),ll(t,u))}}return s}var Cp=class t{constructor(e){this.node_=e}getImmediateChild(e){let n=this.node_.getImmediateChild(e);return new t(n)}node(){return this.node_}},Dp=class t{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){let n=Ie(this.path_,e);return new t(this.syncTree_,n)}node(){return eb(this.syncTree_,this.path_)}},O1=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},sE=function(t,e,n){if(!t||typeof t!="object")return t;if(m(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return P1(t[".sv"],e,n);if(typeof t[".sv"]=="object")return k1(t[".sv"],e);m(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},P1=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:m(!1,"Unexpected server value: "+t)}},k1=function(t,e,n){t.hasOwnProperty("increment")||m(!1,"Unexpected server value: "+JSON.stringify(t,null,2));let r=t.increment;typeof r!="number"&&m(!1,"Unexpected increment value: "+r);let i=e.node();if(m(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let s=i.getValue();return typeof s!="number"?r:s+r},L1=function(t,e,n,r){return Qp(e,new Dp(n,t),r)},F1=function(t,e,n){return Qp(t,new Cp(e),n)};function Qp(t,e,n){let r=t.getPriority().val(),i=sE(r,e.getImmediateChild(".priority"),n),o;if(t.isLeafNode()){let s=t,a=sE(s.getValue(),e,n);return a!==s.getValue()||i!==s.getPriority().val()?new gi(a,Ae(i)):t}else{let s=t;return o=s,i!==s.getPriority().val()&&(o=o.updatePriority(new gi(i))),s.forEachChild(le,(a,c)=>{let l=Qp(c,e.getImmediateChild(a),n);l!==c&&(o=o.updateImmediateChild(a,l))}),o}}var us=class{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}};function Zp(t,e){let n=e instanceof te?e:new te(e),r=t,i=B(n);for(;i!==null;){let o=tr(r.node.children,i)||{children:{},childCount:0};r=new us(i,r,o),n=ie(n),i=B(n)}return r}function wi(t){return t.node.value}function ib(t,e){t.node.value=e,Tp(t)}function ob(t){return t.node.childCount>0}function j1(t){return wi(t)===void 0&&!ob(t)}function vl(t,e){Be(t.node.children,(n,r)=>{e(new us(n,t,r))})}function sb(t,e,n,r){n&&!r&&e(t),vl(t,i=>{sb(i,e,!0,r)}),n&&r&&e(t)}function U1(t,e,n){let r=n?t:t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function vs(t){return new te(t.parent===null?t.name:vs(t.parent)+"/"+t.name)}function Tp(t){t.parent!==null&&V1(t.parent,t.name,t)}function V1(t,e,n){let r=j1(n),i=Lt(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,Tp(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,Tp(t))}var $1=/[\[\].#$\/\u0000-\u001F\u007F]/,B1=/[\[\].#$\u0000-\u001F\u007F]/,Lh=10*1024*1024,ab=function(t){return typeof t=="string"&&t.length!==0&&!$1.test(t)},cb=function(t){return typeof t=="string"&&t.length!==0&&!B1.test(t)},H1=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),cb(t)};var lb=function(t,e,n){let r=n instanceof te?new Qh(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+cr(r));if(typeof e=="function")throw new Error(t+"contains a function "+cr(r)+" with contents = "+e.toString());if(hE(e))throw new Error(t+"contains "+e.toString()+" "+cr(r));if(typeof e=="string"&&e.length>Lh/3&&Lo(e)>Lh)throw new Error(t+"contains a string greater than "+Lh+" utf8 bytes "+cr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,o=!1;if(Be(e,(s,a)=>{if(s===".value")i=!0;else if(s!==".priority"&&s!==".sv"&&(o=!0,!ab(s)))throw new Error(t+" contains an invalid key ("+s+") "+cr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);wk(r,s),lb(t,a,r),Ek(r)}),i&&o)throw new Error(t+' contains ".value" child '+cr(r)+" in addition to actual children.")}};var ub=function(t,e,n,r){if(!(r&&n===void 0)&&!cb(n))throw new Error(Jf(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},W1=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),ub(t,e,n,r)};var z1=function(t,e){let n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!ab(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!H1(n))throw new Error(Jf(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var Sp=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function db(t,e){let n=null;for(let r=0;r<e.length;r++){let i=e[r],o=i.getPath();n!==null&&!jp(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(i)}n&&t.eventLists_.push(n)}function fb(t,e,n){db(t,n),hb(t,r=>jp(r,e))}function pr(t,e,n){db(t,n),hb(t,r=>Et(r,e)||Et(e,r))}function hb(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){let i=t.eventLists_[r];if(i){let o=i.path;e(o)?(G1(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function G1(t){for(let e=0;e<t.events.length;e++){let n=t.events[e];if(n!==null){t.events[e]=null;let r=n.getEventRunner();ur&&Se("event: "+n.toString()),ps(r)}}}var q1="repo_interrupt",K1=25,Ap=class{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Sp,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=el(),this.transactionQueueTree_=new us,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function Y1(t,e,n){if(t.stats_=Fp(t.repoInfo_),t.forceRestClient_||QP())t.server_=new ap(t.repoInfo_,(r,i,o,s)=>{aE(t,r,i,o,s)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>cE(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{_e(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Up(t.repoInfo_,e,(r,i,o,s)=>{aE(t,r,i,o,s)},r=>{cE(t,r)},r=>{Z1(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=JP(t.repoInfo_,()=>new dp(t.stats_,t.server_)),t.infoData_=new cp,t.infoSyncTree_=new cl({startListening:(r,i,o,s)=>{let a=[],c=t.infoData_.getNode(r._path);return c.isEmpty()||(a=gl(t.infoSyncTree_,r._path,c),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),Jp(t,"connected",!1),t.serverSyncTree_=new cl({startListening:(r,i,o,s)=>(t.server_.listen(r,o,i,(a,c)=>{let l=s(a,c);pr(t.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function Q1(t){let n=t.infoData_.getNode(new te(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function pb(t){return O1({timestamp:Q1(t)})}function aE(t,e,n,r,i){t.dataUpdateCount++;let o=new te(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let s=[];if(i)if(r){let c=Oo(n,l=>Ae(l));s=A1(t.serverSyncTree_,o,c,i)}else{let c=Ae(n);s=S1(t.serverSyncTree_,o,c,i)}else if(r){let c=Oo(n,l=>Ae(l));s=C1(t.serverSyncTree_,o,c)}else{let c=Ae(n);s=gl(t.serverSyncTree_,o,c)}let a=o;s.length>0&&(a=eg(t,o)),pr(t.eventQueue_,a,s)}function cE(t,e){Jp(t,"connected",e),e===!1&&X1(t)}function Z1(t,e){Be(e,(n,r)=>{Jp(t,n,r)})}function Jp(t,e,n){let r=new te("/.info/"+e),i=Ae(n);t.infoData_.updateSnapshot(r,i);let o=gl(t.infoSyncTree_,r,i);pr(t.eventQueue_,r,o)}function J1(t){return t.nextWriteId_++}function X1(t){gb(t,"onDisconnectEvents");let e=pb(t),n=el();lp(t.onDisconnect_,J(),(i,o)=>{let s=L1(i,o,t.serverSyncTree_,e);VE(n,i,s)});let r=[];lp(n,J(),(i,o)=>{r=r.concat(gl(t.serverSyncTree_,i,o));let s=iL(t,i);eg(t,s)}),t.onDisconnect_=el(),pr(t.eventQueue_,J(),r)}function eL(t,e,n){let r;B(e._path)===".info"?r=oE(t.infoSyncTree_,e,n):r=oE(t.serverSyncTree_,e,n),fb(t.eventQueue_,e._path,r)}function lE(t,e,n){let r;B(e._path)===".info"?r=bp(t.infoSyncTree_,e,n):r=bp(t.serverSyncTree_,e,n),fb(t.eventQueue_,e._path,r)}function tL(t){t.persistentConnection_&&t.persistentConnection_.interrupt(q1)}function gb(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Se(n,...e)}function mb(t,e,n){return eb(t.serverSyncTree_,e,n)||k.EMPTY_NODE}function Xp(t,e=t.transactionQueueTree_){if(e||yl(t,e),wi(e)){let n=yb(t,e);m(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&nL(t,vs(e),n)}else ob(e)&&vl(e,n=>{Xp(t,n)})}function nL(t,e,n){let r=n.map(l=>l.currentWriteId),i=mb(t,e,r),o=i,s=i.hash();for(let l=0;l<n.length;l++){let u=n[l];m(u.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;let d=$e(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}let a=o.val(!0),c=e;t.server_.put(c.toString(),a,l=>{gb(t,"transaction put response",{path:c.toString(),status:l});let u=[];if(l==="ok"){let d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(li(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();yl(t,Zp(t.transactionQueueTree_,e)),Xp(t,t.transactionQueueTree_),pr(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)ps(d[f])}else{if(l==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{rt("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}eg(t,e)}},s)}function eg(t,e){let n=vb(t,e),r=vs(n),i=yb(t,n);return rL(t,i,r),r}function rL(t,e,n){if(e.length===0)return;let r=[],i=[],s=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let c=e[a],l=$e(n,c.path),u=!1,d;if(m(l!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)u=!0,d=c.abortReason,i=i.concat(li(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=K1)u=!0,d="maxretry",i=i.concat(li(t.serverSyncTree_,c.currentWriteId,!0));else{let f=mb(t,c.path,s);c.currentInputSnapshot=f;let h=e[a].update(f.val());if(h!==void 0){lb("transaction failed: Data returned ",h,c.path);let p=Ae(h);typeof h=="object"&&h!=null&&Lt(h,".priority")||(p=p.updatePriority(f.getPriority()));let R=c.currentWriteId,j=pb(t),ue=F1(p,f,j);c.currentOutputSnapshotRaw=p,c.currentOutputSnapshotResolved=ue,c.currentWriteId=J1(t),s.splice(s.indexOf(R),1),i=i.concat(b1(t.serverSyncTree_,c.path,ue,c.currentWriteId,c.applyLocally)),i=i.concat(li(t.serverSyncTree_,R,!0))}else u=!0,d="nodata",i=i.concat(li(t.serverSyncTree_,c.currentWriteId,!0))}pr(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,function(f){setTimeout(f,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(d==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(d),!1,null))))}yl(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)ps(r[a]);Xp(t,t.transactionQueueTree_)}function vb(t,e){let n,r=t.transactionQueueTree_;for(n=B(e);n!==null&&wi(r)===void 0;)r=Zp(r,n),e=ie(e),n=B(e);return r}function yb(t,e){let n=[];return _b(t,e,n),n.sort((r,i)=>r.order-i.order),n}function _b(t,e,n){let r=wi(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);vl(e,i=>{_b(t,i,n)})}function yl(t,e){let n=wi(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,ib(e,n.length>0?n:void 0)}vl(e,r=>{yl(t,r)})}function iL(t,e){let n=vs(vb(t,e)),r=Zp(t.transactionQueueTree_,e);return U1(r,i=>{Fh(t,i)}),Fh(t,r),sb(r,i=>{Fh(t,i)}),n}function Fh(t,e){let n=wi(e);if(n){let r=[],i=[],o=-1;for(let s=0;s<n.length;s++)n[s].status===3||(n[s].status===1?(m(o===s-1,"All SENT items should be at beginning of queue."),o=s,n[s].status=3,n[s].abortReason="set"):(m(n[s].status===0,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(li(t.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));o===-1?ib(e,void 0):n.length=o+1,pr(t.eventQueue_,vs(e),i);for(let s=0;s<r.length;s++)ps(r[s])}}function oL(t){let e="",n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function sL(t){let e={};t.charAt(0)==="?"&&(t=t.substring(1));for(let n of t.split("&")){if(n.length===0)continue;let r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):rt(`Invalid query segment '${n}' in query '${t}'`)}return e}var uE=function(t,e){let n=aL(t),r=n.namespace;n.domain==="firebase.com"&&tn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&tn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||$P();let i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Gc(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new te(n.pathString)}},aL=function(t){let e="",n="",r="",i="",o="",s=!0,a="https",c=443;if(typeof t=="string"){let l=t.indexOf("//");l>=0&&(a=t.substring(0,l-1),t=t.substring(l+2));let u=t.indexOf("/");u===-1&&(u=t.length);let d=t.indexOf("?");d===-1&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=oL(t.substring(u,d)));let f=sL(t.substring(Math.min(t.length,d)));l=e.indexOf(":"),l>=0?(s=a==="https"||a==="wss",c=parseInt(e.substring(l+1),10)):l=e.length;let h=e.slice(0,l);if(h.toLowerCase()==="localhost")n="localhost";else if(h.split(".").length<=2)n=h;else{let p=e.indexOf(".");r=e.substring(0,p).toLowerCase(),n=e.substring(p+1),o=r}"ns"in f&&(o=f.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};var ul=class{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+_e(this.snapshot.exportVal())}},dl=class{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var Mp=class{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return m(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var Np=class t{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return H(this._path)?null:xE(this._path)}get ref(){return new rn(this._repo,this._path)}get _queryIdentifier(){let e=Kw(this._queryParams),n=Lp(e);return n==="{}"?"default":n}get _queryObject(){return Kw(this._queryParams)}isEqual(e){if(e=Ft(e),!(e instanceof t))return!1;let n=this._repo===e._repo,r=jp(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Ik(this._path)}};var rn=class t extends Np{constructor(e,n){super(e,n,new sp,!1)}get parent(){let e=OE(this._path);return e===null?null:new t(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},fl=class t{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let n=new te(e),r=ds(this.ref,e);return new t(this._node.getChild(n),r,le)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new t(i,ds(this.ref,r),le)))}hasChild(e){let n=new te(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function Ib(t,e){return t=Ft(t),t._checkNotDeleted("ref"),e!==void 0?ds(t._root,e):t._root}function ds(t,e){return t=Ft(t),B(t._path)===null?W1("child","path",e,!1):ub("child","path",e,!1),new rn(t._repo,Ie(t._path,e))}var xp=class t{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){let r=n._queryParams.getIndex();return new ul("value",this,new fl(e.snapshotNode,new rn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new dl(this,e,n):null}matches(e){return e instanceof t?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},Rp=class t{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new dl(this,e,n):null}createEvent(e,n){m(e.childName!=null,"Child events should have a childName.");let r=ds(new rn(n._repo,n._path),e.childName),i=n._queryParams.getIndex();return new ul(e.type,this,new fl(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof t?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function cL(t,e,n,r,i){let o;if(typeof r=="object"&&(o=void 0,i=r),typeof r=="function"&&(o=r),i&&i.onlyOnce){let c=n,l=(u,d)=>{lE(t._repo,t,a),c(u,d)};l.userCallback=n.userCallback,l.context=n.context,n=l}let s=new Mp(n,o||void 0),a=e==="value"?new xp(s):new Rp(e,s);return eL(t._repo,t,a),()=>lE(t._repo,t,a)}function wb(t,e,n,r){return cL(t,"value",e,n,r)}p1(rn);I1(rn);var lL="FIREBASE_DATABASE_EMULATOR_HOST",Op={},uL=!1;function dL(t,e,n,r){t.repoInfo_=new Gc(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function fL(t,e,n,r,i){let o=r||t.options.databaseURL;o===void 0&&(t.options.projectId||tn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Se("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let s=uE(o,i),a=s.repoInfo,c,l;typeof process<"u"&&process.env&&(l=process.env[lL]),l?(c=!0,o=`http://${l}?ns=${a.namespace}`,s=uE(o,i),a=s.repoInfo):c=!s.repoInfo.secure;let u=i&&c?new ns(ns.OWNER):new Hh(t.name,t.options,e);z1("Invalid Firebase Database URL",s),H(s.path)||tn("Database URL must point to the root of a Firebase Database (not including a child path).");let d=pL(a,t,u,new Bh(t.name,n));return new Pp(d,t)}function hL(t,e){let n=Op[e];(!n||n[t.key]!==t)&&tn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),tL(t),delete n[t.key]}function pL(t,e,n,r){let i=Op[e.name];i||(i={},Op[e.name]=i);let o=i[t.toURLString()];return o&&tn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Ap(t,uL,n,r),i[t.toURLString()]=o,o}var Pp=class{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(Y1(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new rn(this._repo,J())),this._rootInternal}_delete(){return this._rootInternal!==null&&(hL(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&tn("Cannot call "+e+" on a deleted database.")}};function Eb(t=Vo(),e){let n=fh(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){let r=UI("database");r&&bb(n,...r)}return n}function bb(t,e,n,r={}){t=Ft(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&tn("Cannot call useEmulator() after instance has already been initialized.");let i=t._repoInternal,o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&tn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new ns(ns.OWNER);else if(r.mockUserToken){let s=typeof r.mockUserToken=="string"?r.mockUserToken:$I(r.mockUserToken,t.app.options.projectId);o=new ns(s)}dL(i,e,n,o)}function gL(t){jP(ii),Cn(new ut("database",(e,{instanceIdentifier:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return fL(r,i,o,n)},"PUBLIC").setMultipleInstances(!0)),Ce(xw,Rw,t),Ce(xw,Rw,"esm2017")}Up.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Up.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};gL();var gr=class{constructor(e){return e}},Cb="database",tg=class{constructor(){return Bo(Cb)}};var ng=new D("angularfire2.database-instances");function mL(t,e){let n=gh(Cb,t,e);return n&&new gr(n)}function vL(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new gr(r)}}var yL={provide:tg,deps:[[new at,ng]]},_L={provide:gr,useFactory:mL,deps:[[new at,ng],or]};function Db(t,...e){return Ce("angularfire",si.full,"rtdb"),qt([_L,yL,{provide:ng,useFactory:vL(t),multi:!0,deps:[Y,Oe,Ho,Wo,[new at,Hc],[new at,$o],...e]}])}var Tb=ir(Eb,!0);var Sb=ir(wb,!0);var Ab=ir(Ib,!0);var _l=class{constructor(e,n,r,i){this.Name="",this.Description="",this.ImageLink="",this.GameLink="",this.Name=e,this.Description=n,this.ImageLink=r,this.GameLink=i}};var Il=class{constructor(e,n,r,i){this.Name="",this.Description="",this.ImageLink="",this.ProjectLink="",this.Name=e,this.Description=n,this.ImageLink=r,this.ProjectLink=i}};var Mb=(()=>{let e=class e{constructor(r){this.themeService=r,this.imageUrl="",this.title="",this.description="",this.link="",this.linkText="",this.currentTheme=""}ngOnInit(){this.themeService.currentTheme.subscribe(r=>{this.currentTheme=r})}};e.\u0275fac=function(i){return new(i||e)(re(Ue))},e.\u0275cmp=ge({type:e,selectors:[["app-card"]],inputs:{imageUrl:"imageUrl",title:"title",description:"description",link:"link",linkText:"linkText"},decls:11,vars:11,consts:[[1,"container"],["alt","",3,"src"],[2,"width","90%"],[2,"text-align","center"],["target","_blank",3,"href"]],template:function(i,o){i&1&&(v(0,"div",0),S(1,"img",1),v(2,"div",2)(3,"h3",3),A(4),y(),v(5,"p"),A(6),y(),v(7,"a",4)(8,"div"),A(9),L(10,"translation"),y()()()()),i&2&&(se("dark",o.currentTheme==="dark")("light",o.currentTheme==="light"),E(),Yt("src",o.imageUrl,vd),E(3),O(o.title),E(2),O(o.description),E(),Yt("href",o.link,vd),E(2),O(F(10,9,"cards.button.text")))},dependencies:[Ve],styles:[".container[_ngcontent-%COMP%]{border-radius:10px;margin:40px;max-width:330px;width:95%;display:flex;justify-content:space-between;align-items:center;flex-direction:column;transition-duration:.1s;text-align:justify;box-shadow:0 0 50px #ffffff03;color:#ffffffb3;cursor:pointer}.container.dark[_ngcontent-%COMP%]{background-color:#121212;color:#fff}.container.light[_ngcontent-%COMP%]{background-color:#fff;color:#121212}.container[_ngcontent-%COMP%]:hover{transform:scale(1.05);background-color:#ffffff1a;box-shadow:0 0 50px #fff3}img[_ngcontent-%COMP%]{border-radius:10px 10px 0 0;width:100%;height:180px}a[_ngcontent-%COMP%]{text-decoration:none;color:inherit;text-align:end;background-color:#f0f8ff}a[_ngcontent-%COMP%]:hover{transform:scale(1.1)}p[_ngcontent-%COMP%]{font-size:100%}"]});let t=e;return t})();function EL(t,e){if(t&1&&(v(0,"div"),S(1,"app-card",8),y()),t&2){let n=e.$implicit;E(),Yt("imageUrl",n.ImageLink)("title",n.Name)("description",n.Description)("link",n.GameLink)}}function bL(t,e){if(t&1&&(v(0,"div"),S(1,"app-card",8),y()),t&2){let n=e.$implicit;E(),Yt("imageUrl",n.ImageLink)("title",n.Name)("description",n.Description)("link",n.ProjectLink)}}var Nb=(()=>{let e=class e{constructor(r,i){this.dataBase=r,this.themeService=i,this.gameDetails=[],this.projectDetails=[],this.currentTheme="",this.getProjectsFromFirebase()}ngOnInit(){this.themeService.currentTheme.subscribe(r=>{this.currentTheme=r})}getProjectsFromFirebase(){let r=Ab(this.dataBase,"project");Sb(r,i=>{let o=i.val();o?Object.keys(o).forEach(s=>{let a=o[s];a.ProjectCategoryu==="Game"?this.gameDetails.unshift(new _l(a.ProjectName,a.ProjectDescription,a.ProjectImageLink,a.ProjectLink)):this.projectDetails.unshift(new Il(a.ProjectName,a.ProjectDescription,a.ProjectImageLink,a.ProjectLink))}):console.log("No data available")})}};e.\u0275fac=function(i){return new(i||e)(re(gr),re(Ue))},e.\u0275cmp=ge({type:e,selectors:[["app-projects"]],decls:15,vars:12,consts:[[1,"container"],["id","games"],[2,"text-align","center","margin-top","200px"],[2,"width","30%","height","3px","background-color","rgba(255, 255, 255, 0.2)","border-radius","20px"],[2,"display","flex","justify-content","center","flex-wrap","wrap","width","98%"],[4,"ngFor","ngForOf"],["id","projects"],[2,"width","30%","height","3px","background-color","rgba(255, 255, 255, 0.2)","margin-bottom","50px","border-radius","20px"],[3,"imageUrl","title","description","link"]],template:function(i,o){i&1&&(v(0,"div",0),S(1,"div",1),v(2,"h1",2),A(3),L(4,"translation"),y(),S(5,"div",3),v(6,"div",4),Wa(7,EL,2,4,"div",5),y(),S(8,"div",6),v(9,"h1",2),A(10),L(11,"translation"),y(),S(12,"div",7),v(13,"div",4),Wa(14,bL,2,4,"div",5),y()()),i&2&&(se("dark",o.currentTheme==="dark")("light",o.currentTheme==="light"),E(3),O(F(4,8,"navbar.button.games")),E(4),Yt("ngForOf",o.gameDetails),E(3),O(F(11,10,"navbar.button.projects")),E(4),Yt("ngForOf",o.projectDetails))},dependencies:[l_,Mb,Ve],styles:[".container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column;transition:background-color .5s ease,color .5s ease}.container.dark[_ngcontent-%COMP%]{background-color:#121212;color:#fff}.container.light[_ngcontent-%COMP%]{background-color:#fff;color:#121212}"]});let t=e;return t})();var xb=(()=>{let e=class e{constructor(){this.title="portfolio2"}};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=ge({type:e,selectors:[["app-root"]],decls:7,vars:0,consts:[["id","home"],["id","services"],["id","contact"]],template:function(i,o){i&1&&S(0,"app-navbar")(1,"app-home",0)(2,"app-projects")(3,"app-services",1)(4,"app-me")(5,"div",2)(6,"app-contact")},dependencies:[MI,NI,xI,RI,OI,Nb]});let t=e;return t})();var Rb=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Xe({type:t});static \u0275inj=Je({imports:[Ja]})}return t})();var Ob="AIzaSyCyO9aapJzt7ebk62P6QbKfc1ayy_pywsc";var Pb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Xe({type:e,bootstrap:[xb]}),e.\u0275inj=Je({providers:[O_(),dw(()=>fw({projectId:"portfolio-projects-83398",appId:"1:890483621302:web:994c5cbaadb2f1d8381517",databaseURL:"https://portfolio-projects-83398-default-rtdb.firebaseio.com",storageBucket:"portfolio-projects-83398.appspot.com",apiKey:Ob,authDomain:"portfolio-projects-83398.firebaseapp.com",messagingSenderId:"890483621302",measurementId:"G-4B9GFJ0WH8"})),Db(()=>Tb())],imports:[x_,bI,Rb]});let t=e;return t})();N_().bootstrapModule(Pb).catch(t=>console.error(t));
